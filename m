Return-Path: <driverdev-devel-bounces@linuxdriverproject.org>
X-Original-To: lists+driverdev-devel@lfdr.de
Delivered-To: lists+driverdev-devel@lfdr.de
Received: from whitealder.osuosl.org (smtp1.osuosl.org [140.211.166.138])
	by mail.lfdr.de (Postfix) with ESMTPS id A063811834E
	for <lists+driverdev-devel@lfdr.de>; Tue, 10 Dec 2019 10:15:50 +0100 (CET)
Received: from localhost (localhost [127.0.0.1])
	by whitealder.osuosl.org (Postfix) with ESMTP id 47DB4872E9;
	Tue, 10 Dec 2019 09:15:48 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from whitealder.osuosl.org ([127.0.0.1])
	by localhost (.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 4EsCEh1jrOBq; Tue, 10 Dec 2019 09:15:47 +0000 (UTC)
Received: from ash.osuosl.org (ash.osuosl.org [140.211.166.34])
	by whitealder.osuosl.org (Postfix) with ESMTP id E07508732C;
	Tue, 10 Dec 2019 09:15:28 +0000 (UTC)
X-Original-To: devel@linuxdriverproject.org
Delivered-To: driverdev-devel@osuosl.org
Received: from fraxinus.osuosl.org (smtp4.osuosl.org [140.211.166.137])
 by ash.osuosl.org (Postfix) with ESMTP id B88631BF2A0
 for <devel@linuxdriverproject.org>; Tue, 10 Dec 2019 09:15:25 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by fraxinus.osuosl.org (Postfix) with ESMTP id B49AB85F9D
 for <devel@linuxdriverproject.org>; Tue, 10 Dec 2019 09:15:25 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from fraxinus.osuosl.org ([127.0.0.1])
 by localhost (.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id UvTxdO-T2NFv for <devel@linuxdriverproject.org>;
 Tue, 10 Dec 2019 09:15:18 +0000 (UTC)
X-Greylist: from auto-whitelisted by SQLgrey-1.7.6
Received: from mail.kernel.org (mail.kernel.org [198.145.29.99])
 by fraxinus.osuosl.org (Postfix) with ESMTPS id 3F49584B46
 for <devel@driverdev.osuosl.org>; Tue, 10 Dec 2019 09:15:18 +0000 (UTC)
Received: from localhost (83-86-89-107.cable.dynamic.v4.ziggo.nl
 [83.86.89.107])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id 0DF04206E0;
 Tue, 10 Dec 2019 09:15:17 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=default; t=1575969318;
 bh=QVe9MRMimvHt5GX0T2ZaPKOjDNHB4FoU2Pjev4XBLds=;
 h=From:To:Cc:Subject:Date:From;
 b=Sf1bOaCrePxb7377wPbwG6W5HtPgczjgmWiT+9xiQTNasqNkeZNo+Y8ctDgiE702y
 o4F9rpFPfEJrR9SGzACyQxH59IHKctGaVijzUrBm/jNdoxUW6g4ClhIhLCLQPaFCLo
 cbSbB5UlsgazE2ZjJIV0KGlEeGBPlX+GZeENmX/c=
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: devel@driverdev.osuosl.org
Subject: [PATCH 1/2] staging: octeon: delete driver
Date: Tue, 10 Dec 2019 10:15:08 +0100
Message-Id: <20191210091509.3546251-1-gregkh@linuxfoundation.org>
X-Mailer: git-send-email 2.24.0
MIME-Version: 1.0
X-BeenThere: driverdev-devel@linuxdriverproject.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Linux Driver Project Developer List
 <driverdev-devel.linuxdriverproject.org>
List-Unsubscribe: <http://driverdev.linuxdriverproject.org/mailman/options/driverdev-devel>, 
 <mailto:driverdev-devel-request@linuxdriverproject.org?subject=unsubscribe>
List-Archive: <http://driverdev.linuxdriverproject.org/pipermail/driverdev-devel/>
List-Post: <mailto:driverdev-devel@linuxdriverproject.org>
List-Help: <mailto:driverdev-devel-request@linuxdriverproject.org?subject=help>
List-Subscribe: <http://driverdev.linuxdriverproject.org/mailman/listinfo/driverdev-devel>, 
 <mailto:driverdev-devel-request@linuxdriverproject.org?subject=subscribe>
Cc: Branden Bonaby <brandonbonaby94@gmail.com>,
 Giovanni Gherdovich <bobdc9664@seznam.cz>, Florian Westphal <fw@strlen.de>,
 Paul Burton <paulburton@kernel.org>, Aaro Koskinen <aaro.koskinen@iki.fi>,
 Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
 YueHaibing <yuehaibing@huawei.com>, linux-kernel@vger.kernel.org,
 "Matthew Wilcox \(Oracle\)" <willy@infradead.org>,
 David Daney <ddaney@caviumnetworks.com>, Julia Lawall <julia.lawall@lip6.fr>,
 Sandro Volery <sandro@volery.com>, Geert Uytterhoeven <geert@linux-m68k.org>,
 Dan Carpenter <dan.carpenter@oracle.com>, Valery Ivanov <ivalery111@gmail.com>,
 =?UTF-8?q?Petr=20=C5=A0tetiar?= <ynezz@true.cz>,
 "David S. Miller" <davem@davemloft.net>, Guenter Roeck <linux@roeck-us.net>,
 Wambui Karuga <wambui.karugax@gmail.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: driverdev-devel-bounces@linuxdriverproject.org
Sender: "devel" <driverdev-devel-bounces@linuxdriverproject.org>

VGhpcyBkcml2ZXIgaGFzIGJlZW4gaW4gdGhlIHRyZWUgc2luY2UgMjAwOSB3aXRoIG5vIHJlYWwg
bW92ZW1lbnQgdG8gZ2V0Cml0IG91dC4gIE5vdyBpdCBpcyBzdGFydGluZyB0byBjYXVzZSBidWls
ZCBpc3N1ZXMgYW5kIG90aGVyIHByb2JsZW1zIGZvcgpwZW9wbGUgd2hvIHdhbnQgdG8gZml4IGNv
ZGluZyBzdHlsZSBwcm9ibGVtcywgYnV0IGNhbiBub3QgYWN0dWFsbHkgYnVpbGQKaXQuCgpBcyBu
b3RoaW5nIGlzIGhhcHBlbmluZyBoZXJlLCBqdXN0IGRlbGV0ZSB0aGUgbW9kdWxlIGVudGlyZWx5
LgoKUmVwb3J0ZWQtYnk6IEd1ZW50ZXIgUm9lY2sgPGxpbnV4QHJvZWNrLXVzLm5ldD4KQ2M6IERh
dmlkIERhbmV5IDxkZGFuZXlAY2F2aXVtbmV0d29ya3MuY29tPgpDYzogIkRhdmlkIFMuIE1pbGxl
ciIgPGRhdmVtQGRhdmVtbG9mdC5uZXQ+CkNjOiAiTWF0dGhldyBXaWxjb3ggKE9yYWNsZSkiIDx3
aWxseUBpbmZyYWRlYWQub3JnPgpDYzogR3VlbnRlciBSb2VjayA8bGludXhAcm9lY2stdXMubmV0
PgpDYzogWXVlSGFpYmluZyA8eXVlaGFpYmluZ0BodWF3ZWkuY29tPgpDYzogQWFybyBLb3NraW5l
biA8YWFyby5rb3NraW5lbkBpa2kuZmk+CkNjOiBXYW1idWkgS2FydWdhIDx3YW1idWkua2FydWdh
eEBnbWFpbC5jb20+CkNjOiBKdWxpYSBMYXdhbGwgPGp1bGlhLmxhd2FsbEBsaXA2LmZyPgpDYzog
RmxvcmlhbiBXZXN0cGhhbCA8ZndAc3RybGVuLmRlPgpDYzogR2VlcnQgVXl0dGVyaG9ldmVuIDxn
ZWVydEBsaW51eC1tNjhrLm9yZz4KQ2M6IEJyYW5kZW4gQm9uYWJ5IDxicmFuZG9uYm9uYWJ5OTRA
Z21haWwuY29tPgpDYzogIlBldHIgxaB0ZXRpYXIiIDx5bmV6ekB0cnVlLmN6PgpDYzogU2FuZHJv
IFZvbGVyeSA8c2FuZHJvQHZvbGVyeS5jb20+CkNjOiBQYXVsIEJ1cnRvbiA8cGF1bGJ1cnRvbkBr
ZXJuZWwub3JnPgpDYzogRGFuIENhcnBlbnRlciA8ZGFuLmNhcnBlbnRlckBvcmFjbGUuY29tPgpD
YzogR2lvdmFubmkgR2hlcmRvdmljaCA8Ym9iZGM5NjY0QHNlem5hbS5jej4KQ2M6IFZhbGVyeSBJ
dmFub3YgPGl2YWxlcnkxMTFAZ21haWwuY29tPgpTaWduZWQtb2ZmLWJ5OiBHcmVnIEtyb2FoLUhh
cnRtYW4gPGdyZWdraEBsaW51eGZvdW5kYXRpb24ub3JnPgotLS0KIGRyaXZlcnMvc3RhZ2luZy9L
Y29uZmlnICAgICAgICAgICAgICAgICAgIHwgICAgMiAtCiBkcml2ZXJzL3N0YWdpbmcvTWFrZWZp
bGUgICAgICAgICAgICAgICAgICB8ICAgIDEgLQogZHJpdmVycy9zdGFnaW5nL29jdGVvbi9LY29u
ZmlnICAgICAgICAgICAgfCAgIDE2IC0KIGRyaXZlcnMvc3RhZ2luZy9vY3Rlb24vTWFrZWZpbGUg
ICAgICAgICAgIHwgICAxOSAtCiBkcml2ZXJzL3N0YWdpbmcvb2N0ZW9uL1RPRE8gICAgICAgICAg
ICAgICB8ICAgIDkgLQogZHJpdmVycy9zdGFnaW5nL29jdGVvbi9ldGhlcm5ldC1kZWZpbmVzLmgg
fCAgIDQwIC0KIGRyaXZlcnMvc3RhZ2luZy9vY3Rlb24vZXRoZXJuZXQtbWRpby5jICAgIHwgIDE3
OCAtLS0KIGRyaXZlcnMvc3RhZ2luZy9vY3Rlb24vZXRoZXJuZXQtbWRpby5oICAgIHwgICAyOCAt
CiBkcml2ZXJzL3N0YWdpbmcvb2N0ZW9uL2V0aGVybmV0LW1lbS5jICAgICB8ICAxNTQgLS0tCiBk
cml2ZXJzL3N0YWdpbmcvb2N0ZW9uL2V0aGVybmV0LW1lbS5oICAgICB8ICAgIDkgLQogZHJpdmVy
cy9zdGFnaW5nL29jdGVvbi9ldGhlcm5ldC1yZ21paS5jICAgfCAgMTU4IC0tLQogZHJpdmVycy9z
dGFnaW5nL29jdGVvbi9ldGhlcm5ldC1yeC5jICAgICAgfCAgNTM4IC0tLS0tLS0tCiBkcml2ZXJz
L3N0YWdpbmcvb2N0ZW9uL2V0aGVybmV0LXJ4LmggICAgICB8ICAgMzEgLQogZHJpdmVycy9zdGFn
aW5nL29jdGVvbi9ldGhlcm5ldC1zZ21paS5jICAgfCAgIDMwIC0KIGRyaXZlcnMvc3RhZ2luZy9v
Y3Rlb24vZXRoZXJuZXQtc3BpLmMgICAgIHwgIDIyNiAtLS0tCiBkcml2ZXJzL3N0YWdpbmcvb2N0
ZW9uL2V0aGVybmV0LXR4LmMgICAgICB8ICA3MTcgLS0tLS0tLS0tLS0KIGRyaXZlcnMvc3RhZ2lu
Zy9vY3Rlb24vZXRoZXJuZXQtdHguaCAgICAgIHwgICAxNCAtCiBkcml2ZXJzL3N0YWdpbmcvb2N0
ZW9uL2V0aGVybmV0LXV0aWwuaCAgICB8ICAgNDcgLQogZHJpdmVycy9zdGFnaW5nL29jdGVvbi9l
dGhlcm5ldC5jICAgICAgICAgfCAgOTkyIC0tLS0tLS0tLS0tLS0tCiBkcml2ZXJzL3N0YWdpbmcv
b2N0ZW9uL29jdGVvbi1ldGhlcm5ldC5oICB8ICAxMDcgLS0KIGRyaXZlcnMvc3RhZ2luZy9vY3Rl
b24vb2N0ZW9uLXN0dWJzLmggICAgIHwgMTQzMyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0KIDIxIGZp
bGVzIGNoYW5nZWQsIDQ3NDkgZGVsZXRpb25zKC0pCiBkZWxldGUgbW9kZSAxMDA2NDQgZHJpdmVy
cy9zdGFnaW5nL29jdGVvbi9LY29uZmlnCiBkZWxldGUgbW9kZSAxMDA2NDQgZHJpdmVycy9zdGFn
aW5nL29jdGVvbi9NYWtlZmlsZQogZGVsZXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvc3RhZ2luZy9v
Y3Rlb24vVE9ETwogZGVsZXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvc3RhZ2luZy9vY3Rlb24vZXRo
ZXJuZXQtZGVmaW5lcy5oCiBkZWxldGUgbW9kZSAxMDA2NDQgZHJpdmVycy9zdGFnaW5nL29jdGVv
bi9ldGhlcm5ldC1tZGlvLmMKIGRlbGV0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL3N0YWdpbmcvb2N0
ZW9uL2V0aGVybmV0LW1kaW8uaAogZGVsZXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvc3RhZ2luZy9v
Y3Rlb24vZXRoZXJuZXQtbWVtLmMKIGRlbGV0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL3N0YWdpbmcv
b2N0ZW9uL2V0aGVybmV0LW1lbS5oCiBkZWxldGUgbW9kZSAxMDA2NDQgZHJpdmVycy9zdGFnaW5n
L29jdGVvbi9ldGhlcm5ldC1yZ21paS5jCiBkZWxldGUgbW9kZSAxMDA2NDQgZHJpdmVycy9zdGFn
aW5nL29jdGVvbi9ldGhlcm5ldC1yeC5jCiBkZWxldGUgbW9kZSAxMDA2NDQgZHJpdmVycy9zdGFn
aW5nL29jdGVvbi9ldGhlcm5ldC1yeC5oCiBkZWxldGUgbW9kZSAxMDA2NDQgZHJpdmVycy9zdGFn
aW5nL29jdGVvbi9ldGhlcm5ldC1zZ21paS5jCiBkZWxldGUgbW9kZSAxMDA2NDQgZHJpdmVycy9z
dGFnaW5nL29jdGVvbi9ldGhlcm5ldC1zcGkuYwogZGVsZXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMv
c3RhZ2luZy9vY3Rlb24vZXRoZXJuZXQtdHguYwogZGVsZXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMv
c3RhZ2luZy9vY3Rlb24vZXRoZXJuZXQtdHguaAogZGVsZXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMv
c3RhZ2luZy9vY3Rlb24vZXRoZXJuZXQtdXRpbC5oCiBkZWxldGUgbW9kZSAxMDA2NDQgZHJpdmVy
cy9zdGFnaW5nL29jdGVvbi9ldGhlcm5ldC5jCiBkZWxldGUgbW9kZSAxMDA2NDQgZHJpdmVycy9z
dGFnaW5nL29jdGVvbi9vY3Rlb24tZXRoZXJuZXQuaAogZGVsZXRlIG1vZGUgMTAwNjQ0IGRyaXZl
cnMvc3RhZ2luZy9vY3Rlb24vb2N0ZW9uLXN0dWJzLmgKCmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0
YWdpbmcvS2NvbmZpZyBiL2RyaXZlcnMvc3RhZ2luZy9LY29uZmlnCmluZGV4IGVhZjc1M2I3MGVj
NS4uMTVkMzU0OWU3Y2M3IDEwMDY0NAotLS0gYS9kcml2ZXJzL3N0YWdpbmcvS2NvbmZpZworKysg
Yi9kcml2ZXJzL3N0YWdpbmcvS2NvbmZpZwpAQCAtNDIsOCArNDIsNiBAQCBzb3VyY2UgImRyaXZl
cnMvc3RhZ2luZy9ydGw4MTg4ZXUvS2NvbmZpZyIKIAogc291cmNlICJkcml2ZXJzL3N0YWdpbmcv
cnRzNTIwOC9LY29uZmlnIgogCi1zb3VyY2UgImRyaXZlcnMvc3RhZ2luZy9vY3Rlb24vS2NvbmZp
ZyIKLQogc291cmNlICJkcml2ZXJzL3N0YWdpbmcvb2N0ZW9uLXVzYi9LY29uZmlnIgogCiBzb3Vy
Y2UgImRyaXZlcnMvc3RhZ2luZy92dDY2NTUvS2NvbmZpZyIKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
c3RhZ2luZy9NYWtlZmlsZSBiL2RyaXZlcnMvc3RhZ2luZy9NYWtlZmlsZQppbmRleCAwYTQzOTZj
OTA2N2IuLmM1MjEyMDQyMjBiNSAxMDA2NDQKLS0tIGEvZHJpdmVycy9zdGFnaW5nL01ha2VmaWxl
CisrKyBiL2RyaXZlcnMvc3RhZ2luZy9NYWtlZmlsZQpAQCAtMTIsNyArMTIsNiBAQCBvYmotJChD
T05GSUdfUjg3MTJVKQkJKz0gcnRsODcxMi8KIG9iai0kKENPTkZJR19SODE4OEVVKQkJKz0gcnRs
ODE4OGV1Lwogb2JqLSQoQ09ORklHX1JUUzUyMDgpCQkrPSBydHM1MjA4Lwogb2JqLSQoQ09ORklH
X05FVExPR0lDX1hMUl9ORVQpCSs9IG5ldGxvZ2ljLwotb2JqLSQoQ09ORklHX09DVEVPTl9FVEhF
Uk5FVCkJKz0gb2N0ZW9uLwogb2JqLSQoQ09ORklHX09DVEVPTl9VU0IpCSs9IG9jdGVvbi11c2Iv
CiBvYmotJChDT05GSUdfVlQ2NjU1KQkJKz0gdnQ2NjU1Lwogb2JqLSQoQ09ORklHX1ZUNjY1NikJ
CSs9IHZ0NjY1Ni8KZGlmZiAtLWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9vY3Rlb24vS2NvbmZpZyBi
L2RyaXZlcnMvc3RhZ2luZy9vY3Rlb24vS2NvbmZpZwpkZWxldGVkIGZpbGUgbW9kZSAxMDA2NDQK
aW5kZXggZTdmNGRkY2MxMzYxLi4wMDAwMDAwMDAwMDAKLS0tIGEvZHJpdmVycy9zdGFnaW5nL29j
dGVvbi9LY29uZmlnCisrKyAvZGV2L251bGwKQEAgLTEsMTYgKzAsMCBAQAotIyBTUERYLUxpY2Vu
c2UtSWRlbnRpZmllcjogR1BMLTIuMAotY29uZmlnIE9DVEVPTl9FVEhFUk5FVAotCXRyaXN0YXRl
ICJDYXZpdW0gTmV0d29ya3MgT2N0ZW9uIEV0aGVybmV0IHN1cHBvcnQiCi0JZGVwZW5kcyBvbiBD
QVZJVU1fT0NURU9OX1NPQyB8fCBDT01QSUxFX1RFU1QKLQlkZXBlbmRzIG9uIE5FVERFVklDRVMK
LQlkZXBlbmRzIG9uIEJST0tFTgotCXNlbGVjdCBQSFlMSUIKLQlzZWxlY3QgTURJT19PQ1RFT04K
LQloZWxwCi0JICBUaGlzIGRyaXZlciBzdXBwb3J0cyB0aGUgYnVpbHRpbiBldGhlcm5ldCBwb3J0
cyBvbiBDYXZpdW0KLQkgIE5ldHdvcmtzJyBwcm9kdWN0cyBpbiB0aGUgT2N0ZW9uIGZhbWlseS4g
VGhpcyBkcml2ZXIgc3VwcG9ydHMgdGhlCi0JICBDTjNYWFggYW5kIENONVhYWCBPY3Rlb24gcHJv
Y2Vzc29ycy4KLQotCSAgVG8gY29tcGlsZSB0aGlzIGRyaXZlciBhcyBhIG1vZHVsZSwgY2hvb3Nl
IE0gaGVyZS4gIFRoZSBtb2R1bGUKLQkgIHdpbGwgYmUgY2FsbGVkIG9jdGVvbi1ldGhlcm5ldC4K
LQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5nL29jdGVvbi9NYWtlZmlsZSBiL2RyaXZlcnMv
c3RhZ2luZy9vY3Rlb24vTWFrZWZpbGUKZGVsZXRlZCBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDM4
ODdjZjVmMWU4NC4uMDAwMDAwMDAwMDAwCi0tLSBhL2RyaXZlcnMvc3RhZ2luZy9vY3Rlb24vTWFr
ZWZpbGUKKysrIC9kZXYvbnVsbApAQCAtMSwxOSArMCwwIEBACi0jIFNQRFgtTGljZW5zZS1JZGVu
dGlmaWVyOiBHUEwtMi4wCi0jCi0jIENvcHlyaWdodCAoQykgMjAwNS0yMDA5IENhdml1bSBOZXR3
b3JrcwotIwotCi0jCi0jIE1ha2VmaWxlIGZvciBDYXZpdW0gT0NURU9OIG9uLWJvYXJkIGV0aGVy
bmV0IGRyaXZlcgotIwotCi1vYmotJHtDT05GSUdfT0NURU9OX0VUSEVSTkVUfSA6PSAgb2N0ZW9u
LWV0aGVybmV0Lm8KLQotb2N0ZW9uLWV0aGVybmV0LXkgOj0gZXRoZXJuZXQubwotb2N0ZW9uLWV0
aGVybmV0LXkgKz0gZXRoZXJuZXQtbWRpby5vCi1vY3Rlb24tZXRoZXJuZXQteSArPSBldGhlcm5l
dC1tZW0ubwotb2N0ZW9uLWV0aGVybmV0LXkgKz0gZXRoZXJuZXQtcmdtaWkubwotb2N0ZW9uLWV0
aGVybmV0LXkgKz0gZXRoZXJuZXQtcngubwotb2N0ZW9uLWV0aGVybmV0LXkgKz0gZXRoZXJuZXQt
c2dtaWkubwotb2N0ZW9uLWV0aGVybmV0LXkgKz0gZXRoZXJuZXQtc3BpLm8KLW9jdGVvbi1ldGhl
cm5ldC15ICs9IGV0aGVybmV0LXR4Lm8KZGlmZiAtLWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9vY3Rl
b24vVE9ETyBiL2RyaXZlcnMvc3RhZ2luZy9vY3Rlb24vVE9ETwpkZWxldGVkIGZpbGUgbW9kZSAx
MDA2NDQKaW5kZXggNjdhMGExZjZiOTIyLi4wMDAwMDAwMDAwMDAKLS0tIGEvZHJpdmVycy9zdGFn
aW5nL29jdGVvbi9UT0RPCisrKyAvZGV2L251bGwKQEAgLTEsOSArMCwwIEBACi1UaGlzIGRyaXZl
ciBpcyBmdW5jdGlvbmFsIGFuZCBzdXBwb3J0cyBFdGhlcm5ldCBvbiBPQ1RFT04rL09DVEVPTjIv
T0NURU9OMwotY2hpcHMgYXQgbGVhc3QgdXAgdG8gQ043MDMwLgotCi1UT0RPOgotCS0gZ2VuZXJh
bCBjb2RlIHJldmlldyBhbmQgY2xlYW4gdXAKLQktIG1ha2UgZHJpdmVyIHNlbGYtY29udGFpbmVk
IGluc3RlYWQgb2YgYmVpbmcgc3BsaXQgYmV0d2VlbiBzdGFnaW5nIGFuZAotCSAgYXJjaC9taXBz
L2Nhdml1bS1vY3Rlb24uCi0KLUNvbnRhY3Q6IEFhcm8gS29za2luZW4gPGFhcm8ua29za2luZW5A
aWtpLmZpPgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5nL29jdGVvbi9ldGhlcm5ldC1kZWZp
bmVzLmggYi9kcml2ZXJzL3N0YWdpbmcvb2N0ZW9uL2V0aGVybmV0LWRlZmluZXMuaApkZWxldGVk
IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggZWY5ZTc2N2IwZTJlLi4wMDAwMDAwMDAwMDAKLS0tIGEv
ZHJpdmVycy9zdGFnaW5nL29jdGVvbi9ldGhlcm5ldC1kZWZpbmVzLmgKKysrIC9kZXYvbnVsbApA
QCAtMSw0MCArMCwwIEBACi0vKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMCAqLwot
LyoKLSAqIFRoaXMgZmlsZSBpcyBiYXNlZCBvbiBjb2RlIGZyb20gT0NURU9OIFNESyBieSBDYXZp
dW0gTmV0d29ya3MuCi0gKgotICogQ29weXJpZ2h0IChjKSAyMDAzLTIwMDcgQ2F2aXVtIE5ldHdv
cmtzCi0gKi8KLQotLyoKLSAqIEEgZmV3IGRlZmluZXMgYXJlIHVzZWQgdG8gY29udHJvbCB0aGUg
b3BlcmF0aW9uIG9mIHRoaXMgZHJpdmVyOgotICogIFVTRV9BU1lOQ19JT0JETUEKLSAqICAgICAg
VXNlIGFzeW5jaHJvbm91cyBJTyBhY2Nlc3MgdG8gaGFyZHdhcmUuIFRoaXMgdXNlcyBPY3Rlb24n
cyBhc3luY2hyb25vdXMKLSAqICAgICAgSU9CRE1BcyB0byBpc3N1ZSBJTyBhY2Nlc3NlcyB3aXRo
b3V0IHN0YWxsaW5nLiBTZXQgdGhpcyB0byB6ZXJvCi0gKiAgICAgIHRvIGRpc2FibGUgdGhpcy4g
Tm90ZSB0aGF0IElPQkRNQXMgcmVxdWlyZSBDVk1TRUcuCi0gKiAgUkVVU0VfU0tCVUZGU19XSVRI
T1VUX0ZSRUUKLSAqICAgICAgQWxsb3dzIHRoZSBUWCBwYXRoIHRvIGZyZWUgYW4gc2tidWZmIGlu
dG8gdGhlIEZQQSBoYXJkd2FyZSBwb29sLiBUaGlzCi0gKiAgICAgIGNhbiBzaWduaWZpY2FudGx5
IGltcHJvdmUgcGVyZm9ybWFuY2UgZm9yIGZvcndhcmRpbmcgYW5kIGJyaWRnaW5nLCBidXQKLSAq
ICAgICAgbWF5IGJlIHNvbWV3aGF0IGRhbmdlcm91cy4gQ2hlY2tzIGFyZSBtYWRlLCBidXQgaWYg
YW55IGJ1ZmZlciBpcyByZXVzZWQKLSAqICAgICAgd2l0aG91dCB0aGUgcHJvcGVyIExpbnV4IGNs
ZWFudXAsIHRoZSBuZXR3b3JraW5nIHN0YWNrIG1heSBoYXZlIHZlcnkKLSAqICAgICAgYml6YXJy
ZSBidWdzLgotICovCi0jaWZuZGVmIF9fRVRIRVJORVRfREVGSU5FU19IX18KLSNkZWZpbmUgX19F
VEhFUk5FVF9ERUZJTkVTX0hfXwotCi0jaWZkZWYgQ09ORklHX05FVEZJTFRFUgotI2RlZmluZSBS
RVVTRV9TS0JVRkZTX1dJVEhPVVRfRlJFRSAgMAotI2Vsc2UKLSNkZWZpbmUgUkVVU0VfU0tCVUZG
U19XSVRIT1VUX0ZSRUUgIDEKLSNlbmRpZgotCi0jZGVmaW5lIFVTRV9BU1lOQ19JT0JETUEgICAg
ICAgICAgICAoQ09ORklHX0NBVklVTV9PQ1RFT05fQ1ZNU0VHX1NJWkUgPiAwKQotCi0vKiBNYXhp
bXVtIG51bWJlciBvZiBTS0JzIHRvIHRyeSB0byBmcmVlIHBlciB4bWl0IHBhY2tldC4gKi8KLSNk
ZWZpbmUgTUFYX09VVF9RVUVVRV9ERVBUSCAxMDAwCi0KLSNkZWZpbmUgRkFVX1RPVEFMX1RYX1RP
X0NMRUFOIChDVk1YX0ZBVV9SRUdfRU5EIC0gc2l6ZW9mKHUzMikpCi0jZGVmaW5lIEZBVV9OVU1f
UEFDS0VUX0JVRkZFUlNfVE9fRlJFRSAoRkFVX1RPVEFMX1RYX1RPX0NMRUFOIC0gc2l6ZW9mKHUz
MikpCi0KLSNkZWZpbmUgVE9UQUxfTlVNQkVSX09GX1BPUlRTICAgICAgIChDVk1YX1BJUF9OVU1f
SU5QVVRfUE9SVFMgKyAxKQotCi0jZW5kaWYgLyogX19FVEhFUk5FVF9ERUZJTkVTX0hfXyAqLwpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5nL29jdGVvbi9ldGhlcm5ldC1tZGlvLmMgYi9kcml2
ZXJzL3N0YWdpbmcvb2N0ZW9uL2V0aGVybmV0LW1kaW8uYwpkZWxldGVkIGZpbGUgbW9kZSAxMDA2
NDQKaW5kZXggYzc5ODY3MmQ2MWIyLi4wMDAwMDAwMDAwMDAKLS0tIGEvZHJpdmVycy9zdGFnaW5n
L29jdGVvbi9ldGhlcm5ldC1tZGlvLmMKKysrIC9kZXYvbnVsbApAQCAtMSwxNzggKzAsMCBAQAot
Ly8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAKLS8qCi0gKiBUaGlzIGZpbGUgaXMg
YmFzZWQgb24gY29kZSBmcm9tIE9DVEVPTiBTREsgYnkgQ2F2aXVtIE5ldHdvcmtzLgotICoKLSAq
IENvcHlyaWdodCAoYykgMjAwMy0yMDA3IENhdml1bSBOZXR3b3JrcwotICovCi0KLSNpbmNsdWRl
IDxsaW51eC9rZXJuZWwuaD4KLSNpbmNsdWRlIDxsaW51eC9ldGh0b29sLmg+Ci0jaW5jbHVkZSA8
bGludXgvcGh5Lmg+Ci0jaW5jbHVkZSA8bGludXgvcmF0ZWxpbWl0Lmg+Ci0jaW5jbHVkZSA8bGlu
dXgvb2ZfbWRpby5oPgotI2luY2x1ZGUgPGdlbmVyYXRlZC91dHNyZWxlYXNlLmg+Ci0jaW5jbHVk
ZSA8bmV0L2RzdC5oPgotCi0jaW5jbHVkZSAib2N0ZW9uLWV0aGVybmV0LmgiCi0jaW5jbHVkZSAi
ZXRoZXJuZXQtZGVmaW5lcy5oIgotI2luY2x1ZGUgImV0aGVybmV0LW1kaW8uaCIKLSNpbmNsdWRl
ICJldGhlcm5ldC11dGlsLmgiCi0KLXN0YXRpYyB2b2lkIGN2bV9vY3RfZ2V0X2RydmluZm8oc3Ry
dWN0IG5ldF9kZXZpY2UgKmRldiwKLQkJCQlzdHJ1Y3QgZXRodG9vbF9kcnZpbmZvICppbmZvKQot
ewotCXN0cmxjcHkoaW5mby0+ZHJpdmVyLCBLQlVJTERfTU9ETkFNRSwgc2l6ZW9mKGluZm8tPmRy
aXZlcikpOwotCXN0cmxjcHkoaW5mby0+dmVyc2lvbiwgVVRTX1JFTEVBU0UsIHNpemVvZihpbmZv
LT52ZXJzaW9uKSk7Ci0Jc3RybGNweShpbmZvLT5idXNfaW5mbywgIkJ1aWx0aW4iLCBzaXplb2Yo
aW5mby0+YnVzX2luZm8pKTsKLX0KLQotc3RhdGljIGludCBjdm1fb2N0X253YXlfcmVzZXQoc3Ry
dWN0IG5ldF9kZXZpY2UgKmRldikKLXsKLQlpZiAoIWNhcGFibGUoQ0FQX05FVF9BRE1JTikpCi0J
CXJldHVybiAtRVBFUk07Ci0KLQlpZiAoZGV2LT5waHlkZXYpCi0JCXJldHVybiBwaHlfc3RhcnRf
YW5lZyhkZXYtPnBoeWRldik7Ci0KLQlyZXR1cm4gLUVJTlZBTDsKLX0KLQotY29uc3Qgc3RydWN0
IGV0aHRvb2xfb3BzIGN2bV9vY3RfZXRodG9vbF9vcHMgPSB7Ci0JLmdldF9kcnZpbmZvID0gY3Zt
X29jdF9nZXRfZHJ2aW5mbywKLQkubndheV9yZXNldCA9IGN2bV9vY3RfbndheV9yZXNldCwKLQku
Z2V0X2xpbmsgPSBldGh0b29sX29wX2dldF9saW5rLAotCS5nZXRfbGlua19rc2V0dGluZ3MgPSBw
aHlfZXRodG9vbF9nZXRfbGlua19rc2V0dGluZ3MsCi0JLnNldF9saW5rX2tzZXR0aW5ncyA9IHBo
eV9ldGh0b29sX3NldF9saW5rX2tzZXR0aW5ncywKLX07Ci0KLS8qKgotICogY3ZtX29jdF9pb2N0
bCAtIElPQ1RMIHN1cHBvcnQgZm9yIFBIWSBjb250cm9sCi0gKiBAZGV2OiAgICBEZXZpY2UgdG8g
Y2hhbmdlCi0gKiBAcnE6ICAgICB0aGUgcmVxdWVzdAotICogQGNtZDogICAgdGhlIGNvbW1hbmQK
LSAqCi0gKiBSZXR1cm5zIFplcm8gb24gc3VjY2VzcwotICovCi1pbnQgY3ZtX29jdF9pb2N0bChz
dHJ1Y3QgbmV0X2RldmljZSAqZGV2LCBzdHJ1Y3QgaWZyZXEgKnJxLCBpbnQgY21kKQotewotCWlm
ICghbmV0aWZfcnVubmluZyhkZXYpKQotCQlyZXR1cm4gLUVJTlZBTDsKLQotCWlmICghZGV2LT5w
aHlkZXYpCi0JCXJldHVybiAtRUlOVkFMOwotCi0JcmV0dXJuIHBoeV9taWlfaW9jdGwoZGV2LT5w
aHlkZXYsIHJxLCBjbWQpOwotfQotCi12b2lkIGN2bV9vY3Rfbm90ZV9jYXJyaWVyKHN0cnVjdCBv
Y3Rlb25fZXRoZXJuZXQgKnByaXYsCi0JCQkgIHVuaW9uIGN2bXhfaGVscGVyX2xpbmtfaW5mbyBs
aSkKLXsKLQlpZiAobGkucy5saW5rX3VwKSB7Ci0JCXByX25vdGljZV9yYXRlbGltaXRlZCgiJXM6
ICV1IE1icHMgJXMgZHVwbGV4LCBwb3J0ICVkLCBxdWV1ZSAlZFxuIiwKLQkJCQkgICAgICBuZXRk
ZXZfbmFtZShwcml2LT5uZXRkZXYpLCBsaS5zLnNwZWVkLAotCQkJCSAgICAgIChsaS5zLmZ1bGxf
ZHVwbGV4KSA/ICJGdWxsIiA6ICJIYWxmIiwKLQkJCQkgICAgICBwcml2LT5wb3J0LCBwcml2LT5x
dWV1ZSk7Ci0JfSBlbHNlIHsKLQkJcHJfbm90aWNlX3JhdGVsaW1pdGVkKCIlczogTGluayBkb3du
XG4iLAotCQkJCSAgICAgIG5ldGRldl9uYW1lKHByaXYtPm5ldGRldikpOwotCX0KLX0KLQotdm9p
ZCBjdm1fb2N0X2FkanVzdF9saW5rKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpCi17Ci0Jc3RydWN0
IG9jdGVvbl9ldGhlcm5ldCAqcHJpdiA9IG5ldGRldl9wcml2KGRldik7Ci0JdW5pb24gY3ZteF9o
ZWxwZXJfbGlua19pbmZvIGxpbmtfaW5mbzsKLQotCWxpbmtfaW5mby51NjQJCT0gMDsKLQlsaW5r
X2luZm8ucy5saW5rX3VwCT0gZGV2LT5waHlkZXYtPmxpbmsgPyAxIDogMDsKLQlsaW5rX2luZm8u
cy5mdWxsX2R1cGxleCA9IGRldi0+cGh5ZGV2LT5kdXBsZXggPyAxIDogMDsKLQlsaW5rX2luZm8u
cy5zcGVlZAk9IGRldi0+cGh5ZGV2LT5zcGVlZDsKLQlwcml2LT5saW5rX2luZm8JCT0gbGlua19p
bmZvLnU2NDsKLQotCS8qCi0JICogVGhlIHBvbGxpbmcgdGFzayBuZWVkIHRvIGtub3cgYWJvdXQg
bGluayBzdGF0dXMgY2hhbmdlcy4KLQkgKi8KLQlpZiAocHJpdi0+cG9sbCkKLQkJcHJpdi0+cG9s
bChkZXYpOwotCi0JaWYgKHByaXYtPmxhc3RfbGluayAhPSBkZXYtPnBoeWRldi0+bGluaykgewot
CQlwcml2LT5sYXN0X2xpbmsgPSBkZXYtPnBoeWRldi0+bGluazsKLQkJY3ZteF9oZWxwZXJfbGlu
a19zZXQocHJpdi0+cG9ydCwgbGlua19pbmZvKTsKLQkJY3ZtX29jdF9ub3RlX2NhcnJpZXIocHJp
diwgbGlua19pbmZvKTsKLQl9Ci19Ci0KLWludCBjdm1fb2N0X2NvbW1vbl9zdG9wKHN0cnVjdCBu
ZXRfZGV2aWNlICpkZXYpCi17Ci0Jc3RydWN0IG9jdGVvbl9ldGhlcm5ldCAqcHJpdiA9IG5ldGRl
dl9wcml2KGRldik7Ci0JaW50IGludGVyZmFjZSA9IElOVEVSRkFDRShwcml2LT5wb3J0KTsKLQl1
bmlvbiBjdm14X2hlbHBlcl9saW5rX2luZm8gbGlua19pbmZvOwotCXVuaW9uIGN2bXhfZ214eF9w
cnR4X2NmZyBnbXhfY2ZnOwotCWludCBpbmRleCA9IElOREVYKHByaXYtPnBvcnQpOwotCi0JZ214
X2NmZy51NjQgPSBjdm14X3JlYWRfY3NyKENWTVhfR01YWF9QUlRYX0NGRyhpbmRleCwgaW50ZXJm
YWNlKSk7Ci0JZ214X2NmZy5zLmVuID0gMDsKLQljdm14X3dyaXRlX2NzcihDVk1YX0dNWFhfUFJU
WF9DRkcoaW5kZXgsIGludGVyZmFjZSksIGdteF9jZmcudTY0KTsKLQotCXByaXYtPnBvbGwgPSBO
VUxMOwotCi0JaWYgKGRldi0+cGh5ZGV2KQotCQlwaHlfZGlzY29ubmVjdChkZXYtPnBoeWRldik7
Ci0KLQlpZiAocHJpdi0+bGFzdF9saW5rKSB7Ci0JCWxpbmtfaW5mby51NjQgPSAwOwotCQlwcml2
LT5sYXN0X2xpbmsgPSAwOwotCi0JCWN2bXhfaGVscGVyX2xpbmtfc2V0KHByaXYtPnBvcnQsIGxp
bmtfaW5mbyk7Ci0JCWN2bV9vY3Rfbm90ZV9jYXJyaWVyKHByaXYsIGxpbmtfaW5mbyk7Ci0JfQot
CXJldHVybiAwOwotfQotCi0vKioKLSAqIGN2bV9vY3RfcGh5X3NldHVwX2RldmljZSAtIHNldHVw
IHRoZSBQSFkKLSAqCi0gKiBAZGV2OiAgICBEZXZpY2UgdG8gc2V0dXAKLSAqCi0gKiBSZXR1cm5z
IFplcm8gb24gc3VjY2VzcywgbmVnYXRpdmUgb24gZmFpbHVyZQotICovCi1pbnQgY3ZtX29jdF9w
aHlfc2V0dXBfZGV2aWNlKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpCi17Ci0Jc3RydWN0IG9jdGVv
bl9ldGhlcm5ldCAqcHJpdiA9IG5ldGRldl9wcml2KGRldik7Ci0Jc3RydWN0IGRldmljZV9ub2Rl
ICpwaHlfbm9kZTsKLQlzdHJ1Y3QgcGh5X2RldmljZSAqcGh5ZGV2ID0gTlVMTDsKLQotCWlmICgh
cHJpdi0+b2Zfbm9kZSkKLQkJZ290byBub19waHk7Ci0KLQlwaHlfbm9kZSA9IG9mX3BhcnNlX3Bo
YW5kbGUocHJpdi0+b2Zfbm9kZSwgInBoeS1oYW5kbGUiLCAwKTsKLQlpZiAoIXBoeV9ub2RlICYm
IG9mX3BoeV9pc19maXhlZF9saW5rKHByaXYtPm9mX25vZGUpKSB7Ci0JCWludCByYzsKLQotCQly
YyA9IG9mX3BoeV9yZWdpc3Rlcl9maXhlZF9saW5rKHByaXYtPm9mX25vZGUpOwotCQlpZiAocmMp
Ci0JCQlyZXR1cm4gcmM7Ci0KLQkJcGh5X25vZGUgPSBvZl9ub2RlX2dldChwcml2LT5vZl9ub2Rl
KTsKLQl9Ci0JaWYgKCFwaHlfbm9kZSkKLQkJZ290byBub19waHk7Ci0KLQlwaHlkZXYgPSBvZl9w
aHlfY29ubmVjdChkZXYsIHBoeV9ub2RlLCBjdm1fb2N0X2FkanVzdF9saW5rLCAwLAotCQkJCXBy
aXYtPnBoeV9tb2RlKTsKLQlvZl9ub2RlX3B1dChwaHlfbm9kZSk7Ci0KLQlpZiAoIXBoeWRldikK
LQkJcmV0dXJuIC1FTk9ERVY7Ci0KLQlwcml2LT5sYXN0X2xpbmsgPSAwOwotCXBoeV9zdGFydChw
aHlkZXYpOwotCi0JcmV0dXJuIDA7Ci1ub19waHk6Ci0JLyogSWYgdGhlcmUgaXMgbm8gcGh5LCBh
c3N1bWUgYSBkaXJlY3QgTUFDIGNvbm5lY3Rpb24gYW5kIHRoYXQKLQkgKiB0aGUgbGluayBpcyB1
cC4KLQkgKi8KLQluZXRpZl9jYXJyaWVyX29uKGRldik7Ci0JcmV0dXJuIDA7Ci19CmRpZmYgLS1n
aXQgYS9kcml2ZXJzL3N0YWdpbmcvb2N0ZW9uL2V0aGVybmV0LW1kaW8uaCBiL2RyaXZlcnMvc3Rh
Z2luZy9vY3Rlb24vZXRoZXJuZXQtbWRpby5oCmRlbGV0ZWQgZmlsZSBtb2RlIDEwMDY0NAppbmRl
eCBlMzc3MWQ0OGM0OWIuLjAwMDAwMDAwMDAwMAotLS0gYS9kcml2ZXJzL3N0YWdpbmcvb2N0ZW9u
L2V0aGVybmV0LW1kaW8uaAorKysgL2Rldi9udWxsCkBAIC0xLDI4ICswLDAgQEAKLS8qIFNQRFgt
TGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wICovCi0vKgotICogVGhpcyBmaWxlIGlzIGJhc2Vk
IG9uIGNvZGUgZnJvbSBPQ1RFT04gU0RLIGJ5IENhdml1bSBOZXR3b3Jrcy4KLSAqCi0gKiBDb3B5
cmlnaHQgKGMpIDIwMDMtMjAwNyBDYXZpdW0gTmV0d29ya3MKLSAqLwotCi0jaW5jbHVkZSA8bGlu
dXgvbW9kdWxlLmg+Ci0jaW5jbHVkZSA8bGludXgva2VybmVsLmg+Ci0jaW5jbHVkZSA8bGludXgv
bmV0ZGV2aWNlLmg+Ci0jaW5jbHVkZSA8bGludXgvZXRoZXJkZXZpY2UuaD4KLSNpbmNsdWRlIDxs
aW51eC9pcC5oPgotI2luY2x1ZGUgPGxpbnV4L3N0cmluZy5oPgotI2luY2x1ZGUgPGxpbnV4L2V0
aHRvb2wuaD4KLSNpbmNsdWRlIDxsaW51eC9zZXFfZmlsZS5oPgotI2luY2x1ZGUgPGxpbnV4L3By
b2NfZnMuaD4KLSNpbmNsdWRlIDxuZXQvZHN0Lmg+Ci0jaWZkZWYgQ09ORklHX1hGUk0KLSNpbmNs
dWRlIDxsaW51eC94ZnJtLmg+Ci0jaW5jbHVkZSA8bmV0L3hmcm0uaD4KLSNlbmRpZiAvKiBDT05G
SUdfWEZSTSAqLwotCi1leHRlcm4gY29uc3Qgc3RydWN0IGV0aHRvb2xfb3BzIGN2bV9vY3RfZXRo
dG9vbF9vcHM7Ci0KLXZvaWQgb2N0ZW9uX21kaW9idXNfZm9yY2VfbW9kX2RlcGVuY2VuY3kodm9p
ZCk7Ci0KLWludCBjdm1fb2N0X2lvY3RsKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsIHN0cnVjdCBp
ZnJlcSAqcnEsIGludCBjbWQpOwotaW50IGN2bV9vY3RfcGh5X3NldHVwX2RldmljZShzdHJ1Y3Qg
bmV0X2RldmljZSAqZGV2KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9vY3Rlb24vZXRo
ZXJuZXQtbWVtLmMgYi9kcml2ZXJzL3N0YWdpbmcvb2N0ZW9uL2V0aGVybmV0LW1lbS5jCmRlbGV0
ZWQgZmlsZSBtb2RlIDEwMDY0NAppbmRleCA1MzI1OTQ5NTdlYmMuLjAwMDAwMDAwMDAwMAotLS0g
YS9kcml2ZXJzL3N0YWdpbmcvb2N0ZW9uL2V0aGVybmV0LW1lbS5jCisrKyAvZGV2L251bGwKQEAg
LTEsMTU0ICswLDAgQEAKLS8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wCi0vKgot
ICogVGhpcyBmaWxlIGlzIGJhc2VkIG9uIGNvZGUgZnJvbSBPQ1RFT04gU0RLIGJ5IENhdml1bSBO
ZXR3b3Jrcy4KLSAqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDMtMjAxMCBDYXZpdW0gTmV0d29ya3MK
LSAqLwotCi0jaW5jbHVkZSA8bGludXgva2VybmVsLmg+Ci0jaW5jbHVkZSA8bGludXgvbmV0ZGV2
aWNlLmg+Ci0jaW5jbHVkZSA8bGludXgvc2xhYi5oPgotCi0jaW5jbHVkZSAib2N0ZW9uLWV0aGVy
bmV0LmgiCi0jaW5jbHVkZSAiZXRoZXJuZXQtbWVtLmgiCi0jaW5jbHVkZSAiZXRoZXJuZXQtZGVm
aW5lcy5oIgotCi0vKioKLSAqIGN2bV9vY3RfZmlsbF9od19za2J1ZmYgLSBmaWxsIHRoZSBzdXBw
bGllZCBoYXJkd2FyZSBwb29sIHdpdGggc2tidWZmcwotICogQHBvb2w6ICAgICBQb29sIHRvIGFs
bG9jYXRlIGFuIHNrYnVmZiBmb3IKLSAqIEBzaXplOiAgICAgU2l6ZSBvZiB0aGUgYnVmZmVyIG5l
ZWRlZCBmb3IgdGhlIHBvb2wKLSAqIEBlbGVtZW50czogTnVtYmVyIG9mIGJ1ZmZlcnMgdG8gYWxs
b2NhdGUKLSAqCi0gKiBSZXR1cm5zIHRoZSBhY3R1YWwgbnVtYmVyIG9mIGJ1ZmZlcnMgYWxsb2Nh
dGVkLgotICovCi1zdGF0aWMgaW50IGN2bV9vY3RfZmlsbF9od19za2J1ZmYoaW50IHBvb2wsIGlu
dCBzaXplLCBpbnQgZWxlbWVudHMpCi17Ci0JaW50IGZyZWVkID0gZWxlbWVudHM7Ci0KLQl3aGls
ZSAoZnJlZWQpIHsKLQkJc3RydWN0IHNrX2J1ZmYgKnNrYiA9IGRldl9hbGxvY19za2Ioc2l6ZSAr
IDI1Nik7Ci0KLQkJaWYgKHVubGlrZWx5KCFza2IpKQotCQkJYnJlYWs7Ci0JCXNrYl9yZXNlcnZl
KHNrYiwgMjU2IC0gKCgodW5zaWduZWQgbG9uZylza2ItPmRhdGEpICYgMHg3ZikpOwotCQkqKHN0
cnVjdCBza19idWZmICoqKShza2ItPmRhdGEgLSBzaXplb2Yodm9pZCAqKSkgPSBza2I7Ci0JCWN2
bXhfZnBhX2ZyZWUoc2tiLT5kYXRhLCBwb29sLCBzaXplIC8gMTI4KTsKLQkJZnJlZWQtLTsKLQl9
Ci0JcmV0dXJuIGVsZW1lbnRzIC0gZnJlZWQ7Ci19Ci0KLS8qKgotICogY3ZtX29jdF9mcmVlX2h3
X3NrYnVmZi0gZnJlZSBoYXJkd2FyZSBwb29sIHNrYnVmZnMKLSAqIEBwb29sOiAgICAgUG9vbCB0
byBhbGxvY2F0ZSBhbiBza2J1ZmYgZm9yCi0gKiBAc2l6ZTogICAgIFNpemUgb2YgdGhlIGJ1ZmZl
ciBuZWVkZWQgZm9yIHRoZSBwb29sCi0gKiBAZWxlbWVudHM6IE51bWJlciBvZiBidWZmZXJzIHRv
IGFsbG9jYXRlCi0gKi8KLXN0YXRpYyB2b2lkIGN2bV9vY3RfZnJlZV9od19za2J1ZmYoaW50IHBv
b2wsIGludCBzaXplLCBpbnQgZWxlbWVudHMpCi17Ci0JY2hhciAqbWVtb3J5OwotCi0JZG8gewot
CQltZW1vcnkgPSBjdm14X2ZwYV9hbGxvYyhwb29sKTsKLQkJaWYgKG1lbW9yeSkgewotCQkJc3Ry
dWN0IHNrX2J1ZmYgKnNrYiA9Ci0JCQkgICAgKihzdHJ1Y3Qgc2tfYnVmZiAqKikobWVtb3J5IC0g
c2l6ZW9mKHZvaWQgKikpOwotCQkJZWxlbWVudHMtLTsKLQkJCWRldl9rZnJlZV9za2Ioc2tiKTsK
LQkJfQotCX0gd2hpbGUgKG1lbW9yeSk7Ci0KLQlpZiAoZWxlbWVudHMgPCAwKQotCQlwcl93YXJu
KCJGcmVlaW5nIG9mIHBvb2wgJXUgaGFkIHRvbyBtYW55IHNrYnVmZnMgKCVkKVxuIiwKLQkJCXBv
b2wsIGVsZW1lbnRzKTsKLQllbHNlIGlmIChlbGVtZW50cyA+IDApCi0JCXByX3dhcm4oIkZyZWVp
bmcgb2YgcG9vbCAldSBpcyBtaXNzaW5nICVkIHNrYnVmZnNcbiIsCi0JCQlwb29sLCBlbGVtZW50
cyk7Ci19Ci0KLS8qKgotICogY3ZtX29jdF9maWxsX2h3X21lbW9yeSAtIGZpbGwgYSBoYXJkd2Fy
ZSBwb29sIHdpdGggbWVtb3J5LgotICogQHBvb2w6ICAgICBQb29sIHRvIHBvcHVsYXRlCi0gKiBA
c2l6ZTogICAgIFNpemUgb2YgZWFjaCBidWZmZXIgaW4gdGhlIHBvb2wKLSAqIEBlbGVtZW50czog
TnVtYmVyIG9mIGJ1ZmZlcnMgdG8gYWxsb2NhdGUKLSAqCi0gKiBSZXR1cm5zIHRoZSBhY3R1YWwg
bnVtYmVyIG9mIGJ1ZmZlcnMgYWxsb2NhdGVkLgotICovCi1zdGF0aWMgaW50IGN2bV9vY3RfZmls
bF9od19tZW1vcnkoaW50IHBvb2wsIGludCBzaXplLCBpbnQgZWxlbWVudHMpCi17Ci0JY2hhciAq
bWVtb3J5OwotCWNoYXIgKmZwYTsKLQlpbnQgZnJlZWQgPSBlbGVtZW50czsKLQotCXdoaWxlIChm
cmVlZCkgewotCQkvKgotCQkgKiBGUEEgbWVtb3J5IG11c3QgYmUgMTI4IGJ5dGUgYWxpZ25lZC4g
IFNpbmNlIHdlIGFyZQotCQkgKiBhbGlnbmluZyB3ZSBuZWVkIHRvIHNhdmUgdGhlIG9yaWdpbmFs
IHBvaW50ZXIgc28gd2UKLQkJICogY2FuIGZlZWQgaXQgdG8ga2ZyZWUgd2hlbiB0aGUgbWVtb3J5
IGlzIHJldHVybmVkIHRvCi0JCSAqIHRoZSBrZXJuZWwuCi0JCSAqCi0JCSAqIFdlIGFsbG9jYXRl
IGFuIGV4dHJhIDI1NiBieXRlcyB0byBhbGxvdyBmb3IKLQkJICogYWxpZ25tZW50IGFuZCBzcGFj
ZSBmb3IgdGhlIG9yaWdpbmFsIHBvaW50ZXIgc2F2ZWQKLQkJICoganVzdCBiZWZvcmUgdGhlIGJs
b2NrLgotCQkgKi8KLQkJbWVtb3J5ID0ga21hbGxvYyhzaXplICsgMjU2LCBHRlBfQVRPTUlDKTsK
LQkJaWYgKHVubGlrZWx5KCFtZW1vcnkpKSB7Ci0JCQlwcl93YXJuKCJVbmFibGUgdG8gYWxsb2Nh
dGUgJXUgYnl0ZXMgZm9yIEZQQSBwb29sICVkXG4iLAotCQkJCWVsZW1lbnRzICogc2l6ZSwgcG9v
bCk7Ci0JCQlicmVhazsKLQkJfQotCQlmcGEgPSAoY2hhciAqKSgoKHVuc2lnbmVkIGxvbmcpbWVt
b3J5ICsgMjU2KSAmIH4weDdmVUwpOwotCQkqKChjaGFyICoqKWZwYSAtIDEpID0gbWVtb3J5Owot
CQljdm14X2ZwYV9mcmVlKGZwYSwgcG9vbCwgMCk7Ci0JCWZyZWVkLS07Ci0JfQotCXJldHVybiBl
bGVtZW50cyAtIGZyZWVkOwotfQotCi0vKioKLSAqIGN2bV9vY3RfZnJlZV9od19tZW1vcnkgLSBG
cmVlIG1lbW9yeSBhbGxvY2F0ZWQgYnkgY3ZtX29jdF9maWxsX2h3X21lbW9yeQotICogQHBvb2w6
ICAgICBGUEEgcG9vbCB0byBmcmVlCi0gKiBAc2l6ZTogICAgIFNpemUgb2YgZWFjaCBidWZmZXIg
aW4gdGhlIHBvb2wKLSAqIEBlbGVtZW50czogTnVtYmVyIG9mIGJ1ZmZlcnMgdGhhdCBzaG91bGQg
YmUgaW4gdGhlIHBvb2wKLSAqLwotc3RhdGljIHZvaWQgY3ZtX29jdF9mcmVlX2h3X21lbW9yeShp
bnQgcG9vbCwgaW50IHNpemUsIGludCBlbGVtZW50cykKLXsKLQljaGFyICptZW1vcnk7Ci0JY2hh
ciAqZnBhOwotCi0JZG8gewotCQlmcGEgPSBjdm14X2ZwYV9hbGxvYyhwb29sKTsKLQkJaWYgKGZw
YSkgewotCQkJZWxlbWVudHMtLTsKLQkJCWZwYSA9IChjaGFyICopcGh5c190b192aXJ0KGN2bXhf
cHRyX3RvX3BoeXMoZnBhKSk7Ci0JCQltZW1vcnkgPSAqKChjaGFyICoqKWZwYSAtIDEpOwotCQkJ
a2ZyZWUobWVtb3J5KTsKLQkJfQotCX0gd2hpbGUgKGZwYSk7Ci0KLQlpZiAoZWxlbWVudHMgPCAw
KQotCQlwcl93YXJuKCJGcmVlaW5nIG9mIHBvb2wgJXUgaGFkIHRvbyBtYW55IGJ1ZmZlcnMgKCVk
KVxuIiwKLQkJCXBvb2wsIGVsZW1lbnRzKTsKLQllbHNlIGlmIChlbGVtZW50cyA+IDApCi0JCXBy
X3dhcm4oIldhcm5pbmc6IEZyZWVpbmcgb2YgcG9vbCAldSBpcyBtaXNzaW5nICVkIGJ1ZmZlcnNc
biIsCi0JCQlwb29sLCBlbGVtZW50cyk7Ci19Ci0KLWludCBjdm1fb2N0X21lbV9maWxsX2ZwYShp
bnQgcG9vbCwgaW50IHNpemUsIGludCBlbGVtZW50cykKLXsKLQlpbnQgZnJlZWQ7Ci0KLQlpZiAo
cG9vbCA9PSBDVk1YX0ZQQV9QQUNLRVRfUE9PTCkKLQkJZnJlZWQgPSBjdm1fb2N0X2ZpbGxfaHdf
c2tidWZmKHBvb2wsIHNpemUsIGVsZW1lbnRzKTsKLQllbHNlCi0JCWZyZWVkID0gY3ZtX29jdF9m
aWxsX2h3X21lbW9yeShwb29sLCBzaXplLCBlbGVtZW50cyk7Ci0JcmV0dXJuIGZyZWVkOwotfQot
Ci12b2lkIGN2bV9vY3RfbWVtX2VtcHR5X2ZwYShpbnQgcG9vbCwgaW50IHNpemUsIGludCBlbGVt
ZW50cykKLXsKLQlpZiAocG9vbCA9PSBDVk1YX0ZQQV9QQUNLRVRfUE9PTCkKLQkJY3ZtX29jdF9m
cmVlX2h3X3NrYnVmZihwb29sLCBzaXplLCBlbGVtZW50cyk7Ci0JZWxzZQotCQljdm1fb2N0X2Zy
ZWVfaHdfbWVtb3J5KHBvb2wsIHNpemUsIGVsZW1lbnRzKTsKLX0KZGlmZiAtLWdpdCBhL2RyaXZl
cnMvc3RhZ2luZy9vY3Rlb24vZXRoZXJuZXQtbWVtLmggYi9kcml2ZXJzL3N0YWdpbmcvb2N0ZW9u
L2V0aGVybmV0LW1lbS5oCmRlbGV0ZWQgZmlsZSBtb2RlIDEwMDY0NAppbmRleCA2OTJkY2RiNzE1
NGQuLjAwMDAwMDAwMDAwMAotLS0gYS9kcml2ZXJzL3N0YWdpbmcvb2N0ZW9uL2V0aGVybmV0LW1l
bS5oCisrKyAvZGV2L251bGwKQEAgLTEsOSArMCwwIEBACi0vKiBTUERYLUxpY2Vuc2UtSWRlbnRp
ZmllcjogR1BMLTIuMCAqLwotLyoKLSAqIFRoaXMgZmlsZSBpcyBiYXNlZCBvbiBjb2RlIGZyb20g
T0NURU9OIFNESyBieSBDYXZpdW0gTmV0d29ya3MuCi0gKgotICogQ29weXJpZ2h0IChjKSAyMDAz
LTIwMDcgQ2F2aXVtIE5ldHdvcmtzCi0gKi8KLQotaW50IGN2bV9vY3RfbWVtX2ZpbGxfZnBhKGlu
dCBwb29sLCBpbnQgc2l6ZSwgaW50IGVsZW1lbnRzKTsKLXZvaWQgY3ZtX29jdF9tZW1fZW1wdHlf
ZnBhKGludCBwb29sLCBpbnQgc2l6ZSwgaW50IGVsZW1lbnRzKTsKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvc3RhZ2luZy9vY3Rlb24vZXRoZXJuZXQtcmdtaWkuYyBiL2RyaXZlcnMvc3RhZ2luZy9vY3Rl
b24vZXRoZXJuZXQtcmdtaWkuYwpkZWxldGVkIGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMGM0ZmFj
MzE1NDBhLi4wMDAwMDAwMDAwMDAKLS0tIGEvZHJpdmVycy9zdGFnaW5nL29jdGVvbi9ldGhlcm5l
dC1yZ21paS5jCisrKyAvZGV2L251bGwKQEAgLTEsMTU4ICswLDAgQEAKLS8vIFNQRFgtTGljZW5z
ZS1JZGVudGlmaWVyOiBHUEwtMi4wCi0vKgotICogVGhpcyBmaWxlIGlzIGJhc2VkIG9uIGNvZGUg
ZnJvbSBPQ1RFT04gU0RLIGJ5IENhdml1bSBOZXR3b3Jrcy4KLSAqCi0gKiBDb3B5cmlnaHQgKGMp
IDIwMDMtMjAwNyBDYXZpdW0gTmV0d29ya3MKLSAqLwotCi0jaW5jbHVkZSA8bGludXgva2VybmVs
Lmg+Ci0jaW5jbHVkZSA8bGludXgvbmV0ZGV2aWNlLmg+Ci0jaW5jbHVkZSA8bGludXgvaW50ZXJy
dXB0Lmg+Ci0jaW5jbHVkZSA8bGludXgvcGh5Lmg+Ci0jaW5jbHVkZSA8bGludXgvcmF0ZWxpbWl0
Lmg+Ci0jaW5jbHVkZSA8bmV0L2RzdC5oPgotCi0jaW5jbHVkZSAib2N0ZW9uLWV0aGVybmV0Lmgi
Ci0jaW5jbHVkZSAiZXRoZXJuZXQtZGVmaW5lcy5oIgotI2luY2x1ZGUgImV0aGVybmV0LXV0aWwu
aCIKLSNpbmNsdWRlICJldGhlcm5ldC1tZGlvLmgiCi0KLXN0YXRpYyBERUZJTkVfU1BJTkxPQ0so
Z2xvYmFsX3JlZ2lzdGVyX2xvY2spOwotCi1zdGF0aWMgdm9pZCBjdm1fb2N0X3NldF9od19wcmVh
bWJsZShzdHJ1Y3Qgb2N0ZW9uX2V0aGVybmV0ICpwcml2LCBib29sIGVuYWJsZSkKLXsKLQl1bmlv
biBjdm14X2dteHhfcnh4X2ZybV9jdGwgZ214eF9yeHhfZnJtX2N0bDsKLQl1bmlvbiBjdm14X2lw
ZF9zdWJfcG9ydF9mY3MgaXBkX3N1Yl9wb3J0X2ZjczsKLQl1bmlvbiBjdm14X2dteHhfcnh4X2lu
dF9yZWcgZ214eF9yeHhfaW50X3JlZzsKLQlpbnQgaW50ZXJmYWNlID0gSU5URVJGQUNFKHByaXYt
PnBvcnQpOwotCWludCBpbmRleCA9IElOREVYKHByaXYtPnBvcnQpOwotCi0JLyogU2V0IHByZWFt
YmxlIGNoZWNraW5nLiAqLwotCWdteHhfcnh4X2ZybV9jdGwudTY0ID0gY3ZteF9yZWFkX2NzcihD
Vk1YX0dNWFhfUlhYX0ZSTV9DVEwoaW5kZXgsCi0JCQkJCQkJCSAgIGludGVyZmFjZSkpOwotCWdt
eHhfcnh4X2ZybV9jdGwucy5wcmVfY2hrID0gZW5hYmxlOwotCWN2bXhfd3JpdGVfY3NyKENWTVhf
R01YWF9SWFhfRlJNX0NUTChpbmRleCwgaW50ZXJmYWNlKSwKLQkJICAgICAgIGdteHhfcnh4X2Zy
bV9jdGwudTY0KTsKLQotCS8qIFNldCBGQ1Mgc3RyaXBwaW5nLiAqLwotCWlwZF9zdWJfcG9ydF9m
Y3MudTY0ID0gY3ZteF9yZWFkX2NzcihDVk1YX0lQRF9TVUJfUE9SVF9GQ1MpOwotCWlmIChlbmFi
bGUpCi0JCWlwZF9zdWJfcG9ydF9mY3Mucy5wb3J0X2JpdCB8PSAxdWxsIDw8IHByaXYtPnBvcnQ7
Ci0JZWxzZQotCQlpcGRfc3ViX3BvcnRfZmNzLnMucG9ydF9iaXQgJj0KLQkJCQkJMHhmZmZmZmZm
ZnVsbCBeICgxdWxsIDw8IHByaXYtPnBvcnQpOwotCWN2bXhfd3JpdGVfY3NyKENWTVhfSVBEX1NV
Ql9QT1JUX0ZDUywgaXBkX3N1Yl9wb3J0X2Zjcy51NjQpOwotCi0JLyogQ2xlYXIgYW55IGVycm9y
IGJpdHMuICovCi0JZ214eF9yeHhfaW50X3JlZy51NjQgPSBjdm14X3JlYWRfY3NyKENWTVhfR01Y
WF9SWFhfSU5UX1JFRyhpbmRleCwKLQkJCQkJCQkJICAgaW50ZXJmYWNlKSk7Ci0JY3ZteF93cml0
ZV9jc3IoQ1ZNWF9HTVhYX1JYWF9JTlRfUkVHKGluZGV4LCBpbnRlcmZhY2UpLAotCQkgICAgICAg
Z214eF9yeHhfaW50X3JlZy51NjQpOwotfQotCi1zdGF0aWMgdm9pZCBjdm1fb2N0X2NoZWNrX3By
ZWFtYmxlX2Vycm9ycyhzdHJ1Y3QgbmV0X2RldmljZSAqZGV2KQotewotCXN0cnVjdCBvY3Rlb25f
ZXRoZXJuZXQgKnByaXYgPSBuZXRkZXZfcHJpdihkZXYpOwotCXVuaW9uIGN2bXhfaGVscGVyX2xp
bmtfaW5mbyBsaW5rX2luZm87Ci0JdW5zaWduZWQgbG9uZyBmbGFnczsKLQotCWxpbmtfaW5mby51
NjQgPSBwcml2LT5saW5rX2luZm87Ci0KLQkvKgotCSAqIFRha2UgdGhlIGdsb2JhbCByZWdpc3Rl
ciBsb2NrIHNpbmNlIHdlIGFyZSBnb2luZyB0bwotCSAqIHRvdWNoIHJlZ2lzdGVycyB0aGF0IGFm
ZmVjdCBtb3JlIHRoYW4gb25lIHBvcnQuCi0JICovCi0Jc3Bpbl9sb2NrX2lycXNhdmUoJmdsb2Jh
bF9yZWdpc3Rlcl9sb2NrLCBmbGFncyk7Ci0KLQlpZiAobGlua19pbmZvLnMuc3BlZWQgPT0gMTAg
JiYgcHJpdi0+bGFzdF9zcGVlZCA9PSAxMCkgewotCQkvKgotCQkgKiBSZWFkIHRoZSBHTVhYX1JY
WF9JTlRfUkVHW1BDVEVSUl0gYml0IGFuZCBzZWUgaWYgd2UgYXJlCi0JCSAqIGdldHRpbmcgcHJl
YW1ibGUgZXJyb3JzLgotCQkgKi8KLQkJaW50IGludGVyZmFjZSA9IElOVEVSRkFDRShwcml2LT5w
b3J0KTsKLQkJaW50IGluZGV4ID0gSU5ERVgocHJpdi0+cG9ydCk7Ci0JCXVuaW9uIGN2bXhfZ214
eF9yeHhfaW50X3JlZyBnbXh4X3J4eF9pbnRfcmVnOwotCi0JCWdteHhfcnh4X2ludF9yZWcudTY0
ID0gY3ZteF9yZWFkX2NzcihDVk1YX0dNWFhfUlhYX0lOVF9SRUcKLQkJCQkJCQkoaW5kZXgsIGlu
dGVyZmFjZSkpOwotCQlpZiAoZ214eF9yeHhfaW50X3JlZy5zLnBjdGVycikgewotCQkJLyoKLQkJ
CSAqIFdlIGFyZSBnZXR0aW5nIHByZWFtYmxlIGVycm9ycyBhdCAxME1icHMuIE1vc3QKLQkJCSAq
IGxpa2VseSB0aGUgUEhZIGlzIGdpdmluZyB1cyBwYWNrZXRzIHdpdGggbWlzYWxpZ25lZAotCQkJ
ICogcHJlYW1ibGVzLiBJbiBvcmRlciB0byBnZXQgdGhlc2UgcGFja2V0cyB3ZSBuZWVkIHRvCi0J
CQkgKiBkaXNhYmxlIHByZWFtYmxlIGNoZWNraW5nIGFuZCBkbyBpdCBpbiBzb2Z0d2FyZS4KLQkJ
CSAqLwotCQkJY3ZtX29jdF9zZXRfaHdfcHJlYW1ibGUocHJpdiwgZmFsc2UpOwotCQkJcHJpbnRr
X3JhdGVsaW1pdGVkKCIlczogVXNpbmcgMTBNYnBzIHdpdGggc29mdHdhcmUgcHJlYW1ibGUgcmVt
b3ZhbFxuIiwKLQkJCQkJICAgZGV2LT5uYW1lKTsKLQkJfQotCX0gZWxzZSB7Ci0JCS8qCi0JCSAq
IFNpbmNlIHRoZSAxME1icHMgcHJlYW1ibGUgd29ya2Fyb3VuZCBpcyBhbGxvd2VkIHdlIG5lZWQg
dG8KLQkJICogZW5hYmxlIHByZWFtYmxlIGNoZWNraW5nLCBGQ1Mgc3RyaXBwaW5nLCBhbmQgY2xl
YXIgZXJyb3IKLQkJICogYml0cyBvbiBldmVyeSBzcGVlZCBjaGFuZ2UuIElmIGVycm9ycyBvY2N1
ciBkdXJpbmcgMTBNYnBzCi0JCSAqIG9wZXJhdGlvbiB0aGUgYWJvdmUgY29kZSB3aWxsIGNoYW5n
ZSB0aGlzIHN0dWZmCi0JCSAqLwotCQlpZiAocHJpdi0+bGFzdF9zcGVlZCAhPSBsaW5rX2luZm8u
cy5zcGVlZCkKLQkJCWN2bV9vY3Rfc2V0X2h3X3ByZWFtYmxlKHByaXYsIHRydWUpOwotCQlwcml2
LT5sYXN0X3NwZWVkID0gbGlua19pbmZvLnMuc3BlZWQ7Ci0JfQotCXNwaW5fdW5sb2NrX2lycXJl
c3RvcmUoJmdsb2JhbF9yZWdpc3Rlcl9sb2NrLCBmbGFncyk7Ci19Ci0KLXN0YXRpYyB2b2lkIGN2
bV9vY3RfcmdtaWlfcG9sbChzdHJ1Y3QgbmV0X2RldmljZSAqZGV2KQotewotCXN0cnVjdCBvY3Rl
b25fZXRoZXJuZXQgKnByaXYgPSBuZXRkZXZfcHJpdihkZXYpOwotCXVuaW9uIGN2bXhfaGVscGVy
X2xpbmtfaW5mbyBsaW5rX2luZm87Ci0JYm9vbCBzdGF0dXNfY2hhbmdlOwotCi0JbGlua19pbmZv
ID0gY3ZteF9oZWxwZXJfbGlua19nZXQocHJpdi0+cG9ydCk7Ci0JaWYgKHByaXYtPmxpbmtfaW5m
byAhPSBsaW5rX2luZm8udTY0ICYmCi0JICAgIGN2bXhfaGVscGVyX2xpbmtfc2V0KHByaXYtPnBv
cnQsIGxpbmtfaW5mbykpCi0JCWxpbmtfaW5mby51NjQgPSBwcml2LT5saW5rX2luZm87Ci0Jc3Rh
dHVzX2NoYW5nZSA9IHByaXYtPmxpbmtfaW5mbyAhPSBsaW5rX2luZm8udTY0OwotCXByaXYtPmxp
bmtfaW5mbyA9IGxpbmtfaW5mby51NjQ7Ci0KLQljdm1fb2N0X2NoZWNrX3ByZWFtYmxlX2Vycm9y
cyhkZXYpOwotCi0JaWYgKGxpa2VseSghc3RhdHVzX2NoYW5nZSkpCi0JCXJldHVybjsKLQotCS8q
IFRlbGwgY29yZS4gKi8KLQlpZiAobGlua19pbmZvLnMubGlua191cCkgewotCQlpZiAoIW5ldGlm
X2NhcnJpZXJfb2soZGV2KSkKLQkJCW5ldGlmX2NhcnJpZXJfb24oZGV2KTsKLQl9IGVsc2UgaWYg
KG5ldGlmX2NhcnJpZXJfb2soZGV2KSkgewotCQluZXRpZl9jYXJyaWVyX29mZihkZXYpOwotCX0K
LQljdm1fb2N0X25vdGVfY2Fycmllcihwcml2LCBsaW5rX2luZm8pOwotfQotCi1pbnQgY3ZtX29j
dF9yZ21paV9vcGVuKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpCi17Ci0Jc3RydWN0IG9jdGVvbl9l
dGhlcm5ldCAqcHJpdiA9IG5ldGRldl9wcml2KGRldik7Ci0JaW50IHJldDsKLQotCXJldCA9IGN2
bV9vY3RfY29tbW9uX29wZW4oZGV2LCBjdm1fb2N0X3JnbWlpX3BvbGwpOwotCWlmIChyZXQpCi0J
CXJldHVybiByZXQ7Ci0KLQlpZiAoZGV2LT5waHlkZXYpIHsKLQkJLyoKLQkJICogSW4gcGh5ZGV2
IG1vZGUsIHdlIG5lZWQgc3RpbGwgcGVyaW9kaWMgcG9sbGluZyBmb3IgdGhlCi0JCSAqIHByZWFt
YmxlIGVycm9yIGNoZWNraW5nLCBhbmQgd2UgYWxzbyBuZWVkIHRvIGNhbGwgdGhpcwotCQkgKiBm
dW5jdGlvbiBvbiBldmVyeSBsaW5rIHN0YXRlIGNoYW5nZS4KLQkJICoKLQkJICogT25seSB0cnVl
IFJHTUlJIHBvcnRzIG5lZWQgdG8gYmUgcG9sbGVkLiBJbiBHTUlJIG1vZGUsIHBvcnQKLQkJICog
MCBpcyByZWFsbHkgYSBSR01JSSBwb3J0LgotCQkgKi8KLQkJaWYgKChwcml2LT5pbW9kZSA9PSBD
Vk1YX0hFTFBFUl9JTlRFUkZBQ0VfTU9ERV9HTUlJICYmCi0JCSAgICAgcHJpdi0+cG9ydCAgPT0g
MCkgfHwKLQkJICAgIChwcml2LT5pbW9kZSA9PSBDVk1YX0hFTFBFUl9JTlRFUkZBQ0VfTU9ERV9S
R01JSSkpIHsKLQkJCXByaXYtPnBvbGwgPSBjdm1fb2N0X2NoZWNrX3ByZWFtYmxlX2Vycm9yczsK
LQkJCWN2bV9vY3RfY2hlY2tfcHJlYW1ibGVfZXJyb3JzKGRldik7Ci0JCX0KLQl9Ci0KLQlyZXR1
cm4gMDsKLX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9vY3Rlb24vZXRoZXJuZXQtcngu
YyBiL2RyaXZlcnMvc3RhZ2luZy9vY3Rlb24vZXRoZXJuZXQtcnguYwpkZWxldGVkIGZpbGUgbW9k
ZSAxMDA2NDQKaW5kZXggMmMxNjIzMGY5OTNjLi4wMDAwMDAwMDAwMDAKLS0tIGEvZHJpdmVycy9z
dGFnaW5nL29jdGVvbi9ldGhlcm5ldC1yeC5jCisrKyAvZGV2L251bGwKQEAgLTEsNTM4ICswLDAg
QEAKLS8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wCi0vKgotICogVGhpcyBmaWxl
IGlzIGJhc2VkIG9uIGNvZGUgZnJvbSBPQ1RFT04gU0RLIGJ5IENhdml1bSBOZXR3b3Jrcy4KLSAq
Ci0gKiBDb3B5cmlnaHQgKGMpIDIwMDMtMjAxMCBDYXZpdW0gTmV0d29ya3MKLSAqLwotCi0jaW5j
bHVkZSA8bGludXgvbW9kdWxlLmg+Ci0jaW5jbHVkZSA8bGludXgva2VybmVsLmg+Ci0jaW5jbHVk
ZSA8bGludXgvY2FjaGUuaD4KLSNpbmNsdWRlIDxsaW51eC9jcHVtYXNrLmg+Ci0jaW5jbHVkZSA8
bGludXgvbmV0ZGV2aWNlLmg+Ci0jaW5jbHVkZSA8bGludXgvZXRoZXJkZXZpY2UuaD4KLSNpbmNs
dWRlIDxsaW51eC9pcC5oPgotI2luY2x1ZGUgPGxpbnV4L3N0cmluZy5oPgotI2luY2x1ZGUgPGxp
bnV4L3ByZWZldGNoLmg+Ci0jaW5jbHVkZSA8bGludXgvcmF0ZWxpbWl0Lmg+Ci0jaW5jbHVkZSA8
bGludXgvc21wLmg+Ci0jaW5jbHVkZSA8bGludXgvaW50ZXJydXB0Lmg+Ci0jaW5jbHVkZSA8bmV0
L2RzdC5oPgotI2lmZGVmIENPTkZJR19YRlJNCi0jaW5jbHVkZSA8bGludXgveGZybS5oPgotI2lu
Y2x1ZGUgPG5ldC94ZnJtLmg+Ci0jZW5kaWYgLyogQ09ORklHX1hGUk0gKi8KLQotI2luY2x1ZGUg
Im9jdGVvbi1ldGhlcm5ldC5oIgotI2luY2x1ZGUgImV0aGVybmV0LWRlZmluZXMuaCIKLSNpbmNs
dWRlICJldGhlcm5ldC1tZW0uaCIKLSNpbmNsdWRlICJldGhlcm5ldC1yeC5oIgotI2luY2x1ZGUg
ImV0aGVybmV0LXV0aWwuaCIKLQotc3RhdGljIGF0b21pY190IG9jdF9yeF9yZWFkeSA9IEFUT01J
Q19JTklUKDApOwotCi1zdGF0aWMgc3RydWN0IG9jdF9yeF9ncm91cCB7Ci0JaW50IGlycTsKLQlp
bnQgZ3JvdXA7Ci0Jc3RydWN0IG5hcGlfc3RydWN0IG5hcGk7Ci19IG9jdF9yeF9ncm91cFsxNl07
Ci0KLS8qKgotICogY3ZtX29jdF9kb19pbnRlcnJ1cHQgLSBpbnRlcnJ1cHQgaGFuZGxlci4KLSAq
IEBpcnE6IEludGVycnVwdCBudW1iZXIuCi0gKiBAbmFwaV9pZDogQ29va2llIHRvIGlkZW50aWZ5
IHRoZSBOQVBJIGluc3RhbmNlLgotICoKLSAqIFRoZSBpbnRlcnJ1cHQgb2NjdXJzIHdoZW5ldmVy
IHRoZSBQT1cgaGFzIHBhY2tldHMgaW4gb3VyIGdyb3VwLgotICoKLSAqLwotc3RhdGljIGlycXJl
dHVybl90IGN2bV9vY3RfZG9faW50ZXJydXB0KGludCBpcnEsIHZvaWQgKm5hcGlfaWQpCi17Ci0J
LyogRGlzYWJsZSB0aGUgSVJRIGFuZCBzdGFydCBuYXBpX3BvbGwuICovCi0JZGlzYWJsZV9pcnFf
bm9zeW5jKGlycSk7Ci0JbmFwaV9zY2hlZHVsZShuYXBpX2lkKTsKLQotCXJldHVybiBJUlFfSEFO
RExFRDsKLX0KLQotLyoqCi0gKiBjdm1fb2N0X2NoZWNrX3Jjdl9lcnJvciAtIHByb2Nlc3MgcmVj
ZWl2ZSBlcnJvcnMKLSAqIEB3b3JrOiBXb3JrIHF1ZXVlIGVudHJ5IHBvaW50aW5nIHRvIHRoZSBw
YWNrZXQuCi0gKgotICogUmV0dXJucyBOb24temVybyBpZiB0aGUgcGFja2V0IGNhbiBiZSBkcm9w
cGVkLCB6ZXJvIG90aGVyd2lzZS4KLSAqLwotc3RhdGljIGlubGluZSBpbnQgY3ZtX29jdF9jaGVj
a19yY3ZfZXJyb3Ioc3RydWN0IGN2bXhfd3FlICp3b3JrKQotewotCWludCBwb3J0OwotCi0JaWYg
KG9jdGVvbl9oYXNfZmVhdHVyZShPQ1RFT05fRkVBVFVSRV9QS05EKSkKLQkJcG9ydCA9IHdvcmst
PndvcmQwLnBpcC5jbjY4eHgucGtuZDsKLQllbHNlCi0JCXBvcnQgPSB3b3JrLT53b3JkMS5jbjM4
eHguaXBwcnQ7Ci0KLQlpZiAoKHdvcmstPndvcmQyLnNub2lwLmVycl9jb2RlID09IDEwKSAmJiAo
d29yay0+d29yZDEubGVuIDw9IDY0KSkgewotCQkvKgotCQkgKiBJZ25vcmUgbGVuZ3RoIGVycm9y
cyBvbiBtaW4gc2l6ZSBwYWNrZXRzLiBTb21lCi0JCSAqIGVxdWlwbWVudCBpbmNvcnJlY3RseSBw
YWRzIHBhY2tldHMgdG8gNjQrNEZDUwotCQkgKiBpbnN0ZWFkIG9mIDYwKzRGQ1MuICBOb3RlIHRo
ZXNlIHBhY2tldHMgc3RpbGwgZ2V0Ci0JCSAqIGNvdW50ZWQgYXMgZnJhbWUgZXJyb3JzLgotCQkg
Ki8KLQl9IGVsc2UgaWYgKHdvcmstPndvcmQyLnNub2lwLmVycl9jb2RlID09IDUgfHwKLQkJICAg
d29yay0+d29yZDIuc25vaXAuZXJyX2NvZGUgPT0gNykgewotCQkvKgotCQkgKiBXZSByZWNlaXZl
ZCBhIHBhY2tldCB3aXRoIGVpdGhlciBhbiBhbGlnbm1lbnQgZXJyb3IKLQkJICogb3IgYSBGQ1Mg
ZXJyb3IuIFRoaXMgbWF5IGJlIHNpZ25hbGxpbmcgdGhhdCB3ZSBhcmUKLQkJICogcnVubmluZyAx
ME1icHMgd2l0aCBHTVhYX1JYWF9GUk1fQ1RMW1BSRV9DSEtdCi0JCSAqIG9mZi4gSWYgdGhpcyBp
cyB0aGUgY2FzZSB3ZSBuZWVkIHRvIHBhcnNlIHRoZQotCQkgKiBwYWNrZXQgdG8gZGV0ZXJtaW5l
IGlmIHdlIGNhbiByZW1vdmUgYSBub24gc3BlYwotCQkgKiBwcmVhbWJsZSBhbmQgZ2VuZXJhdGUg
YSBjb3JyZWN0IHBhY2tldC4KLQkJICovCi0JCWludCBpbnRlcmZhY2UgPSBjdm14X2hlbHBlcl9n
ZXRfaW50ZXJmYWNlX251bShwb3J0KTsKLQkJaW50IGluZGV4ID0gY3ZteF9oZWxwZXJfZ2V0X2lu
dGVyZmFjZV9pbmRleF9udW0ocG9ydCk7Ci0JCXVuaW9uIGN2bXhfZ214eF9yeHhfZnJtX2N0bCBn
bXh4X3J4eF9mcm1fY3RsOwotCi0JCWdteHhfcnh4X2ZybV9jdGwudTY0ID0KLQkJICAgIGN2bXhf
cmVhZF9jc3IoQ1ZNWF9HTVhYX1JYWF9GUk1fQ1RMKGluZGV4LCBpbnRlcmZhY2UpKTsKLQkJaWYg
KGdteHhfcnh4X2ZybV9jdGwucy5wcmVfY2hrID09IDApIHsKLQkJCXU4ICpwdHIgPQotCQkJICAg
IGN2bXhfcGh5c190b19wdHIod29yay0+cGFja2V0X3B0ci5zLmFkZHIpOwotCQkJaW50IGkgPSAw
OwotCi0JCQl3aGlsZSAoaSA8IHdvcmstPndvcmQxLmxlbiAtIDEpIHsKLQkJCQlpZiAoKnB0ciAh
PSAweDU1KQotCQkJCQlicmVhazsKLQkJCQlwdHIrKzsKLQkJCQlpKys7Ci0JCQl9Ci0KLQkJCWlm
ICgqcHRyID09IDB4ZDUpIHsKLQkJCQkvKiBQb3J0IHJlY2VpdmVkIDB4ZDUgcHJlYW1ibGUgKi8K
LQkJCQl3b3JrLT5wYWNrZXRfcHRyLnMuYWRkciArPSBpICsgMTsKLQkJCQl3b3JrLT53b3JkMS5s
ZW4gLT0gaSArIDU7Ci0JCQl9IGVsc2UgaWYgKCgqcHRyICYgMHhmKSA9PSAweGQpIHsKLQkJCQkv
KiBQb3J0IHJlY2VpdmVkIDB4ZCBwcmVhbWJsZSAqLwotCQkJCXdvcmstPnBhY2tldF9wdHIucy5h
ZGRyICs9IGk7Ci0JCQkJd29yay0+d29yZDEubGVuIC09IGkgKyA0OwotCQkJCWZvciAoaSA9IDA7
IGkgPCB3b3JrLT53b3JkMS5sZW47IGkrKykgewotCQkJCQkqcHRyID0KLQkJCQkJICAgICgoKnB0
ciAmIDB4ZjApID4+IDQpIHwKLQkJCQkJICAgICgoKihwdHIgKyAxKSAmIDB4ZikgPDwgNCk7Ci0J
CQkJCXB0cisrOwotCQkJCX0KLQkJCX0gZWxzZSB7Ci0JCQkJcHJpbnRrX3JhdGVsaW1pdGVkKCJQ
b3J0ICVkIHVua25vd24gcHJlYW1ibGUsIHBhY2tldCBkcm9wcGVkXG4iLAotCQkJCQkJICAgcG9y
dCk7Ci0JCQkJY3ZtX29jdF9mcmVlX3dvcmsod29yayk7Ci0JCQkJcmV0dXJuIDE7Ci0JCQl9Ci0J
CX0KLQl9IGVsc2UgewotCQlwcmludGtfcmF0ZWxpbWl0ZWQoIlBvcnQgJWQgcmVjZWl2ZSBlcnJv
ciBjb2RlICVkLCBwYWNrZXQgZHJvcHBlZFxuIiwKLQkJCQkgICBwb3J0LCB3b3JrLT53b3JkMi5z
bm9pcC5lcnJfY29kZSk7Ci0JCWN2bV9vY3RfZnJlZV93b3JrKHdvcmspOwotCQlyZXR1cm4gMTsK
LQl9Ci0KLQlyZXR1cm4gMDsKLX0KLQotc3RhdGljIHZvaWQgY29weV9zZWdtZW50c190b19za2Io
c3RydWN0IGN2bXhfd3FlICp3b3JrLCBzdHJ1Y3Qgc2tfYnVmZiAqc2tiKQotewotCWludCBzZWdt
ZW50cyA9IHdvcmstPndvcmQyLnMuYnVmczsKLQl1bmlvbiBjdm14X2J1Zl9wdHIgc2VnbWVudF9w
dHIgPSB3b3JrLT5wYWNrZXRfcHRyOwotCWludCBsZW4gPSB3b3JrLT53b3JkMS5sZW47Ci0JaW50
IHNlZ21lbnRfc2l6ZTsKLQotCXdoaWxlIChzZWdtZW50cy0tKSB7Ci0JCXVuaW9uIGN2bXhfYnVm
X3B0ciBuZXh0X3B0cjsKLQotCQluZXh0X3B0ciA9ICoodW5pb24gY3ZteF9idWZfcHRyICopCi0J
CQljdm14X3BoeXNfdG9fcHRyKHNlZ21lbnRfcHRyLnMuYWRkciAtIDgpOwotCi0JCS8qCi0JCSAq
IE9jdGVvbiBFcnJhdGEgUEtJLTEwMDogVGhlIHNlZ21lbnQgc2l6ZSBpcyB3cm9uZy4KLQkJICoK
LQkJICogVW50aWwgaXQgaXMgZml4ZWQsIGNhbGN1bGF0ZSB0aGUgc2VnbWVudCBzaXplIGJhc2Vk
IG9uCi0JCSAqIHRoZSBwYWNrZXQgcG9vbCBidWZmZXIgc2l6ZS4KLQkJICogV2hlbiBpdCBpcyBm
aXhlZCwgdGhlIGZvbGxvd2luZyBsaW5lIHNob3VsZCBiZSByZXBsYWNlZAotCQkgKiB3aXRoIHRo
aXMgb25lOgotCQkgKiBpbnQgc2VnbWVudF9zaXplID0gc2VnbWVudF9wdHIucy5zaXplOwotCQkg
Ki8KLQkJc2VnbWVudF9zaXplID0KLQkJCUNWTVhfRlBBX1BBQ0tFVF9QT09MX1NJWkUgLQotCQkJ
KHNlZ21lbnRfcHRyLnMuYWRkciAtCi0JCQkgKCgoc2VnbWVudF9wdHIucy5hZGRyID4+IDcpIC0K
LQkJCSAgIHNlZ21lbnRfcHRyLnMuYmFjaykgPDwgNykpOwotCi0JCS8qIERvbid0IGNvcHkgbW9y
ZSB0aGFuIHdoYXQgaXMgbGVmdCBpbiB0aGUgcGFja2V0ICovCi0JCWlmIChzZWdtZW50X3NpemUg
PiBsZW4pCi0JCQlzZWdtZW50X3NpemUgPSBsZW47Ci0KLQkJLyogQ29weSB0aGUgZGF0YSBpbnRv
IHRoZSBwYWNrZXQgKi8KLQkJc2tiX3B1dF9kYXRhKHNrYiwgY3ZteF9waHlzX3RvX3B0cihzZWdt
ZW50X3B0ci5zLmFkZHIpLAotCQkJICAgICBzZWdtZW50X3NpemUpOwotCQlsZW4gLT0gc2VnbWVu
dF9zaXplOwotCQlzZWdtZW50X3B0ciA9IG5leHRfcHRyOwotCX0KLX0KLQotc3RhdGljIGludCBj
dm1fb2N0X3BvbGwoc3RydWN0IG9jdF9yeF9ncm91cCAqcnhfZ3JvdXAsIGludCBidWRnZXQpCi17
Ci0JY29uc3QgaW50CWNvcmVpZCA9IGN2bXhfZ2V0X2NvcmVfbnVtKCk7Ci0JdTY0CW9sZF9ncm91
cF9tYXNrOwotCXU2NAlvbGRfc2NyYXRjaDsKLQlpbnQJCXJ4X2NvdW50ID0gMDsKLQlpbnQJCWRp
ZF93b3JrX3JlcXVlc3QgPSAwOwotCWludAkJcGFja2V0X25vdF9jb3BpZWQ7Ci0KLQkvKiBQcmVm
ZXRjaCBjdm1fb2N0X2RldmljZSBzaW5jZSB3ZSBrbm93IHdlIG5lZWQgaXQgc29vbiAqLwotCXBy
ZWZldGNoKGN2bV9vY3RfZGV2aWNlKTsKLQotCWlmIChVU0VfQVNZTkNfSU9CRE1BKSB7Ci0JCS8q
IFNhdmUgc2NyYXRjaCBpbiBjYXNlIHVzZXJzcGFjZSBpcyB1c2luZyBpdCAqLwotCQlDVk1YX1NZ
TkNJT0JETUE7Ci0JCW9sZF9zY3JhdGNoID0gY3ZteF9zY3JhdGNoX3JlYWQ2NChDVk1YX1NDUl9T
Q1JBVENIKTsKLQl9Ci0KLQkvKiBPbmx5IGFsbG93IHdvcmsgZm9yIG91ciBncm91cCAoYW5kIHBy
ZXNlcnZlIHByaW9yaXRpZXMpICovCi0JaWYgKE9DVEVPTl9JU19NT0RFTChPQ1RFT05fQ042OFhY
KSkgewotCQlvbGRfZ3JvdXBfbWFzayA9IGN2bXhfcmVhZF9jc3IoQ1ZNWF9TU09fUFBYX0dSUF9N
U0soY29yZWlkKSk7Ci0JCWN2bXhfd3JpdGVfY3NyKENWTVhfU1NPX1BQWF9HUlBfTVNLKGNvcmVp
ZCksCi0JCQkgICAgICAgQklUKHJ4X2dyb3VwLT5ncm91cCkpOwotCQljdm14X3JlYWRfY3NyKENW
TVhfU1NPX1BQWF9HUlBfTVNLKGNvcmVpZCkpOyAvKiBGbHVzaCAqLwotCX0gZWxzZSB7Ci0JCW9s
ZF9ncm91cF9tYXNrID0gY3ZteF9yZWFkX2NzcihDVk1YX1BPV19QUF9HUlBfTVNLWChjb3JlaWQp
KTsKLQkJY3ZteF93cml0ZV9jc3IoQ1ZNWF9QT1dfUFBfR1JQX01TS1goY29yZWlkKSwKLQkJCSAg
ICAgICAob2xkX2dyb3VwX21hc2sgJiB+MHhGRkZGdWxsKSB8Ci0JCQkgICAgICAgQklUKHJ4X2dy
b3VwLT5ncm91cCkpOwotCX0KLQotCWlmIChVU0VfQVNZTkNfSU9CRE1BKSB7Ci0JCWN2bXhfcG93
X3dvcmtfcmVxdWVzdF9hc3luYyhDVk1YX1NDUl9TQ1JBVENILCBDVk1YX1BPV19OT19XQUlUKTsK
LQkJZGlkX3dvcmtfcmVxdWVzdCA9IDE7Ci0JfQotCi0Jd2hpbGUgKHJ4X2NvdW50IDwgYnVkZ2V0
KSB7Ci0JCXN0cnVjdCBza19idWZmICpza2IgPSBOVUxMOwotCQlzdHJ1Y3Qgc2tfYnVmZiAqKnBz
a2IgPSBOVUxMOwotCQlpbnQgc2tiX2luX2h3OwotCQlzdHJ1Y3QgY3ZteF93cWUgKndvcms7Ci0J
CWludCBwb3J0OwotCi0JCWlmIChVU0VfQVNZTkNfSU9CRE1BICYmIGRpZF93b3JrX3JlcXVlc3Qp
Ci0JCQl3b3JrID0gY3ZteF9wb3dfd29ya19yZXNwb25zZV9hc3luYyhDVk1YX1NDUl9TQ1JBVENI
KTsKLQkJZWxzZQotCQkJd29yayA9IGN2bXhfcG93X3dvcmtfcmVxdWVzdF9zeW5jKENWTVhfUE9X
X05PX1dBSVQpOwotCi0JCXByZWZldGNoKHdvcmspOwotCQlkaWRfd29ya19yZXF1ZXN0ID0gMDsK
LQkJaWYgKCF3b3JrKSB7Ci0JCQlpZiAoT0NURU9OX0lTX01PREVMKE9DVEVPTl9DTjY4WFgpKSB7
Ci0JCQkJY3ZteF93cml0ZV9jc3IoQ1ZNWF9TU09fV1FfSVFfRElTLAotCQkJCQkgICAgICAgQklU
KHJ4X2dyb3VwLT5ncm91cCkpOwotCQkJCWN2bXhfd3JpdGVfY3NyKENWTVhfU1NPX1dRX0lOVCwK
LQkJCQkJICAgICAgIEJJVChyeF9ncm91cC0+Z3JvdXApKTsKLQkJCX0gZWxzZSB7Ci0JCQkJdW5p
b24gY3ZteF9wb3dfd3FfaW50IHdxX2ludDsKLQotCQkJCXdxX2ludC51NjQgPSAwOwotCQkJCXdx
X2ludC5zLmlxX2RpcyA9IEJJVChyeF9ncm91cC0+Z3JvdXApOwotCQkJCXdxX2ludC5zLndxX2lu
dCA9IEJJVChyeF9ncm91cC0+Z3JvdXApOwotCQkJCWN2bXhfd3JpdGVfY3NyKENWTVhfUE9XX1dR
X0lOVCwgd3FfaW50LnU2NCk7Ci0JCQl9Ci0JCQlicmVhazsKLQkJfQotCQlwc2tiID0gKHN0cnVj
dCBza19idWZmICoqKQotCQkJKGN2bV9vY3RfZ2V0X2J1ZmZlcl9wdHIod29yay0+cGFja2V0X3B0
cikgLQotCQkJc2l6ZW9mKHZvaWQgKikpOwotCQlwcmVmZXRjaChwc2tiKTsKLQotCQlpZiAoVVNF
X0FTWU5DX0lPQkRNQSAmJiByeF9jb3VudCA8IChidWRnZXQgLSAxKSkgewotCQkJY3ZteF9wb3df
d29ya19yZXF1ZXN0X2FzeW5jX25vY2hlY2soQ1ZNWF9TQ1JfU0NSQVRDSCwKLQkJCQkJCQkgICAg
Q1ZNWF9QT1dfTk9fV0FJVCk7Ci0JCQlkaWRfd29ya19yZXF1ZXN0ID0gMTsKLQkJfQotCQlyeF9j
b3VudCsrOwotCi0JCXNrYl9pbl9odyA9IHdvcmstPndvcmQyLnMuYnVmcyA9PSAxOwotCQlpZiAo
bGlrZWx5KHNrYl9pbl9odykpIHsKLQkJCXNrYiA9ICpwc2tiOwotCQkJcHJlZmV0Y2goJnNrYi0+
aGVhZCk7Ci0JCQlwcmVmZXRjaCgmc2tiLT5sZW4pOwotCQl9Ci0KLQkJaWYgKG9jdGVvbl9oYXNf
ZmVhdHVyZShPQ1RFT05fRkVBVFVSRV9QS05EKSkKLQkJCXBvcnQgPSB3b3JrLT53b3JkMC5waXAu
Y242OHh4LnBrbmQ7Ci0JCWVsc2UKLQkJCXBvcnQgPSB3b3JrLT53b3JkMS5jbjM4eHguaXBwcnQ7
Ci0KLQkJcHJlZmV0Y2goY3ZtX29jdF9kZXZpY2VbcG9ydF0pOwotCi0JCS8qIEltbWVkaWF0ZWx5
IHRocm93IGF3YXkgYWxsIHBhY2tldHMgd2l0aCByZWNlaXZlIGVycm9ycyAqLwotCQlpZiAodW5s
aWtlbHkod29yay0+d29yZDIuc25vaXAucmN2X2Vycm9yKSkgewotCQkJaWYgKGN2bV9vY3RfY2hl
Y2tfcmN2X2Vycm9yKHdvcmspKQotCQkJCWNvbnRpbnVlOwotCQl9Ci0KLQkJLyoKLQkJICogV2Ug
Y2FuIG9ubHkgdXNlIHRoZSB6ZXJvIGNvcHkgcGF0aCBpZiBza2J1ZmZzIGFyZQotCQkgKiBpbiB0
aGUgRlBBIHBvb2wgYW5kIHRoZSBwYWNrZXQgZml0cyBpbiBhIHNpbmdsZQotCQkgKiBidWZmZXIu
Ci0JCSAqLwotCQlpZiAobGlrZWx5KHNrYl9pbl9odykpIHsKLQkJCXNrYi0+ZGF0YSA9IHNrYi0+
aGVhZCArIHdvcmstPnBhY2tldF9wdHIucy5hZGRyIC0KLQkJCQljdm14X3B0cl90b19waHlzKHNr
Yi0+aGVhZCk7Ci0JCQlwcmVmZXRjaChza2ItPmRhdGEpOwotCQkJc2tiLT5sZW4gPSB3b3JrLT53
b3JkMS5sZW47Ci0JCQlza2Jfc2V0X3RhaWxfcG9pbnRlcihza2IsIHNrYi0+bGVuKTsKLQkJCXBh
Y2tldF9ub3RfY29waWVkID0gMTsKLQkJfSBlbHNlIHsKLQkJCS8qCi0JCQkgKiBXZSBoYXZlIHRv
IGNvcHkgdGhlIHBhY2tldC4gRmlyc3QgYWxsb2NhdGUKLQkJCSAqIGFuIHNrYnVmZiBmb3IgaXQu
Ci0JCQkgKi8KLQkJCXNrYiA9IGRldl9hbGxvY19za2Iod29yay0+d29yZDEubGVuKTsKLQkJCWlm
ICghc2tiKSB7Ci0JCQkJY3ZtX29jdF9mcmVlX3dvcmsod29yayk7Ci0JCQkJY29udGludWU7Ci0J
CQl9Ci0KLQkJCS8qCi0JCQkgKiBDaGVjayBpZiB3ZSd2ZSByZWNlaXZlZCBhIHBhY2tldCB0aGF0
IHdhcwotCQkJICogZW50aXJlbHkgc3RvcmVkIGluIHRoZSB3b3JrIGVudHJ5LgotCQkJICovCi0J
CQlpZiAodW5saWtlbHkod29yay0+d29yZDIucy5idWZzID09IDApKSB7Ci0JCQkJdTggKnB0ciA9
IHdvcmstPnBhY2tldF9kYXRhOwotCi0JCQkJaWYgKGxpa2VseSghd29yay0+d29yZDIucy5ub3Rf
SVApKSB7Ci0JCQkJCS8qCi0JCQkJCSAqIFRoZSBiZWdpbm5pbmcgb2YgdGhlIHBhY2tldAotCQkJ
CQkgKiBtb3ZlcyBmb3IgSVAgcGFja2V0cy4KLQkJCQkJICovCi0JCQkJCWlmICh3b3JrLT53b3Jk
Mi5zLmlzX3Y2KQotCQkJCQkJcHRyICs9IDI7Ci0JCQkJCWVsc2UKLQkJCQkJCXB0ciArPSA2Owot
CQkJCX0KLQkJCQlza2JfcHV0X2RhdGEoc2tiLCBwdHIsIHdvcmstPndvcmQxLmxlbik7Ci0JCQkJ
LyogTm8gcGFja2V0IGJ1ZmZlcnMgdG8gZnJlZSAqLwotCQkJfSBlbHNlIHsKLQkJCQljb3B5X3Nl
Z21lbnRzX3RvX3NrYih3b3JrLCBza2IpOwotCQkJfQotCQkJcGFja2V0X25vdF9jb3BpZWQgPSAw
OwotCQl9Ci0JCWlmIChsaWtlbHkoKHBvcnQgPCBUT1RBTF9OVU1CRVJfT0ZfUE9SVFMpICYmCi0J
CQkgICBjdm1fb2N0X2RldmljZVtwb3J0XSkpIHsKLQkJCXN0cnVjdCBuZXRfZGV2aWNlICpkZXYg
PSBjdm1fb2N0X2RldmljZVtwb3J0XTsKLQotCQkJLyoKLQkJCSAqIE9ubHkgYWNjZXB0IHBhY2tl
dHMgZm9yIGRldmljZXMgdGhhdCBhcmUKLQkJCSAqIGN1cnJlbnRseSB1cC4KLQkJCSAqLwotCQkJ
aWYgKGxpa2VseShkZXYtPmZsYWdzICYgSUZGX1VQKSkgewotCQkJCXNrYi0+cHJvdG9jb2wgPSBl
dGhfdHlwZV90cmFucyhza2IsIGRldik7Ci0JCQkJc2tiLT5kZXYgPSBkZXY7Ci0KLQkJCQlpZiAo
dW5saWtlbHkod29yay0+d29yZDIucy5ub3RfSVAgfHwKLQkJCQkJICAgICB3b3JrLT53b3JkMi5z
LklQX2V4YyB8fAotCQkJCQkgICAgIHdvcmstPndvcmQyLnMuTDRfZXJyb3IgfHwKLQkJCQkJICAg
ICAhd29yay0+d29yZDIucy50Y3Bfb3JfdWRwKSkKLQkJCQkJc2tiLT5pcF9zdW1tZWQgPSBDSEVD
S1NVTV9OT05FOwotCQkJCWVsc2UKLQkJCQkJc2tiLT5pcF9zdW1tZWQgPSBDSEVDS1NVTV9VTk5F
Q0VTU0FSWTsKLQotCQkJCS8qIEluY3JlbWVudCBSWCBzdGF0cyBmb3IgdmlydHVhbCBwb3J0cyAq
LwotCQkJCWlmIChwb3J0ID49IENWTVhfUElQX05VTV9JTlBVVF9QT1JUUykgewotCQkJCQlkZXYt
PnN0YXRzLnJ4X3BhY2tldHMrKzsKLQkJCQkJZGV2LT5zdGF0cy5yeF9ieXRlcyArPSBza2ItPmxl
bjsKLQkJCQl9Ci0JCQkJbmV0aWZfcmVjZWl2ZV9za2Ioc2tiKTsKLQkJCX0gZWxzZSB7Ci0JCQkJ
LyoKLQkJCQkgKiBEcm9wIGFueSBwYWNrZXQgcmVjZWl2ZWQgZm9yIGEgZGV2aWNlIHRoYXQKLQkJ
CQkgKiBpc24ndCB1cC4KLQkJCQkgKi8KLQkJCQlkZXYtPnN0YXRzLnJ4X2Ryb3BwZWQrKzsKLQkJ
CQlkZXZfa2ZyZWVfc2tiX2lycShza2IpOwotCQkJfQotCQl9IGVsc2UgewotCQkJLyoKLQkJCSAq
IERyb3AgYW55IHBhY2tldCByZWNlaXZlZCBmb3IgYSBkZXZpY2UgdGhhdAotCQkJICogZG9lc24n
dCBleGlzdC4KLQkJCSAqLwotCQkJcHJpbnRrX3JhdGVsaW1pdGVkKCJQb3J0ICVkIG5vdCBjb250
cm9sbGVkIGJ5IExpbnV4LCBwYWNrZXQgZHJvcHBlZFxuIiwKLQkJCQkJICAgcG9ydCk7Ci0JCQlk
ZXZfa2ZyZWVfc2tiX2lycShza2IpOwotCQl9Ci0JCS8qCi0JCSAqIENoZWNrIHRvIHNlZSBpZiB0
aGUgc2tidWZmIGFuZCB3b3JrIHNoYXJlIHRoZSBzYW1lCi0JCSAqIHBhY2tldCBidWZmZXIuCi0J
CSAqLwotCQlpZiAobGlrZWx5KHBhY2tldF9ub3RfY29waWVkKSkgewotCQkJLyoKLQkJCSAqIFRo
aXMgYnVmZmVyIG5lZWRzIHRvIGJlIHJlcGxhY2VkLCBpbmNyZW1lbnQKLQkJCSAqIHRoZSBudW1i
ZXIgb2YgYnVmZmVycyB3ZSBuZWVkIHRvIGZyZWUgYnkKLQkJCSAqIG9uZS4KLQkJCSAqLwotCQkJ
Y3ZteF9mYXVfYXRvbWljX2FkZDMyKEZBVV9OVU1fUEFDS0VUX0JVRkZFUlNfVE9fRlJFRSwKLQkJ
CQkJICAgICAgMSk7Ci0KLQkJCWN2bXhfZnBhX2ZyZWUod29yaywgQ1ZNWF9GUEFfV1FFX1BPT0ws
IDEpOwotCQl9IGVsc2UgewotCQkJY3ZtX29jdF9mcmVlX3dvcmsod29yayk7Ci0JCX0KLQl9Ci0J
LyogUmVzdG9yZSB0aGUgb3JpZ2luYWwgUE9XIGdyb3VwIG1hc2sgKi8KLQlpZiAoT0NURU9OX0lT
X01PREVMKE9DVEVPTl9DTjY4WFgpKSB7Ci0JCWN2bXhfd3JpdGVfY3NyKENWTVhfU1NPX1BQWF9H
UlBfTVNLKGNvcmVpZCksIG9sZF9ncm91cF9tYXNrKTsKLQkJY3ZteF9yZWFkX2NzcihDVk1YX1NT
T19QUFhfR1JQX01TSyhjb3JlaWQpKTsgLyogRmx1c2ggKi8KLQl9IGVsc2UgewotCQljdm14X3dy
aXRlX2NzcihDVk1YX1BPV19QUF9HUlBfTVNLWChjb3JlaWQpLCBvbGRfZ3JvdXBfbWFzayk7Ci0J
fQotCi0JaWYgKFVTRV9BU1lOQ19JT0JETUEpIHsKLQkJLyogUmVzdG9yZSB0aGUgc2NyYXRjaCBh
cmVhICovCi0JCWN2bXhfc2NyYXRjaF93cml0ZTY0KENWTVhfU0NSX1NDUkFUQ0gsIG9sZF9zY3Jh
dGNoKTsKLQl9Ci0JY3ZtX29jdF9yeF9yZWZpbGxfcG9vbCgwKTsKLQotCXJldHVybiByeF9jb3Vu
dDsKLX0KLQotLyoqCi0gKiBjdm1fb2N0X25hcGlfcG9sbCAtIHRoZSBOQVBJIHBvbGwgZnVuY3Rp
b24uCi0gKiBAbmFwaTogVGhlIE5BUEkgaW5zdGFuY2UuCi0gKiBAYnVkZ2V0OiBNYXhpbXVtIG51
bWJlciBvZiBwYWNrZXRzIHRvIHJlY2VpdmUuCi0gKgotICogUmV0dXJucyB0aGUgbnVtYmVyIG9m
IHBhY2tldHMgcHJvY2Vzc2VkLgotICovCi1zdGF0aWMgaW50IGN2bV9vY3RfbmFwaV9wb2xsKHN0
cnVjdCBuYXBpX3N0cnVjdCAqbmFwaSwgaW50IGJ1ZGdldCkKLXsKLQlzdHJ1Y3Qgb2N0X3J4X2dy
b3VwICpyeF9ncm91cCA9IGNvbnRhaW5lcl9vZihuYXBpLCBzdHJ1Y3Qgb2N0X3J4X2dyb3VwLAot
CQkJCQkJICAgICBuYXBpKTsKLQlpbnQgcnhfY291bnQ7Ci0KLQlyeF9jb3VudCA9IGN2bV9vY3Rf
cG9sbChyeF9ncm91cCwgYnVkZ2V0KTsKLQotCWlmIChyeF9jb3VudCA8IGJ1ZGdldCkgewotCQkv
KiBObyBtb3JlIHdvcmsgKi8KLQkJbmFwaV9jb21wbGV0ZV9kb25lKG5hcGksIHJ4X2NvdW50KTsK
LQkJZW5hYmxlX2lycShyeF9ncm91cC0+aXJxKTsKLQl9Ci0JcmV0dXJuIHJ4X2NvdW50OwotfQot
Ci0jaWZkZWYgQ09ORklHX05FVF9QT0xMX0NPTlRST0xMRVIKLS8qKgotICogY3ZtX29jdF9wb2xs
X2NvbnRyb2xsZXIgLSBwb2xsIGZvciByZWNlaXZlIHBhY2tldHMKLSAqIGRldmljZS4KLSAqCi0g
KiBAZGV2OiAgICBEZXZpY2UgdG8gcG9sbC4gVW51c2VkCi0gKi8KLXZvaWQgY3ZtX29jdF9wb2xs
X2NvbnRyb2xsZXIoc3RydWN0IG5ldF9kZXZpY2UgKmRldikKLXsKLQlpbnQgaTsKLQotCWlmICgh
YXRvbWljX3JlYWQoJm9jdF9yeF9yZWFkeSkpCi0JCXJldHVybjsKLQotCWZvciAoaSA9IDA7IGkg
PCBBUlJBWV9TSVpFKG9jdF9yeF9ncm91cCk7IGkrKykgewotCQlpZiAoIShwb3dfcmVjZWl2ZV9n
cm91cHMgJiBCSVQoaSkpKQotCQkJY29udGludWU7Ci0KLQkJY3ZtX29jdF9wb2xsKCZvY3Rfcnhf
Z3JvdXBbaV0sIDE2KTsKLQl9Ci19Ci0jZW5kaWYKLQotdm9pZCBjdm1fb2N0X3J4X2luaXRpYWxp
emUodm9pZCkKLXsKLQlpbnQgaTsKLQlzdHJ1Y3QgbmV0X2RldmljZSAqZGV2X2Zvcl9uYXBpID0g
TlVMTDsKLQotCWZvciAoaSA9IDA7IGkgPCBUT1RBTF9OVU1CRVJfT0ZfUE9SVFM7IGkrKykgewot
CQlpZiAoY3ZtX29jdF9kZXZpY2VbaV0pIHsKLQkJCWRldl9mb3JfbmFwaSA9IGN2bV9vY3RfZGV2
aWNlW2ldOwotCQkJYnJlYWs7Ci0JCX0KLQl9Ci0KLQlpZiAoIWRldl9mb3JfbmFwaSkKLQkJcGFu
aWMoIk5vIG5ldF9kZXZpY2VzIHdlcmUgYWxsb2NhdGVkLiIpOwotCi0JZm9yIChpID0gMDsgaSA8
IEFSUkFZX1NJWkUob2N0X3J4X2dyb3VwKTsgaSsrKSB7Ci0JCWludCByZXQ7Ci0KLQkJaWYgKCEo
cG93X3JlY2VpdmVfZ3JvdXBzICYgQklUKGkpKSkKLQkJCWNvbnRpbnVlOwotCi0JCW5ldGlmX25h
cGlfYWRkKGRldl9mb3JfbmFwaSwgJm9jdF9yeF9ncm91cFtpXS5uYXBpLAotCQkJICAgICAgIGN2
bV9vY3RfbmFwaV9wb2xsLCByeF9uYXBpX3dlaWdodCk7Ci0JCW5hcGlfZW5hYmxlKCZvY3Rfcnhf
Z3JvdXBbaV0ubmFwaSk7Ci0KLQkJb2N0X3J4X2dyb3VwW2ldLmlycSA9IE9DVEVPTl9JUlFfV09S
S1EwICsgaTsKLQkJb2N0X3J4X2dyb3VwW2ldLmdyb3VwID0gaTsKLQotCQkvKiBSZWdpc3RlciBh
biBJUlEgaGFuZGxlciB0byByZWNlaXZlIFBPVyBpbnRlcnJ1cHRzICovCi0JCXJldCA9IHJlcXVl
c3RfaXJxKG9jdF9yeF9ncm91cFtpXS5pcnEsIGN2bV9vY3RfZG9faW50ZXJydXB0LCAwLAotCQkJ
CSAgIkV0aGVybmV0IiwgJm9jdF9yeF9ncm91cFtpXS5uYXBpKTsKLQkJaWYgKHJldCkKLQkJCXBh
bmljKCJDb3VsZCBub3QgYWNxdWlyZSBFdGhlcm5ldCBJUlEgJWRcbiIsCi0JCQkgICAgICBvY3Rf
cnhfZ3JvdXBbaV0uaXJxKTsKLQotCQlkaXNhYmxlX2lycV9ub3N5bmMob2N0X3J4X2dyb3VwW2ld
LmlycSk7Ci0KLQkJLyogRW5hYmxlIFBPVyBpbnRlcnJ1cHQgd2hlbiBvdXIgcG9ydCBoYXMgYXQg
bGVhc3Qgb25lIHBhY2tldCAqLwotCQlpZiAoT0NURU9OX0lTX01PREVMKE9DVEVPTl9DTjY4WFgp
KSB7Ci0JCQl1bmlvbiBjdm14X3Nzb193cV9pbnRfdGhyeCBpbnRfdGhyOwotCQkJdW5pb24gY3Zt
eF9wb3dfd3FfaW50X3BjIGludF9wYzsKLQotCQkJaW50X3Roci51NjQgPSAwOwotCQkJaW50X3Ro
ci5zLnRjX2VuID0gMTsKLQkJCWludF90aHIucy50Y190aHIgPSAxOwotCQkJY3ZteF93cml0ZV9j
c3IoQ1ZNWF9TU09fV1FfSU5UX1RIUlgoaSksIGludF90aHIudTY0KTsKLQotCQkJaW50X3BjLnU2
NCA9IDA7Ci0JCQlpbnRfcGMucy5wY190aHIgPSA1OwotCQkJY3ZteF93cml0ZV9jc3IoQ1ZNWF9T
U09fV1FfSU5UX1BDLCBpbnRfcGMudTY0KTsKLQkJfSBlbHNlIHsKLQkJCXVuaW9uIGN2bXhfcG93
X3dxX2ludF90aHJ4IGludF90aHI7Ci0JCQl1bmlvbiBjdm14X3Bvd193cV9pbnRfcGMgaW50X3Bj
OwotCi0JCQlpbnRfdGhyLnU2NCA9IDA7Ci0JCQlpbnRfdGhyLnMudGNfZW4gPSAxOwotCQkJaW50
X3Roci5zLnRjX3RociA9IDE7Ci0JCQljdm14X3dyaXRlX2NzcihDVk1YX1BPV19XUV9JTlRfVEhS
WChpKSwgaW50X3Roci51NjQpOwotCi0JCQlpbnRfcGMudTY0ID0gMDsKLQkJCWludF9wYy5zLnBj
X3RociA9IDU7Ci0JCQljdm14X3dyaXRlX2NzcihDVk1YX1BPV19XUV9JTlRfUEMsIGludF9wYy51
NjQpOwotCQl9Ci0KLQkJLyogU2NoZWR1bGUgTkFQSSBub3cuIFRoaXMgd2lsbCBpbmRpcmVjdGx5
IGVuYWJsZSB0aGUKLQkJICogaW50ZXJydXB0LgotCQkgKi8KLQkJbmFwaV9zY2hlZHVsZSgmb2N0
X3J4X2dyb3VwW2ldLm5hcGkpOwotCX0KLQlhdG9taWNfaW5jKCZvY3RfcnhfcmVhZHkpOwotfQot
Ci12b2lkIGN2bV9vY3Rfcnhfc2h1dGRvd24odm9pZCkKLXsKLQlpbnQgaTsKLQotCWZvciAoaSA9
IDA7IGkgPCBBUlJBWV9TSVpFKG9jdF9yeF9ncm91cCk7IGkrKykgewotCQlpZiAoIShwb3dfcmVj
ZWl2ZV9ncm91cHMgJiBCSVQoaSkpKQotCQkJY29udGludWU7Ci0KLQkJLyogRGlzYWJsZSBQT1cg
aW50ZXJydXB0ICovCi0JCWlmIChPQ1RFT05fSVNfTU9ERUwoT0NURU9OX0NONjhYWCkpCi0JCQlj
dm14X3dyaXRlX2NzcihDVk1YX1NTT19XUV9JTlRfVEhSWChpKSwgMCk7Ci0JCWVsc2UKLQkJCWN2
bXhfd3JpdGVfY3NyKENWTVhfUE9XX1dRX0lOVF9USFJYKGkpLCAwKTsKLQotCQkvKiBGcmVlIHRo
ZSBpbnRlcnJ1cHQgaGFuZGxlciAqLwotCQlmcmVlX2lycShvY3RfcnhfZ3JvdXBbaV0uaXJxLCBj
dm1fb2N0X2RldmljZSk7Ci0KLQkJbmV0aWZfbmFwaV9kZWwoJm9jdF9yeF9ncm91cFtpXS5uYXBp
KTsKLQl9Ci19CmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcvb2N0ZW9uL2V0aGVybmV0LXJ4
LmggYi9kcml2ZXJzL3N0YWdpbmcvb2N0ZW9uL2V0aGVybmV0LXJ4LmgKZGVsZXRlZCBmaWxlIG1v
ZGUgMTAwNjQ0CmluZGV4IGZmNjQ4MmZhMjBkNi4uMDAwMDAwMDAwMDAwCi0tLSBhL2RyaXZlcnMv
c3RhZ2luZy9vY3Rlb24vZXRoZXJuZXQtcnguaAorKysgL2Rldi9udWxsCkBAIC0xLDMxICswLDAg
QEAKLS8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wICovCi0vKgotICogVGhpcyBm
aWxlIGlzIGJhc2VkIG9uIGNvZGUgZnJvbSBPQ1RFT04gU0RLIGJ5IENhdml1bSBOZXR3b3Jrcy4K
LSAqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDMtMjAwNyBDYXZpdW0gTmV0d29ya3MKLSAqLwotCi12
b2lkIGN2bV9vY3RfcG9sbF9jb250cm9sbGVyKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpOwotdm9p
ZCBjdm1fb2N0X3J4X2luaXRpYWxpemUodm9pZCk7Ci12b2lkIGN2bV9vY3Rfcnhfc2h1dGRvd24o
dm9pZCk7Ci0KLXN0YXRpYyBpbmxpbmUgdm9pZCBjdm1fb2N0X3J4X3JlZmlsbF9wb29sKGludCBm
aWxsX3RocmVzaG9sZCkKLXsKLQlpbnQgbnVtYmVyX3RvX2ZyZWU7Ci0JaW50IG51bV9mcmVlZDsK
LQkvKiBSZWZpbGwgdGhlIHBhY2tldCBidWZmZXIgcG9vbCAqLwotCW51bWJlcl90b19mcmVlID0K
LQkJY3ZteF9mYXVfZmV0Y2hfYW5kX2FkZDMyKEZBVV9OVU1fUEFDS0VUX0JVRkZFUlNfVE9fRlJF
RSwgMCk7Ci0KLQlpZiAobnVtYmVyX3RvX2ZyZWUgPiBmaWxsX3RocmVzaG9sZCkgewotCQljdm14
X2ZhdV9hdG9taWNfYWRkMzIoRkFVX05VTV9QQUNLRVRfQlVGRkVSU19UT19GUkVFLAotCQkJCSAg
ICAgIC1udW1iZXJfdG9fZnJlZSk7Ci0JCW51bV9mcmVlZCA9IGN2bV9vY3RfbWVtX2ZpbGxfZnBh
KENWTVhfRlBBX1BBQ0tFVF9QT09MLAotCQkJCQkJIENWTVhfRlBBX1BBQ0tFVF9QT09MX1NJWkUs
Ci0JCQkJCQkgbnVtYmVyX3RvX2ZyZWUpOwotCQlpZiAobnVtX2ZyZWVkICE9IG51bWJlcl90b19m
cmVlKSB7Ci0JCQljdm14X2ZhdV9hdG9taWNfYWRkMzIoRkFVX05VTV9QQUNLRVRfQlVGRkVSU19U
T19GUkVFLAotCQkJCQkgICAgICBudW1iZXJfdG9fZnJlZSAtIG51bV9mcmVlZCk7Ci0JCX0KLQl9
Ci19CmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcvb2N0ZW9uL2V0aGVybmV0LXNnbWlpLmMg
Yi9kcml2ZXJzL3N0YWdpbmcvb2N0ZW9uL2V0aGVybmV0LXNnbWlpLmMKZGVsZXRlZCBmaWxlIG1v
ZGUgMTAwNjQ0CmluZGV4IGQ3ZmJkOTE1OTMwMi4uMDAwMDAwMDAwMDAwCi0tLSBhL2RyaXZlcnMv
c3RhZ2luZy9vY3Rlb24vZXRoZXJuZXQtc2dtaWkuYworKysgL2Rldi9udWxsCkBAIC0xLDMwICsw
LDAgQEAKLS8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wCi0vKgotICogVGhpcyBm
aWxlIGlzIGJhc2VkIG9uIGNvZGUgZnJvbSBPQ1RFT04gU0RLIGJ5IENhdml1bSBOZXR3b3Jrcy4K
LSAqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDMtMjAwNyBDYXZpdW0gTmV0d29ya3MKLSAqLwotCi0j
aW5jbHVkZSA8bGludXgvcGh5Lmg+Ci0jaW5jbHVkZSA8bGludXgva2VybmVsLmg+Ci0jaW5jbHVk
ZSA8bGludXgvbmV0ZGV2aWNlLmg+Ci0jaW5jbHVkZSA8bGludXgvcmF0ZWxpbWl0Lmg+Ci0jaW5j
bHVkZSA8bmV0L2RzdC5oPgotCi0jaW5jbHVkZSAib2N0ZW9uLWV0aGVybmV0LmgiCi0jaW5jbHVk
ZSAiZXRoZXJuZXQtZGVmaW5lcy5oIgotI2luY2x1ZGUgImV0aGVybmV0LXV0aWwuaCIKLSNpbmNs
dWRlICJldGhlcm5ldC1tZGlvLmgiCi0KLWludCBjdm1fb2N0X3NnbWlpX29wZW4oc3RydWN0IG5l
dF9kZXZpY2UgKmRldikKLXsKLQlyZXR1cm4gY3ZtX29jdF9jb21tb25fb3BlbihkZXYsIGN2bV9v
Y3RfbGlua19wb2xsKTsKLX0KLQotaW50IGN2bV9vY3Rfc2dtaWlfaW5pdChzdHJ1Y3QgbmV0X2Rl
dmljZSAqZGV2KQotewotCWN2bV9vY3RfY29tbW9uX2luaXQoZGV2KTsKLQotCS8qIEZJWE1FOiBO
ZWVkIGF1dG9uZWcgbG9naWMgKi8KLQlyZXR1cm4gMDsKLX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMv
c3RhZ2luZy9vY3Rlb24vZXRoZXJuZXQtc3BpLmMgYi9kcml2ZXJzL3N0YWdpbmcvb2N0ZW9uL2V0
aGVybmV0LXNwaS5jCmRlbGV0ZWQgZmlsZSBtb2RlIDEwMDY0NAppbmRleCBjNTgyNDAzZTZhMWYu
LjAwMDAwMDAwMDAwMAotLS0gYS9kcml2ZXJzL3N0YWdpbmcvb2N0ZW9uL2V0aGVybmV0LXNwaS5j
CisrKyAvZGV2L251bGwKQEAgLTEsMjI2ICswLDAgQEAKLS8vIFNQRFgtTGljZW5zZS1JZGVudGlm
aWVyOiBHUEwtMi4wCi0vKgotICogVGhpcyBmaWxlIGlzIGJhc2VkIG9uIGNvZGUgZnJvbSBPQ1RF
T04gU0RLIGJ5IENhdml1bSBOZXR3b3Jrcy4KLSAqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDMtMjAw
NyBDYXZpdW0gTmV0d29ya3MKLSAqLwotCi0jaW5jbHVkZSA8bGludXgva2VybmVsLmg+Ci0jaW5j
bHVkZSA8bGludXgvbmV0ZGV2aWNlLmg+Ci0jaW5jbHVkZSA8bGludXgvaW50ZXJydXB0Lmg+Ci0j
aW5jbHVkZSA8bmV0L2RzdC5oPgotCi0jaW5jbHVkZSAib2N0ZW9uLWV0aGVybmV0LmgiCi0jaW5j
bHVkZSAiZXRoZXJuZXQtZGVmaW5lcy5oIgotI2luY2x1ZGUgImV0aGVybmV0LXV0aWwuaCIKLQot
c3RhdGljIGludCBudW1iZXJfc3BpX3BvcnRzOwotc3RhdGljIGludCBuZWVkX3JldHJhaW5bMl0g
PSB7IDAsIDAgfTsKLQotc3RhdGljIHZvaWQgY3ZtX29jdF9zcHh4X2ludF9wcih1bmlvbiBjdm14
X3NweHhfaW50X3JlZyBzcHhfaW50X3JlZywgaW50IGluZGV4KQotewotCWlmIChzcHhfaW50X3Jl
Zy5zLnNwZikKLQkJcHJfZXJyKCJTUEklZDogU1JYIFNwaTQgaW50ZXJmYWNlIGRvd25cbiIsIGlu
ZGV4KTsKLQlpZiAoc3B4X2ludF9yZWcucy5jYWxlcnIpCi0JCXByX2VycigiU1BJJWQ6IFNSWCBT
cGk0IENhbGVuZGFyIHRhYmxlIHBhcml0eSBlcnJvclxuIiwgaW5kZXgpOwotCWlmIChzcHhfaW50
X3JlZy5zLnN5bmNlcnIpCi0JCXByX2VycigiU1BJJWQ6IFNSWCBDb25zZWN1dGl2ZSBTcGk0IERJ
UDQgZXJyb3JzIGhhdmUgZXhjZWVkZWQgU1BYX0VSUl9DVExbRVJSQ05UXVxuIiwKLQkJICAgICAg
IGluZGV4KTsKLQlpZiAoc3B4X2ludF9yZWcucy5kaXBlcnIpCi0JCXByX2VycigiU1BJJWQ6IFNS
WCBTcGk0IERJUDQgZXJyb3JcbiIsIGluZGV4KTsKLQlpZiAoc3B4X2ludF9yZWcucy50cGFvdnIp
Ci0JCXByX2VycigiU1BJJWQ6IFNSWCBTZWxlY3RlZCBwb3J0IGhhcyBoaXQgVFBBIG92ZXJmbG93
XG4iLAotCQkgICAgICAgaW5kZXgpOwotCWlmIChzcHhfaW50X3JlZy5zLnJzdmVycikKLQkJcHJf
ZXJyKCJTUEklZDogU1JYIFNwaTQgcmVzZXJ2ZWQgY29udHJvbCB3b3JkIGRldGVjdGVkXG4iLAot
CQkgICAgICAgaW5kZXgpOwotCWlmIChzcHhfaW50X3JlZy5zLmRyd25uZykKLQkJcHJfZXJyKCJT
UEklZDogU1JYIFNwaTQgcmVjZWl2ZSBGSUZPIGRyb3duaW5nL292ZXJmbG93XG4iLAotCQkgICAg
ICAgaW5kZXgpOwotCWlmIChzcHhfaW50X3JlZy5zLmNsc2VycikKLQkJcHJfZXJyKCJTUEklZDog
U1JYIFNwaTQgcGFja2V0IGNsb3NlZCBvbiBub24tMTZCIGFsaWdubWVudCB3aXRob3V0IEVPUFxu
IiwKLQkJICAgICAgIGluZGV4KTsKLQlpZiAoc3B4X2ludF9yZWcucy5zcGlvdnIpCi0JCXByX2Vy
cigiU1BJJWQ6IFNSWCBTcGk0IGFzeW5jIEZJRk8gb3ZlcmZsb3dcbiIsIGluZGV4KTsKLQlpZiAo
c3B4X2ludF9yZWcucy5hYm5vcm0pCi0JCXByX2VycigiU1BJJWQ6IFNSWCBBYm5vcm1hbCBwYWNr
ZXQgdGVybWluYXRpb24gKEVSUiBiaXQpXG4iLAotCQkgICAgICAgaW5kZXgpOwotCWlmIChzcHhf
aW50X3JlZy5zLnBydG54YSkKLQkJcHJfZXJyKCJTUEklZDogU1JYIFBvcnQgb3V0IG9mIHJhbmdl
XG4iLCBpbmRleCk7Ci19Ci0KLXN0YXRpYyB2b2lkIGN2bV9vY3Rfc3R4eF9pbnRfcHIodW5pb24g
Y3ZteF9zdHh4X2ludF9yZWcgc3R4X2ludF9yZWcsIGludCBpbmRleCkKLXsKLQlpZiAoc3R4X2lu
dF9yZWcucy5zeW5jZXJyKQotCQlwcl9lcnIoIlNQSSVkOiBTVFggSW50ZXJmYWNlIGVuY291bnRl
cmVkIGEgZmF0YWwgZXJyb3JcbiIsCi0JCSAgICAgICBpbmRleCk7Ci0JaWYgKHN0eF9pbnRfcmVn
LnMuZnJtZXJyKQotCQlwcl9lcnIoIlNQSSVkOiBTVFggRlJNQ05UIGhhcyBleGNlZWRlZCBTVFhf
RElQX0NOVFtNQVhGUk1dXG4iLAotCQkgICAgICAgaW5kZXgpOwotCWlmIChzdHhfaW50X3JlZy5z
LnVueGZybSkKLQkJcHJfZXJyKCJTUEklZDogU1RYIFVuZXhwZWN0ZWQgZnJhbWluZyBzZXF1ZW5j
ZVxuIiwgaW5kZXgpOwotCWlmIChzdHhfaW50X3JlZy5zLm5vc3luYykKLQkJcHJfZXJyKCJTUEkl
ZDogU1RYIEVSUkNOVCBoYXMgZXhjZWVkZWQgU1RYX0RJUF9DTlRbTUFYRElQXVxuIiwKLQkJICAg
ICAgIGluZGV4KTsKLQlpZiAoc3R4X2ludF9yZWcucy5kaXBlcnIpCi0JCXByX2VycigiU1BJJWQ6
IFNUWCBESVAyIGVycm9yIG9uIHRoZSBTcGk0IFN0YXR1cyBjaGFubmVsXG4iLAotCQkgICAgICAg
aW5kZXgpOwotCWlmIChzdHhfaW50X3JlZy5zLmRhdG92cikKLQkJcHJfZXJyKCJTUEklZDogU1RY
IFNwaTQgRklGTyBvdmVyZmxvdyBlcnJvclxuIiwgaW5kZXgpOwotCWlmIChzdHhfaW50X3JlZy5z
Lm92cmJzdCkKLQkJcHJfZXJyKCJTUEklZDogU1RYIFRyYW5zbWl0IHBhY2tldCBidXJzdCB0b28g
YmlnXG4iLCBpbmRleCk7Ci0JaWYgKHN0eF9pbnRfcmVnLnMuY2FscGFyMSkKLQkJcHJfZXJyKCJT
UEklZDogU1RYIENhbGVuZGFyIFRhYmxlIFBhcml0eSBFcnJvciBCYW5rJWRcbiIsCi0JCSAgICAg
ICBpbmRleCwgMSk7Ci0JaWYgKHN0eF9pbnRfcmVnLnMuY2FscGFyMCkKLQkJcHJfZXJyKCJTUEkl
ZDogU1RYIENhbGVuZGFyIFRhYmxlIFBhcml0eSBFcnJvciBCYW5rJWRcbiIsCi0JCSAgICAgICBp
bmRleCwgMCk7Ci19Ci0KLXN0YXRpYyBpcnFyZXR1cm5fdCBjdm1fb2N0X3NwaV9zcHhfaW50KGlu
dCBpbmRleCkKLXsKLQl1bmlvbiBjdm14X3NweHhfaW50X3JlZyBzcHhfaW50X3JlZzsKLQl1bmlv
biBjdm14X3N0eHhfaW50X3JlZyBzdHhfaW50X3JlZzsKLQotCXNweF9pbnRfcmVnLnU2NCA9IGN2
bXhfcmVhZF9jc3IoQ1ZNWF9TUFhYX0lOVF9SRUcoaW5kZXgpKTsKLQljdm14X3dyaXRlX2NzcihD
Vk1YX1NQWFhfSU5UX1JFRyhpbmRleCksIHNweF9pbnRfcmVnLnU2NCk7Ci0JaWYgKCFuZWVkX3Jl
dHJhaW5baW5kZXhdKSB7Ci0JCXNweF9pbnRfcmVnLnU2NCAmPSBjdm14X3JlYWRfY3NyKENWTVhf
U1BYWF9JTlRfTVNLKGluZGV4KSk7Ci0JCWN2bV9vY3Rfc3B4eF9pbnRfcHIoc3B4X2ludF9yZWcs
IGluZGV4KTsKLQl9Ci0KLQlzdHhfaW50X3JlZy51NjQgPSBjdm14X3JlYWRfY3NyKENWTVhfU1RY
WF9JTlRfUkVHKGluZGV4KSk7Ci0JY3ZteF93cml0ZV9jc3IoQ1ZNWF9TVFhYX0lOVF9SRUcoaW5k
ZXgpLCBzdHhfaW50X3JlZy51NjQpOwotCWlmICghbmVlZF9yZXRyYWluW2luZGV4XSkgewotCQlz
dHhfaW50X3JlZy51NjQgJj0gY3ZteF9yZWFkX2NzcihDVk1YX1NUWFhfSU5UX01TSyhpbmRleCkp
OwotCQljdm1fb2N0X3N0eHhfaW50X3ByKHN0eF9pbnRfcmVnLCBpbmRleCk7Ci0JfQotCi0JY3Zt
eF93cml0ZV9jc3IoQ1ZNWF9TUFhYX0lOVF9NU0soaW5kZXgpLCAwKTsKLQljdm14X3dyaXRlX2Nz
cihDVk1YX1NUWFhfSU5UX01TSyhpbmRleCksIDApOwotCW5lZWRfcmV0cmFpbltpbmRleF0gPSAx
OwotCi0JcmV0dXJuIElSUV9IQU5ETEVEOwotfQotCi1zdGF0aWMgaXJxcmV0dXJuX3QgY3ZtX29j
dF9zcGlfcm1sX2ludGVycnVwdChpbnQgY3BsLCB2b2lkICpkZXZfaWQpCi17Ci0JaXJxcmV0dXJu
X3QgcmV0dXJuX3N0YXR1cyA9IElSUV9OT05FOwotCXVuaW9uIGN2bXhfbnBpX3JzbF9pbnRfYmxv
Y2tzIHJzbF9pbnRfYmxvY2tzOwotCi0JLyogQ2hlY2sgYW5kIHNlZSBpZiB0aGlzIGludGVycnVw
dCB3YXMgY2F1c2VkIGJ5IHRoZSBHTVggYmxvY2sgKi8KLQlyc2xfaW50X2Jsb2Nrcy51NjQgPSBj
dm14X3JlYWRfY3NyKENWTVhfTlBJX1JTTF9JTlRfQkxPQ0tTKTsKLQlpZiAocnNsX2ludF9ibG9j
a3Mucy5zcHgxKSAvKiAxOSAtIFNQWDFfSU5UX1JFRyAmIFNUWDFfSU5UX1JFRyAqLwotCQlyZXR1
cm5fc3RhdHVzID0gY3ZtX29jdF9zcGlfc3B4X2ludCgxKTsKLQotCWlmIChyc2xfaW50X2Jsb2Nr
cy5zLnNweDApIC8qIDE4IC0gU1BYMF9JTlRfUkVHICYgU1RYMF9JTlRfUkVHICovCi0JCXJldHVy
bl9zdGF0dXMgPSBjdm1fb2N0X3NwaV9zcHhfaW50KDApOwotCi0JcmV0dXJuIHJldHVybl9zdGF0
dXM7Ci19Ci0KLXN0YXRpYyB2b2lkIGN2bV9vY3Rfc3BpX2VuYWJsZV9lcnJvcl9yZXBvcnRpbmco
aW50IGludGVyZmFjZSkKLXsKLQl1bmlvbiBjdm14X3NweHhfaW50X21zayBzcHh4X2ludF9tc2s7
Ci0JdW5pb24gY3ZteF9zdHh4X2ludF9tc2sgc3R4eF9pbnRfbXNrOwotCi0Jc3B4eF9pbnRfbXNr
LnU2NCA9IGN2bXhfcmVhZF9jc3IoQ1ZNWF9TUFhYX0lOVF9NU0soaW50ZXJmYWNlKSk7Ci0Jc3B4
eF9pbnRfbXNrLnMuY2FsZXJyID0gMTsKLQlzcHh4X2ludF9tc2sucy5zeW5jZXJyID0gMTsKLQlz
cHh4X2ludF9tc2sucy5kaXBlcnIgPSAxOwotCXNweHhfaW50X21zay5zLnRwYW92ciA9IDE7Ci0J
c3B4eF9pbnRfbXNrLnMucnN2ZXJyID0gMTsKLQlzcHh4X2ludF9tc2sucy5kcndubmcgPSAxOwot
CXNweHhfaW50X21zay5zLmNsc2VyciA9IDE7Ci0Jc3B4eF9pbnRfbXNrLnMuc3Bpb3ZyID0gMTsK
LQlzcHh4X2ludF9tc2sucy5hYm5vcm0gPSAxOwotCXNweHhfaW50X21zay5zLnBydG54YSA9IDE7
Ci0JY3ZteF93cml0ZV9jc3IoQ1ZNWF9TUFhYX0lOVF9NU0soaW50ZXJmYWNlKSwgc3B4eF9pbnRf
bXNrLnU2NCk7Ci0KLQlzdHh4X2ludF9tc2sudTY0ID0gY3ZteF9yZWFkX2NzcihDVk1YX1NUWFhf
SU5UX01TSyhpbnRlcmZhY2UpKTsKLQlzdHh4X2ludF9tc2sucy5mcm1lcnIgPSAxOwotCXN0eHhf
aW50X21zay5zLnVueGZybSA9IDE7Ci0Jc3R4eF9pbnRfbXNrLnMubm9zeW5jID0gMTsKLQlzdHh4
X2ludF9tc2sucy5kaXBlcnIgPSAxOwotCXN0eHhfaW50X21zay5zLmRhdG92ciA9IDE7Ci0Jc3R4
eF9pbnRfbXNrLnMub3ZyYnN0ID0gMTsKLQlzdHh4X2ludF9tc2sucy5jYWxwYXIxID0gMTsKLQlz
dHh4X2ludF9tc2sucy5jYWxwYXIwID0gMTsKLQljdm14X3dyaXRlX2NzcihDVk1YX1NUWFhfSU5U
X01TSyhpbnRlcmZhY2UpLCBzdHh4X2ludF9tc2sudTY0KTsKLX0KLQotc3RhdGljIHZvaWQgY3Zt
X29jdF9zcGlfcG9sbChzdHJ1Y3QgbmV0X2RldmljZSAqZGV2KQotewotCXN0YXRpYyBpbnQgc3Bp
NDAwMF9wb3J0OwotCXN0cnVjdCBvY3Rlb25fZXRoZXJuZXQgKnByaXYgPSBuZXRkZXZfcHJpdihk
ZXYpOwotCWludCBpbnRlcmZhY2U7Ci0KLQlmb3IgKGludGVyZmFjZSA9IDA7IGludGVyZmFjZSA8
IDI7IGludGVyZmFjZSsrKSB7Ci0JCWlmICgocHJpdi0+cG9ydCA9PSBpbnRlcmZhY2UgKiAxNikg
JiYgbmVlZF9yZXRyYWluW2ludGVyZmFjZV0pIHsKLQkJCWlmIChjdm14X3NwaV9yZXN0YXJ0X2lu
dGVyZmFjZQotCQkJICAgIChpbnRlcmZhY2UsIENWTVhfU1BJX01PREVfRFVQTEVYLCAxMCkgPT0g
MCkgewotCQkJCW5lZWRfcmV0cmFpbltpbnRlcmZhY2VdID0gMDsKLQkJCQljdm1fb2N0X3NwaV9l
bmFibGVfZXJyb3JfcmVwb3J0aW5nKGludGVyZmFjZSk7Ci0JCQl9Ci0JCX0KLQotCQkvKgotCQkg
KiBUaGUgU1BJNDAwMCBUV1NJIGludGVyZmFjZSBpcyB2ZXJ5IHNsb3cuIEluIG9yZGVyCi0JCSAq
IG5vdCB0byBicmluZyB0aGUgc3lzdGVtIHRvIGEgY3Jhd2wsIHdlIG9ubHkgcG9sbCBhCi0JCSAq
IHNpbmdsZSBwb3J0IGV2ZXJ5IHNlY29uZC4gVGhpcyBtZWFucyBuZWdvdGlhdGlvbgotCQkgKiBz
cGVlZCBjaGFuZ2VzIHRha2UgdXAgdG8gMTAgc2Vjb25kcywgYnV0IGF0IGxlYXN0Ci0JCSAqIHdl
IGRvbid0IHdhc3RlIGFic3VyZCBhbW91bnRzIG9mIHRpbWUgd2FpdGluZyBmb3IKLQkJICogVFdT
SS4KLQkJICovCi0JCWlmIChwcml2LT5wb3J0ID09IHNwaTQwMDBfcG9ydCkgewotCQkJLyoKLQkJ
CSAqIFRoaXMgZnVuY3Rpb24gZG9lcyBub3RoaW5nIGlmIGl0IGlzIGNhbGxlZCBvbiBhbgotCQkJ
ICogaW50ZXJmYWNlIHdpdGhvdXQgYSBTUEk0MDAwLgotCQkJICovCi0JCQljdm14X3NwaTQwMDBf
Y2hlY2tfc3BlZWQoaW50ZXJmYWNlLCBwcml2LT5wb3J0KTsKLQkJCS8qCi0JCQkgKiBOb3JtYWwg
b3JkZXJpbmcgaW5jcmVtZW50cy4gQnkgZGVjcmVtZW50aW5nCi0JCQkgKiB3ZSBvbmx5IG1hdGNo
IG9uY2UgcGVyIGl0ZXJhdGlvbi4KLQkJCSAqLwotCQkJc3BpNDAwMF9wb3J0LS07Ci0JCQlpZiAo
c3BpNDAwMF9wb3J0IDwgMCkKLQkJCQlzcGk0MDAwX3BvcnQgPSAxMDsKLQkJfQotCX0KLX0KLQot
aW50IGN2bV9vY3Rfc3BpX2luaXQoc3RydWN0IG5ldF9kZXZpY2UgKmRldikKLXsKLQlpbnQgcjsK
LQlzdHJ1Y3Qgb2N0ZW9uX2V0aGVybmV0ICpwcml2ID0gbmV0ZGV2X3ByaXYoZGV2KTsKLQotCWlm
IChudW1iZXJfc3BpX3BvcnRzID09IDApIHsKLQkJciA9IHJlcXVlc3RfaXJxKE9DVEVPTl9JUlFf
Uk1MLCBjdm1fb2N0X3NwaV9ybWxfaW50ZXJydXB0LAotCQkJCUlSUUZfU0hBUkVELCAiU1BJIiwg
Jm51bWJlcl9zcGlfcG9ydHMpOwotCQlpZiAocikKLQkJCXJldHVybiByOwotCX0KLQludW1iZXJf
c3BpX3BvcnRzKys7Ci0KLQlpZiAoKHByaXYtPnBvcnQgPT0gMCkgfHwgKHByaXYtPnBvcnQgPT0g
MTYpKSB7Ci0JCWN2bV9vY3Rfc3BpX2VuYWJsZV9lcnJvcl9yZXBvcnRpbmcoSU5URVJGQUNFKHBy
aXYtPnBvcnQpKTsKLQkJcHJpdi0+cG9sbCA9IGN2bV9vY3Rfc3BpX3BvbGw7Ci0JfQotCWN2bV9v
Y3RfY29tbW9uX2luaXQoZGV2KTsKLQlyZXR1cm4gMDsKLX0KLQotdm9pZCBjdm1fb2N0X3NwaV91
bmluaXQoc3RydWN0IG5ldF9kZXZpY2UgKmRldikKLXsKLQlpbnQgaW50ZXJmYWNlOwotCi0JY3Zt
X29jdF9jb21tb25fdW5pbml0KGRldik7Ci0JbnVtYmVyX3NwaV9wb3J0cy0tOwotCWlmIChudW1i
ZXJfc3BpX3BvcnRzID09IDApIHsKLQkJZm9yIChpbnRlcmZhY2UgPSAwOyBpbnRlcmZhY2UgPCAy
OyBpbnRlcmZhY2UrKykgewotCQkJY3ZteF93cml0ZV9jc3IoQ1ZNWF9TUFhYX0lOVF9NU0soaW50
ZXJmYWNlKSwgMCk7Ci0JCQljdm14X3dyaXRlX2NzcihDVk1YX1NUWFhfSU5UX01TSyhpbnRlcmZh
Y2UpLCAwKTsKLQkJfQotCQlmcmVlX2lycShPQ1RFT05fSVJRX1JNTCwgJm51bWJlcl9zcGlfcG9y
dHMpOwotCX0KLX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9vY3Rlb24vZXRoZXJuZXQt
dHguYyBiL2RyaXZlcnMvc3RhZ2luZy9vY3Rlb24vZXRoZXJuZXQtdHguYwpkZWxldGVkIGZpbGUg
bW9kZSAxMDA2NDQKaW5kZXggYjMzNGNmODk3OTRlLi4wMDAwMDAwMDAwMDAKLS0tIGEvZHJpdmVy
cy9zdGFnaW5nL29jdGVvbi9ldGhlcm5ldC10eC5jCisrKyAvZGV2L251bGwKQEAgLTEsNzE3ICsw
LDAgQEAKLS8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wCi0vKgotICogVGhpcyBm
aWxlIGlzIGJhc2VkIG9uIGNvZGUgZnJvbSBPQ1RFT04gU0RLIGJ5IENhdml1bSBOZXR3b3Jrcy4K
LSAqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDMtMjAxMCBDYXZpdW0gTmV0d29ya3MKLSAqLwotCi0j
aW5jbHVkZSA8bGludXgvbW9kdWxlLmg+Ci0jaW5jbHVkZSA8bGludXgva2VybmVsLmg+Ci0jaW5j
bHVkZSA8bGludXgvbmV0ZGV2aWNlLmg+Ci0jaW5jbHVkZSA8bGludXgvZXRoZXJkZXZpY2UuaD4K
LSNpbmNsdWRlIDxsaW51eC9pcC5oPgotI2luY2x1ZGUgPGxpbnV4L3JhdGVsaW1pdC5oPgotI2lu
Y2x1ZGUgPGxpbnV4L3N0cmluZy5oPgotI2luY2x1ZGUgPGxpbnV4L2ludGVycnVwdC5oPgotI2lu
Y2x1ZGUgPG5ldC9kc3QuaD4KLSNpZmRlZiBDT05GSUdfWEZSTQotI2luY2x1ZGUgPGxpbnV4L3hm
cm0uaD4KLSNpbmNsdWRlIDxuZXQveGZybS5oPgotI2VuZGlmIC8qIENPTkZJR19YRlJNICovCi0K
LSNpbmNsdWRlIDxsaW51eC9hdG9taWMuaD4KLSNpbmNsdWRlIDxuZXQvc2NoX2dlbmVyaWMuaD4K
LQotI2luY2x1ZGUgIm9jdGVvbi1ldGhlcm5ldC5oIgotI2luY2x1ZGUgImV0aGVybmV0LWRlZmlu
ZXMuaCIKLSNpbmNsdWRlICJldGhlcm5ldC10eC5oIgotI2luY2x1ZGUgImV0aGVybmV0LXV0aWwu
aCIKLQotI2RlZmluZSBDVk1fT0NUX1NLQl9DQihza2IpCSgodTY0ICopKChza2IpLT5jYikpCi0K
LS8qCi0gKiBZb3UgY2FuIGRlZmluZSBHRVRfU0tCVUZGX1FPUygpIHRvIG92ZXJyaWRlIGhvdyB0
aGUgc2tidWZmIG91dHB1dAotICogZnVuY3Rpb24gZGV0ZXJtaW5lcyB3aGljaCBvdXRwdXQgcXVl
dWUgaXMgdXNlZC4gVGhlIGRlZmF1bHQKLSAqIGltcGxlbWVudGF0aW9uIGFsd2F5cyB1c2VzIHRo
ZSBiYXNlIHF1ZXVlIGZvciB0aGUgcG9ydC4gSWYsIGZvcgotICogZXhhbXBsZSwgeW91IHdhbnRl
ZCB0byB1c2UgdGhlIHNrYi0+cHJpb3JpdHkgZmllbGQsIGRlZmluZQotICogR0VUX1NLQlVGRl9R
T1MgYXM6ICNkZWZpbmUgR0VUX1NLQlVGRl9RT1Moc2tiKSAoKHNrYiktPnByaW9yaXR5KQotICov
Ci0jaWZuZGVmIEdFVF9TS0JVRkZfUU9TCi0jZGVmaW5lIEdFVF9TS0JVRkZfUU9TKHNrYikgMAot
I2VuZGlmCi0KLXN0YXRpYyB2b2lkIGN2bV9vY3RfdHhfZG9fY2xlYW51cCh1bnNpZ25lZCBsb25n
IGFyZyk7Ci1zdGF0aWMgREVDTEFSRV9UQVNLTEVUKGN2bV9vY3RfdHhfY2xlYW51cF90YXNrbGV0
LCBjdm1fb2N0X3R4X2RvX2NsZWFudXAsIDApOwotCi0vKiBNYXhpbXVtIG51bWJlciBvZiBTS0Jz
IHRvIHRyeSB0byBmcmVlIHBlciB4bWl0IHBhY2tldC4gKi8KLSNkZWZpbmUgTUFYX1NLQl9UT19G
UkVFIChNQVhfT1VUX1FVRVVFX0RFUFRIICogMikKLQotc3RhdGljIGlubGluZSBpbnQgY3ZtX29j
dF9hZGp1c3Rfc2tiX3RvX2ZyZWUoaW50IHNrYl90b19mcmVlLCBpbnQgZmF1KQotewotCWludCB1
bmRvOwotCi0JdW5kbyA9IHNrYl90b19mcmVlID4gMCA/IE1BWF9TS0JfVE9fRlJFRSA6IHNrYl90
b19mcmVlICsKLQkJCQkJCSAgIE1BWF9TS0JfVE9fRlJFRTsKLQlpZiAodW5kbyA+IDApCi0JCWN2
bXhfZmF1X2F0b21pY19hZGQzMihmYXUsIC11bmRvKTsKLQlza2JfdG9fZnJlZSA9IC1za2JfdG9f
ZnJlZSA+IE1BWF9TS0JfVE9fRlJFRSA/IE1BWF9TS0JfVE9fRlJFRSA6Ci0JCQkJCQkgICAgICAg
LXNrYl90b19mcmVlOwotCXJldHVybiBza2JfdG9fZnJlZTsKLX0KLQotc3RhdGljIHZvaWQgY3Zt
X29jdF9raWNrX3R4X3BvbGxfd2F0Y2hkb2codm9pZCkKLXsKLQl1bmlvbiBjdm14X2NpdV90aW14
IGNpdV90aW14OwotCi0JY2l1X3RpbXgudTY0ID0gMDsKLQljaXVfdGlteC5zLm9uZV9zaG90ID0g
MTsKLQljaXVfdGlteC5zLmxlbiA9IGN2bV9vY3RfdHhfcG9sbF9pbnRlcnZhbDsKLQljdm14X3dy
aXRlX2NzcihDVk1YX0NJVV9USU1YKDEpLCBjaXVfdGlteC51NjQpOwotfQotCi1zdGF0aWMgdm9p
ZCBjdm1fb2N0X2ZyZWVfdHhfc2ticyhzdHJ1Y3QgbmV0X2RldmljZSAqZGV2KQotewotCWludCBz
a2JfdG9fZnJlZTsKLQlpbnQgcW9zLCBxdWV1ZXNfcGVyX3BvcnQ7Ci0JaW50IHRvdGFsX2ZyZWVk
ID0gMDsKLQlpbnQgdG90YWxfcmVtYWluaW5nID0gMDsKLQl1bnNpZ25lZCBsb25nIGZsYWdzOwot
CXN0cnVjdCBvY3Rlb25fZXRoZXJuZXQgKnByaXYgPSBuZXRkZXZfcHJpdihkZXYpOwotCi0JcXVl
dWVzX3Blcl9wb3J0ID0gY3ZteF9wa29fZ2V0X251bV9xdWV1ZXMocHJpdi0+cG9ydCk7Ci0JLyog
RHJhaW4gYW55IHBlbmRpbmcgcGFja2V0cyBpbiB0aGUgZnJlZSBsaXN0ICovCi0JZm9yIChxb3Mg
PSAwOyBxb3MgPCBxdWV1ZXNfcGVyX3BvcnQ7IHFvcysrKSB7Ci0JCWlmIChza2JfcXVldWVfbGVu
KCZwcml2LT50eF9mcmVlX2xpc3RbcW9zXSkgPT0gMCkKLQkJCWNvbnRpbnVlOwotCQlza2JfdG9f
ZnJlZSA9IGN2bXhfZmF1X2ZldGNoX2FuZF9hZGQzMihwcml2LT5mYXUgKyBxb3MgKiA0LAotCQkJ
CQkJICAgICAgIE1BWF9TS0JfVE9fRlJFRSk7Ci0JCXNrYl90b19mcmVlID0gY3ZtX29jdF9hZGp1
c3Rfc2tiX3RvX2ZyZWUoc2tiX3RvX2ZyZWUsCi0JCQkJCQkJIHByaXYtPmZhdSArIHFvcyAqIDQp
OwotCQl0b3RhbF9mcmVlZCArPSBza2JfdG9fZnJlZTsKLQkJaWYgKHNrYl90b19mcmVlID4gMCkg
ewotCQkJc3RydWN0IHNrX2J1ZmYgKnRvX2ZyZWVfbGlzdCA9IE5VTEw7Ci0KLQkJCXNwaW5fbG9j
a19pcnFzYXZlKCZwcml2LT50eF9mcmVlX2xpc3RbcW9zXS5sb2NrLCBmbGFncyk7Ci0JCQl3aGls
ZSAoc2tiX3RvX2ZyZWUgPiAwKSB7Ci0JCQkJc3RydWN0IHNrX2J1ZmYgKnQ7Ci0KLQkJCQl0ID0g
X19za2JfZGVxdWV1ZSgmcHJpdi0+dHhfZnJlZV9saXN0W3Fvc10pOwotCQkJCXQtPm5leHQgPSB0
b19mcmVlX2xpc3Q7Ci0JCQkJdG9fZnJlZV9saXN0ID0gdDsKLQkJCQlza2JfdG9fZnJlZS0tOwot
CQkJfQotCQkJc3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgmcHJpdi0+dHhfZnJlZV9saXN0W3Fvc10u
bG9jaywKLQkJCQkJICAgICAgIGZsYWdzKTsKLQkJCS8qIERvIHRoZSBhY3R1YWwgZnJlZWluZyBv
dXRzaWRlIG9mIHRoZSBsb2NrLiAqLwotCQkJd2hpbGUgKHRvX2ZyZWVfbGlzdCkgewotCQkJCXN0
cnVjdCBza19idWZmICp0ID0gdG9fZnJlZV9saXN0OwotCi0JCQkJdG9fZnJlZV9saXN0ID0gdG9f
ZnJlZV9saXN0LT5uZXh0OwotCQkJCWRldl9rZnJlZV9za2JfYW55KHQpOwotCQkJfQotCQl9Ci0J
CXRvdGFsX3JlbWFpbmluZyArPSBza2JfcXVldWVfbGVuKCZwcml2LT50eF9mcmVlX2xpc3RbcW9z
XSk7Ci0JfQotCWlmICh0b3RhbF9yZW1haW5pbmcgPCBNQVhfT1VUX1FVRVVFX0RFUFRIICYmIG5l
dGlmX3F1ZXVlX3N0b3BwZWQoZGV2KSkKLQkJbmV0aWZfd2FrZV9xdWV1ZShkZXYpOwotCWlmICh0
b3RhbF9yZW1haW5pbmcpCi0JCWN2bV9vY3Rfa2lja190eF9wb2xsX3dhdGNoZG9nKCk7Ci19Ci0K
LS8qKgotICogY3ZtX29jdF94bWl0IC0gdHJhbnNtaXQgYSBwYWNrZXQKLSAqIEBza2I6ICAgIFBh
Y2tldCB0byBzZW5kCi0gKiBAZGV2OiAgICBEZXZpY2UgaW5mbyBzdHJ1Y3R1cmUKLSAqCi0gKiBS
ZXR1cm5zIEFsd2F5cyByZXR1cm5zIE5FVERFVl9UWF9PSwotICovCi1pbnQgY3ZtX29jdF94bWl0
KHN0cnVjdCBza19idWZmICpza2IsIHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpCi17Ci0JdW5pb24g
Y3ZteF9wa29fY29tbWFuZF93b3JkMCBwa29fY29tbWFuZDsKLQl1bmlvbiBjdm14X2J1Zl9wdHIg
aHdfYnVmZmVyOwotCXU2NCBvbGRfc2NyYXRjaDsKLQl1NjQgb2xkX3NjcmF0Y2gyOwotCWludCBx
b3M7Ci0JaW50IGk7Ci0JZW51bSB7UVVFVUVfQ09SRSwgUVVFVUVfSFcsIFFVRVVFX0RST1B9IHF1
ZXVlX3R5cGU7Ci0Jc3RydWN0IG9jdGVvbl9ldGhlcm5ldCAqcHJpdiA9IG5ldGRldl9wcml2KGRl
dik7Ci0Jc3RydWN0IHNrX2J1ZmYgKnRvX2ZyZWVfbGlzdDsKLQlpbnQgc2tiX3RvX2ZyZWU7Ci0J
aW50IGJ1ZmZlcnNfdG9fZnJlZTsKLQl1MzIgdG90YWxfdG9fY2xlYW47Ci0JdW5zaWduZWQgbG9u
ZyBmbGFnczsKLSNpZiBSRVVTRV9TS0JVRkZTX1dJVEhPVVRfRlJFRQotCXVuc2lnbmVkIGNoYXIg
KmZwYV9oZWFkOwotI2VuZGlmCi0KLQkvKgotCSAqIFByZWZldGNoIHRoZSBwcml2YXRlIGRhdGEg
c3RydWN0dXJlLiAgSXQgaXMgbGFyZ2VyIHRoYW4gdGhlCi0JICogb25lIGNhY2hlIGxpbmUuCi0J
ICovCi0JcHJlZmV0Y2gocHJpdik7Ci0KLQkvKgotCSAqIFRoZSBjaGVjayBvbiBDVk1YX1BLT19R
VUVVRVNfUEVSX1BPUlRfKiBpcyBkZXNpZ25lZCB0bwotCSAqIGNvbXBsZXRlbHkgcmVtb3ZlICJx
b3MiIGluIHRoZSBldmVudCBuZWl0aGVyIGludGVyZmFjZQotCSAqIHN1cHBvcnRzIG11bHRpcGxl
IHF1ZXVlcyBwZXIgcG9ydC4KLQkgKi8KLQlpZiAoKENWTVhfUEtPX1FVRVVFU19QRVJfUE9SVF9J
TlRFUkZBQ0UwID4gMSkgfHwKLQkgICAgKENWTVhfUEtPX1FVRVVFU19QRVJfUE9SVF9JTlRFUkZB
Q0UxID4gMSkpIHsKLQkJcW9zID0gR0VUX1NLQlVGRl9RT1Moc2tiKTsKLQkJaWYgKHFvcyA8PSAw
KQotCQkJcW9zID0gMDsKLQkJZWxzZSBpZiAocW9zID49IGN2bXhfcGtvX2dldF9udW1fcXVldWVz
KHByaXYtPnBvcnQpKQotCQkJcW9zID0gMDsKLQl9IGVsc2UgewotCQlxb3MgPSAwOwotCX0KLQot
CWlmIChVU0VfQVNZTkNfSU9CRE1BKSB7Ci0JCS8qIFNhdmUgc2NyYXRjaCBpbiBjYXNlIHVzZXJz
cGFjZSBpcyB1c2luZyBpdCAqLwotCQlDVk1YX1NZTkNJT0JETUE7Ci0JCW9sZF9zY3JhdGNoID0g
Y3ZteF9zY3JhdGNoX3JlYWQ2NChDVk1YX1NDUl9TQ1JBVENIKTsKLQkJb2xkX3NjcmF0Y2gyID0g
Y3ZteF9zY3JhdGNoX3JlYWQ2NChDVk1YX1NDUl9TQ1JBVENIICsgOCk7Ci0KLQkJLyoKLQkJICog
RmV0Y2ggYW5kIGluY3JlbWVudCB0aGUgbnVtYmVyIG9mIHBhY2tldHMgdG8gYmUKLQkJICogZnJl
ZWQuCi0JCSAqLwotCQljdm14X2ZhdV9hc3luY19mZXRjaF9hbmRfYWRkMzIoQ1ZNWF9TQ1JfU0NS
QVRDSCArIDgsCi0JCQkJCSAgICAgICBGQVVfTlVNX1BBQ0tFVF9CVUZGRVJTX1RPX0ZSRUUsCi0J
CQkJCSAgICAgICAwKTsKLQkJY3ZteF9mYXVfYXN5bmNfZmV0Y2hfYW5kX2FkZDMyKENWTVhfU0NS
X1NDUkFUQ0gsCi0JCQkJCSAgICAgICBwcml2LT5mYXUgKyBxb3MgKiA0LAotCQkJCQkgICAgICAg
TUFYX1NLQl9UT19GUkVFKTsKLQl9Ci0KLQkvKgotCSAqIFdlIGhhdmUgc3BhY2UgZm9yIDYgc2Vn
bWVudCBwb2ludGVycywgSWYgdGhlcmUgd2lsbCBiZSBtb3JlCi0JICogdGhhbiB0aGF0LCB3ZSBt
dXN0IGxpbmVhcml6ZS4KLQkgKi8KLQlpZiAodW5saWtlbHkoc2tiX3NoaW5mbyhza2IpLT5ucl9m
cmFncyA+IDUpKSB7Ci0JCWlmICh1bmxpa2VseShfX3NrYl9saW5lYXJpemUoc2tiKSkpIHsKLQkJ
CXF1ZXVlX3R5cGUgPSBRVUVVRV9EUk9QOwotCQkJaWYgKFVTRV9BU1lOQ19JT0JETUEpIHsKLQkJ
CQkvKgotCQkJCSAqIEdldCB0aGUgbnVtYmVyIG9mIHNrYnVmZnMgaW4gdXNlCi0JCQkJICogYnkg
dGhlIGhhcmR3YXJlCi0JCQkJICovCi0JCQkJQ1ZNWF9TWU5DSU9CRE1BOwotCQkJCXNrYl90b19m
cmVlID0KLQkJCQkJY3ZteF9zY3JhdGNoX3JlYWQ2NChDVk1YX1NDUl9TQ1JBVENIKTsKLQkJCX0g
ZWxzZSB7Ci0JCQkJLyoKLQkJCQkgKiBHZXQgdGhlIG51bWJlciBvZiBza2J1ZmZzIGluIHVzZQot
CQkJCSAqIGJ5IHRoZSBoYXJkd2FyZQotCQkJCSAqLwotCQkJCXNrYl90b19mcmVlID0KLQkJCQkg
ICAgIGN2bXhfZmF1X2ZldGNoX2FuZF9hZGQzMihwcml2LT5mYXUgKwotCQkJCQkJCSAgICAgIHFv
cyAqIDQsCi0JCQkJCQkJICAgICAgTUFYX1NLQl9UT19GUkVFKTsKLQkJCX0KLQkJCXNrYl90b19m
cmVlID0gY3ZtX29jdF9hZGp1c3Rfc2tiX3RvX2ZyZWUoc2tiX3RvX2ZyZWUsCi0JCQkJCQkJCSBw
cml2LT5mYXUgKwotCQkJCQkJCQkgcW9zICogNCk7Ci0JCQlzcGluX2xvY2tfaXJxc2F2ZSgmcHJp
di0+dHhfZnJlZV9saXN0W3Fvc10ubG9jaywgZmxhZ3MpOwotCQkJZ290byBza2lwX3htaXQ7Ci0J
CX0KLQl9Ci0KLQkvKgotCSAqIFRoZSBDTjNYWFggc2VyaWVzIG9mIHBhcnRzIGhhcyBhbiBlcnJh
dGEgKEdNWC00MDEpIHdoaWNoCi0JICogY2F1c2VzIHRoZSBHTVggYmxvY2sgdG8gaGFuZyBpZiBh
IGNvbGxpc2lvbiBvY2N1cnMgdG93YXJkcwotCSAqIHRoZSBlbmQgb2YgYSA8NjggYnl0ZSBwYWNr
ZXQuIEFzIGEgd29ya2Fyb3VuZCBmb3IgdGhpcywgd2UKLQkgKiBwYWQgcGFja2V0cyB0byBiZSA2
OCBieXRlcyB3aGVuZXZlciB3ZSBhcmUgaW4gaGFsZiBkdXBsZXgKLQkgKiBtb2RlLiBXZSBkb24n
dCBoYW5kbGUgdGhlIGNhc2Ugb2YgaGF2aW5nIGEgc21hbGwgcGFja2V0IGJ1dAotCSAqIG5vIHJv
b20gdG8gYWRkIHRoZSBwYWRkaW5nLiAgVGhlIGtlcm5lbCBzaG91bGQgYWx3YXlzIGdpdmUKLQkg
KiB1cyBhdCBsZWFzdCBhIGNhY2hlIGxpbmUKLQkgKi8KLQlpZiAoKHNrYi0+bGVuIDwgNjQpICYm
IE9DVEVPTl9JU19NT0RFTChPQ1RFT05fQ04zWFhYKSkgewotCQl1bmlvbiBjdm14X2dteHhfcHJ0
eF9jZmcgZ214X3BydF9jZmc7Ci0JCWludCBpbnRlcmZhY2UgPSBJTlRFUkZBQ0UocHJpdi0+cG9y
dCk7Ci0JCWludCBpbmRleCA9IElOREVYKHByaXYtPnBvcnQpOwotCi0JCWlmIChpbnRlcmZhY2Ug
PCAyKSB7Ci0JCQkvKiBXZSBvbmx5IG5lZWQgdG8gcGFkIHBhY2tldCBpbiBoYWxmIGR1cGxleCBt
b2RlICovCi0JCQlnbXhfcHJ0X2NmZy51NjQgPQotCQkJICAgIGN2bXhfcmVhZF9jc3IoQ1ZNWF9H
TVhYX1BSVFhfQ0ZHKGluZGV4LCBpbnRlcmZhY2UpKTsKLQkJCWlmIChnbXhfcHJ0X2NmZy5zLmR1
cGxleCA9PSAwKSB7Ci0JCQkJaW50IGFkZF9ieXRlcyA9IDY0IC0gc2tiLT5sZW47Ci0KLQkJCQlp
ZiAoKHNrYl90YWlsX3BvaW50ZXIoc2tiKSArIGFkZF9ieXRlcykgPD0KLQkJCQkgICAgc2tiX2Vu
ZF9wb2ludGVyKHNrYikpCi0JCQkJCV9fc2tiX3B1dF96ZXJvKHNrYiwgYWRkX2J5dGVzKTsKLQkJ
CX0KLQkJfQotCX0KLQotCS8qIEJ1aWxkIHRoZSBQS08gY29tbWFuZCAqLwotCXBrb19jb21tYW5k
LnU2NCA9IDA7Ci0jaWZkZWYgX19MSVRUTEVfRU5ESUFOCi0JcGtvX2NvbW1hbmQucy5sZSA9IDE7
Ci0jZW5kaWYKLQlwa29fY29tbWFuZC5zLm4yID0gMTsJLyogRG9uJ3QgcG9sbHV0ZSBMMiB3aXRo
IHRoZSBvdXRnb2luZyBwYWNrZXQgKi8KLQlwa29fY29tbWFuZC5zLnNlZ3MgPSAxOwotCXBrb19j
b21tYW5kLnMudG90YWxfYnl0ZXMgPSBza2ItPmxlbjsKLQlwa29fY29tbWFuZC5zLnNpemUwID0g
Q1ZNWF9GQVVfT1BfU0laRV8zMjsKLQlwa29fY29tbWFuZC5zLnN1Ym9uZTAgPSAxOwotCi0JcGtv
X2NvbW1hbmQucy5kb250ZnJlZSA9IDE7Ci0KLQkvKiBCdWlsZCB0aGUgUEtPIGJ1ZmZlciBwb2lu
dGVyICovCi0JaHdfYnVmZmVyLnU2NCA9IDA7Ci0JaWYgKHNrYl9zaGluZm8oc2tiKS0+bnJfZnJh
Z3MgPT0gMCkgewotCQlod19idWZmZXIucy5hZGRyID0gWEtQSFlTX1RPX1BIWVMoKHVpbnRwdHJf
dClza2ItPmRhdGEpOwotCQlod19idWZmZXIucy5wb29sID0gMDsKLQkJaHdfYnVmZmVyLnMuc2l6
ZSA9IHNrYi0+bGVuOwotCX0gZWxzZSB7Ci0JCWh3X2J1ZmZlci5zLmFkZHIgPSBYS1BIWVNfVE9f
UEhZUygodWludHB0cl90KXNrYi0+ZGF0YSk7Ci0JCWh3X2J1ZmZlci5zLnBvb2wgPSAwOwotCQlo
d19idWZmZXIucy5zaXplID0gc2tiX2hlYWRsZW4oc2tiKTsKLQkJQ1ZNX09DVF9TS0JfQ0Ioc2ti
KVswXSA9IGh3X2J1ZmZlci51NjQ7Ci0JCWZvciAoaSA9IDA7IGkgPCBza2Jfc2hpbmZvKHNrYikt
Pm5yX2ZyYWdzOyBpKyspIHsKLQkJCXNrYl9mcmFnX3QgKmZzID0gc2tiX3NoaW5mbyhza2IpLT5m
cmFncyArIGk7Ci0KLQkJCWh3X2J1ZmZlci5zLmFkZHIgPQotCQkJCVhLUEhZU19UT19QSFlTKCh1
aW50cHRyX3Qpc2tiX2ZyYWdfYWRkcmVzcyhmcykpOwotCQkJaHdfYnVmZmVyLnMuc2l6ZSA9IHNr
Yl9mcmFnX3NpemUoZnMpOwotCQkJQ1ZNX09DVF9TS0JfQ0Ioc2tiKVtpICsgMV0gPSBod19idWZm
ZXIudTY0OwotCQl9Ci0JCWh3X2J1ZmZlci5zLmFkZHIgPQotCQkJWEtQSFlTX1RPX1BIWVMoKHVp
bnRwdHJfdClDVk1fT0NUX1NLQl9DQihza2IpKTsKLQkJaHdfYnVmZmVyLnMuc2l6ZSA9IHNrYl9z
aGluZm8oc2tiKS0+bnJfZnJhZ3MgKyAxOwotCQlwa29fY29tbWFuZC5zLnNlZ3MgPSBza2Jfc2hp
bmZvKHNrYiktPm5yX2ZyYWdzICsgMTsKLQkJcGtvX2NvbW1hbmQucy5nYXRoZXIgPSAxOwotCQln
b3RvIGRvbnRfcHV0X3NrYnVmZl9pbl9odzsKLQl9Ci0KLQkvKgotCSAqIFNlZSBpZiB3ZSBjYW4g
cHV0IHRoaXMgc2tiIGluIHRoZSBGUEEgcG9vbC4gQW55IHN0cmFuZ2UKLQkgKiBiZWhhdmlvciBm
cm9tIHRoZSBMaW51eCBuZXR3b3JraW5nIHN0YWNrIHdpbGwgbW9zdCBsaWtlbHkKLQkgKiBiZSBj
YXVzZWQgYnkgYSBidWcgaW4gdGhlIGZvbGxvd2luZyBjb2RlLiBJZiBzb21lIGZpZWxkIGlzCi0J
ICogaW4gdXNlIGJ5IHRoZSBuZXR3b3JrIHN0YWNrIGFuZCBnZXRzIGNhcnJpZWQgb3ZlciB3aGVu
IGEKLQkgKiBidWZmZXIgaXMgcmV1c2VkLCBiYWQgdGhpbmdzIG1heSBoYXBwZW4uICBJZiBpbiBk
b3VidCBhbmQKLQkgKiB5b3UgZG9udCBuZWVkIHRoZSBhYnNvbHV0ZSBiZXN0IHBlcmZvcm1hbmNl
LCBkaXNhYmxlIHRoZQotCSAqIGRlZmluZSBSRVVTRV9TS0JVRkZTX1dJVEhPVVRfRlJFRS4gVGhl
IHJldXNlIG9mIGJ1ZmZlcnMgaGFzCi0JICogc2hvd24gYSAyNSUgaW5jcmVhc2UgaW4gcGVyZm9y
bWFuY2UgdW5kZXIgc29tZSBsb2Fkcy4KLQkgKi8KLSNpZiBSRVVTRV9TS0JVRkZTX1dJVEhPVVRf
RlJFRQotCWZwYV9oZWFkID0gc2tiLT5oZWFkICsgMjU2IC0gKCh1bnNpZ25lZCBsb25nKXNrYi0+
aGVhZCAmIDB4N2YpOwotCWlmICh1bmxpa2VseShza2ItPmRhdGEgPCBmcGFfaGVhZCkpIHsKLQkJ
LyogVFggYnVmZmVyIGJlZ2lubmluZyBjYW4ndCBtZWV0IEZQQSBhbGlnbm1lbnQgY29uc3RyYWlu
dHMgKi8KLQkJZ290byBkb250X3B1dF9za2J1ZmZfaW5faHc7Ci0JfQotCWlmICh1bmxpa2VseQot
CSAgICAoKHNrYl9lbmRfcG9pbnRlcihza2IpIC0gZnBhX2hlYWQpIDwgQ1ZNWF9GUEFfUEFDS0VU
X1BPT0xfU0laRSkpIHsKLQkJLyogVFggYnVmZmVyIGlzbid0IGxhcmdlIGVub3VnaCBmb3IgdGhl
IEZQQSAqLwotCQlnb3RvIGRvbnRfcHV0X3NrYnVmZl9pbl9odzsKLQl9Ci0JaWYgKHVubGlrZWx5
KHNrYl9zaGFyZWQoc2tiKSkpIHsKLQkJLyogVFggYnVmZmVyIHNoYXJpbmcgZGF0YSB3aXRoIHNv
bWVvbmUgZWxzZSAqLwotCQlnb3RvIGRvbnRfcHV0X3NrYnVmZl9pbl9odzsKLQl9Ci0JaWYgKHVu
bGlrZWx5KHNrYl9jbG9uZWQoc2tiKSkpIHsKLQkJLyogVFggYnVmZmVyIGhhcyBiZWVuIGNsb25l
ZCAqLwotCQlnb3RvIGRvbnRfcHV0X3NrYnVmZl9pbl9odzsKLQl9Ci0JaWYgKHVubGlrZWx5KHNr
Yl9oZWFkZXJfY2xvbmVkKHNrYikpKSB7Ci0JCS8qIFRYIGJ1ZmZlciBoZWFkZXIgaGFzIGJlZW4g
Y2xvbmVkICovCi0JCWdvdG8gZG9udF9wdXRfc2tidWZmX2luX2h3OwotCX0KLQlpZiAodW5saWtl
bHkoc2tiLT5kZXN0cnVjdG9yKSkgewotCQkvKiBUWCBidWZmZXIgaGFzIGEgZGVzdHJ1Y3RvciAq
LwotCQlnb3RvIGRvbnRfcHV0X3NrYnVmZl9pbl9odzsKLQl9Ci0JaWYgKHVubGlrZWx5KHNrYl9z
aGluZm8oc2tiKS0+bnJfZnJhZ3MpKSB7Ci0JCS8qIFRYIGJ1ZmZlciBoYXMgZnJhZ21lbnRzICov
Ci0JCWdvdG8gZG9udF9wdXRfc2tidWZmX2luX2h3OwotCX0KLQlpZiAodW5saWtlbHkKLQkgICAg
KHNrYi0+dHJ1ZXNpemUgIT0KLQkgICAgIHNpemVvZigqc2tiKSArIHNrYl9lbmRfb2Zmc2V0KHNr
YikpKSB7Ci0JCS8qIFRYIGJ1ZmZlciB0cnVlc2l6ZSBoYXMgYmVlbiBjaGFuZ2VkICovCi0JCWdv
dG8gZG9udF9wdXRfc2tidWZmX2luX2h3OwotCX0KLQotCS8qCi0JICogV2UgY2FuIHVzZSB0aGlz
IGJ1ZmZlciBpbiB0aGUgRlBBLiAgV2UgZG9uJ3QgbmVlZCB0aGUgRkFVCi0JICogdXBkYXRlIGFu
eW1vcmUKLQkgKi8KLQlwa29fY29tbWFuZC5zLmRvbnRmcmVlID0gMDsKLQotCWh3X2J1ZmZlci5z
LmJhY2sgPSAoKHVuc2lnbmVkIGxvbmcpc2tiLT5kYXRhID4+IDcpIC0KLQkJCSAgICgodW5zaWdu
ZWQgbG9uZylmcGFfaGVhZCA+PiA3KTsKLQotCSooc3RydWN0IHNrX2J1ZmYgKiopKGZwYV9oZWFk
IC0gc2l6ZW9mKHZvaWQgKikpID0gc2tiOwotCi0JLyoKLQkgKiBUaGUgc2tidWZmIHdpbGwgYmUg
cmV1c2VkIHdpdGhvdXQgZXZlciBiZWluZyBmcmVlZC4gV2UgbXVzdAotCSAqIGNsZWFudXAgYSBi
dW5jaCBvZiBjb3JlIHRoaW5ncy4KLQkgKi8KLQlkc3RfcmVsZWFzZShza2JfZHN0KHNrYikpOwot
CXNrYl9kc3Rfc2V0KHNrYiwgTlVMTCk7Ci0Jc2tiX2V4dF9yZXNldChza2IpOwotCW5mX3Jlc2V0
X2N0KHNrYik7Ci0KLSNpZmRlZiBDT05GSUdfTkVUX1NDSEVECi0Jc2tiLT50Y19pbmRleCA9IDA7
Ci0Jc2tiX3Jlc2V0X3RjKHNrYik7Ci0jZW5kaWYgLyogQ09ORklHX05FVF9TQ0hFRCAqLwotI2Vu
ZGlmIC8qIFJFVVNFX1NLQlVGRlNfV0lUSE9VVF9GUkVFICovCi0KLWRvbnRfcHV0X3NrYnVmZl9p
bl9odzoKLQotCS8qIENoZWNrIGlmIHdlIGNhbiB1c2UgdGhlIGhhcmR3YXJlIGNoZWNrc3VtbWlu
ZyAqLwotCWlmICgoc2tiLT5wcm90b2NvbCA9PSBodG9ucyhFVEhfUF9JUCkpICYmCi0JICAgIChp
cF9oZHIoc2tiKS0+dmVyc2lvbiA9PSA0KSAmJgotCSAgICAoaXBfaGRyKHNrYiktPmlobCA9PSA1
KSAmJgotCSAgICAoKGlwX2hkcihza2IpLT5mcmFnX29mZiA9PSAwKSB8fAotCSAgICAgKGlwX2hk
cihza2IpLT5mcmFnX29mZiA9PSBodG9ucygxIDw8IDE0KSkpICYmCi0JICAgICgoaXBfaGRyKHNr
YiktPnByb3RvY29sID09IElQUFJPVE9fVENQKSB8fAotCSAgICAgKGlwX2hkcihza2IpLT5wcm90
b2NvbCA9PSBJUFBST1RPX1VEUCkpKSB7Ci0JCS8qIFVzZSBoYXJkd2FyZSBjaGVja3N1bSBjYWxj
ICovCi0JCXBrb19jb21tYW5kLnMuaXBvZmZwMSA9IHNrYl9uZXR3b3JrX29mZnNldChza2IpICsg
MTsKLQl9Ci0KLQlpZiAoVVNFX0FTWU5DX0lPQkRNQSkgewotCQkvKiBHZXQgdGhlIG51bWJlciBv
ZiBza2J1ZmZzIGluIHVzZSBieSB0aGUgaGFyZHdhcmUgKi8KLQkJQ1ZNWF9TWU5DSU9CRE1BOwot
CQlza2JfdG9fZnJlZSA9IGN2bXhfc2NyYXRjaF9yZWFkNjQoQ1ZNWF9TQ1JfU0NSQVRDSCk7Ci0J
CWJ1ZmZlcnNfdG9fZnJlZSA9IGN2bXhfc2NyYXRjaF9yZWFkNjQoQ1ZNWF9TQ1JfU0NSQVRDSCAr
IDgpOwotCX0gZWxzZSB7Ci0JCS8qIEdldCB0aGUgbnVtYmVyIG9mIHNrYnVmZnMgaW4gdXNlIGJ5
IHRoZSBoYXJkd2FyZSAqLwotCQlza2JfdG9fZnJlZSA9IGN2bXhfZmF1X2ZldGNoX2FuZF9hZGQz
Mihwcml2LT5mYXUgKyBxb3MgKiA0LAotCQkJCQkJICAgICAgIE1BWF9TS0JfVE9fRlJFRSk7Ci0J
CWJ1ZmZlcnNfdG9fZnJlZSA9Ci0JCSAgICBjdm14X2ZhdV9mZXRjaF9hbmRfYWRkMzIoRkFVX05V
TV9QQUNLRVRfQlVGRkVSU19UT19GUkVFLCAwKTsKLQl9Ci0KLQlza2JfdG9fZnJlZSA9IGN2bV9v
Y3RfYWRqdXN0X3NrYl90b19mcmVlKHNrYl90b19mcmVlLAotCQkJCQkJIHByaXYtPmZhdSArIHFv
cyAqIDQpOwotCi0JLyoKLQkgKiBJZiB3ZSdyZSBzZW5kaW5nIGZhc3RlciB0aGFuIHRoZSByZWNl
aXZlIGNhbiBmcmVlIHRoZW0gdGhlbgotCSAqIGRvbid0IGRvIHRoZSBIVyBmcmVlLgotCSAqLwot
CWlmICgoYnVmZmVyc190b19mcmVlIDwgLTEwMCkgJiYgIXBrb19jb21tYW5kLnMuZG9udGZyZWUp
Ci0JCXBrb19jb21tYW5kLnMuZG9udGZyZWUgPSAxOwotCi0JaWYgKHBrb19jb21tYW5kLnMuZG9u
dGZyZWUpIHsKLQkJcXVldWVfdHlwZSA9IFFVRVVFX0NPUkU7Ci0JCXBrb19jb21tYW5kLnMucmVn
MCA9IHByaXYtPmZhdSArIHFvcyAqIDQ7Ci0JfSBlbHNlIHsKLQkJcXVldWVfdHlwZSA9IFFVRVVF
X0hXOwotCX0KLQlpZiAoVVNFX0FTWU5DX0lPQkRNQSkKLQkJY3ZteF9mYXVfYXN5bmNfZmV0Y2hf
YW5kX2FkZDMyKENWTVhfU0NSX1NDUkFUQ0gsCi0JCQkJCSAgICAgICBGQVVfVE9UQUxfVFhfVE9f
Q0xFQU4sIDEpOwotCi0Jc3Bpbl9sb2NrX2lycXNhdmUoJnByaXYtPnR4X2ZyZWVfbGlzdFtxb3Nd
LmxvY2ssIGZsYWdzKTsKLQotCS8qIERyb3AgdGhpcyBwYWNrZXQgaWYgd2UgaGF2ZSB0b28gbWFu
eSBhbHJlYWR5IHF1ZXVlZCB0byB0aGUgSFcgKi8KLQlpZiAodW5saWtlbHkoc2tiX3F1ZXVlX2xl
bigmcHJpdi0+dHhfZnJlZV9saXN0W3Fvc10pID49Ci0JCSAgICAgTUFYX09VVF9RVUVVRV9ERVBU
SCkpIHsKLQkJaWYgKGRldi0+dHhfcXVldWVfbGVuICE9IDApIHsKLQkJCS8qIERyb3AgdGhlIGxv
Y2sgd2hlbiBub3RpZnlpbmcgdGhlIGNvcmUuICAqLwotCQkJc3Bpbl91bmxvY2tfaXJxcmVzdG9y
ZSgmcHJpdi0+dHhfZnJlZV9saXN0W3Fvc10ubG9jaywKLQkJCQkJICAgICAgIGZsYWdzKTsKLQkJ
CW5ldGlmX3N0b3BfcXVldWUoZGV2KTsKLQkJCXNwaW5fbG9ja19pcnFzYXZlKCZwcml2LT50eF9m
cmVlX2xpc3RbcW9zXS5sb2NrLAotCQkJCQkgIGZsYWdzKTsKLQkJfSBlbHNlIHsKLQkJCS8qIElm
IG5vdCB1c2luZyBub3JtYWwgcXVldWVpbmcuICAqLwotCQkJcXVldWVfdHlwZSA9IFFVRVVFX0RS
T1A7Ci0JCQlnb3RvIHNraXBfeG1pdDsKLQkJfQotCX0KLQotCWN2bXhfcGtvX3NlbmRfcGFja2V0
X3ByZXBhcmUocHJpdi0+cG9ydCwgcHJpdi0+cXVldWUgKyBxb3MsCi0JCQkJICAgICBDVk1YX1BL
T19MT0NLX05PTkUpOwotCi0JLyogU2VuZCB0aGUgcGFja2V0IHRvIHRoZSBvdXRwdXQgcXVldWUg
Ki8KLQlpZiAodW5saWtlbHkoY3ZteF9wa29fc2VuZF9wYWNrZXRfZmluaXNoKHByaXYtPnBvcnQs
Ci0JCQkJCQkgcHJpdi0+cXVldWUgKyBxb3MsCi0JCQkJCQkgcGtvX2NvbW1hbmQsIGh3X2J1ZmZl
ciwKLQkJCQkJCSBDVk1YX1BLT19MT0NLX05PTkUpKSkgewotCQlwcmludGtfcmF0ZWxpbWl0ZWQo
IiVzOiBGYWlsZWQgdG8gc2VuZCB0aGUgcGFja2V0XG4iLAotCQkJCSAgIGRldi0+bmFtZSk7Ci0J
CXF1ZXVlX3R5cGUgPSBRVUVVRV9EUk9QOwotCX0KLXNraXBfeG1pdDoKLQl0b19mcmVlX2xpc3Qg
PSBOVUxMOwotCi0Jc3dpdGNoIChxdWV1ZV90eXBlKSB7Ci0JY2FzZSBRVUVVRV9EUk9QOgotCQlz
a2ItPm5leHQgPSB0b19mcmVlX2xpc3Q7Ci0JCXRvX2ZyZWVfbGlzdCA9IHNrYjsKLQkJZGV2LT5z
dGF0cy50eF9kcm9wcGVkKys7Ci0JCWJyZWFrOwotCWNhc2UgUVVFVUVfSFc6Ci0JCWN2bXhfZmF1
X2F0b21pY19hZGQzMihGQVVfTlVNX1BBQ0tFVF9CVUZGRVJTX1RPX0ZSRUUsIC0xKTsKLQkJYnJl
YWs7Ci0JY2FzZSBRVUVVRV9DT1JFOgotCQlfX3NrYl9xdWV1ZV90YWlsKCZwcml2LT50eF9mcmVl
X2xpc3RbcW9zXSwgc2tiKTsKLQkJYnJlYWs7Ci0JZGVmYXVsdDoKLQkJQlVHKCk7Ci0JfQotCi0J
d2hpbGUgKHNrYl90b19mcmVlID4gMCkgewotCQlzdHJ1Y3Qgc2tfYnVmZiAqdCA9IF9fc2tiX2Rl
cXVldWUoJnByaXYtPnR4X2ZyZWVfbGlzdFtxb3NdKTsKLQotCQl0LT5uZXh0ID0gdG9fZnJlZV9s
aXN0OwotCQl0b19mcmVlX2xpc3QgPSB0OwotCQlza2JfdG9fZnJlZS0tOwotCX0KLQotCXNwaW5f
dW5sb2NrX2lycXJlc3RvcmUoJnByaXYtPnR4X2ZyZWVfbGlzdFtxb3NdLmxvY2ssIGZsYWdzKTsK
LQotCS8qIERvIHRoZSBhY3R1YWwgZnJlZWluZyBvdXRzaWRlIG9mIHRoZSBsb2NrLiAqLwotCXdo
aWxlICh0b19mcmVlX2xpc3QpIHsKLQkJc3RydWN0IHNrX2J1ZmYgKnQgPSB0b19mcmVlX2xpc3Q7
Ci0KLQkJdG9fZnJlZV9saXN0ID0gdG9fZnJlZV9saXN0LT5uZXh0OwotCQlkZXZfa2ZyZWVfc2ti
X2FueSh0KTsKLQl9Ci0KLQlpZiAoVVNFX0FTWU5DX0lPQkRNQSkgewotCQlDVk1YX1NZTkNJT0JE
TUE7Ci0JCXRvdGFsX3RvX2NsZWFuID0gY3ZteF9zY3JhdGNoX3JlYWQ2NChDVk1YX1NDUl9TQ1JB
VENIKTsKLQkJLyogUmVzdG9yZSB0aGUgc2NyYXRjaCBhcmVhICovCi0JCWN2bXhfc2NyYXRjaF93
cml0ZTY0KENWTVhfU0NSX1NDUkFUQ0gsIG9sZF9zY3JhdGNoKTsKLQkJY3ZteF9zY3JhdGNoX3dy
aXRlNjQoQ1ZNWF9TQ1JfU0NSQVRDSCArIDgsIG9sZF9zY3JhdGNoMik7Ci0JfSBlbHNlIHsKLQkJ
dG90YWxfdG9fY2xlYW4gPQotCQkJY3ZteF9mYXVfZmV0Y2hfYW5kX2FkZDMyKEZBVV9UT1RBTF9U
WF9UT19DTEVBTiwgMSk7Ci0JfQotCi0JaWYgKHRvdGFsX3RvX2NsZWFuICYgMHgzZmYpIHsKLQkJ
LyoKLQkJICogU2NoZWR1bGUgdGhlIGNsZWFudXAgdGFza2xldCBldmVyeSAxMDI0IHBhY2tldHMg
Zm9yCi0JCSAqIHRoZSBwYXRob2xvZ2ljYWwgY2FzZSBvZiBoaWdoIHRyYWZmaWMgb24gb25lIHBv
cnQKLQkJICogZGVsYXlpbmcgY2xlYW4gdXAgb2YgcGFja2V0cyBvbiBhIGRpZmZlcmVudCBwb3J0
Ci0JCSAqIHRoYXQgaXMgYmxvY2tlZCB3YWl0aW5nIGZvciB0aGUgY2xlYW51cC4KLQkJICovCi0J
CXRhc2tsZXRfc2NoZWR1bGUoJmN2bV9vY3RfdHhfY2xlYW51cF90YXNrbGV0KTsKLQl9Ci0KLQlj
dm1fb2N0X2tpY2tfdHhfcG9sbF93YXRjaGRvZygpOwotCi0JcmV0dXJuIE5FVERFVl9UWF9PSzsK
LX0KLQotLyoqCi0gKiBjdm1fb2N0X3htaXRfcG93IC0gdHJhbnNtaXQgYSBwYWNrZXQgdG8gdGhl
IFBPVwotICogQHNrYjogICAgUGFja2V0IHRvIHNlbmQKLSAqIEBkZXY6ICAgIERldmljZSBpbmZv
IHN0cnVjdHVyZQotCi0gKiBSZXR1cm5zIEFsd2F5cyByZXR1cm5zIHplcm8KLSAqLwotaW50IGN2
bV9vY3RfeG1pdF9wb3coc3RydWN0IHNrX2J1ZmYgKnNrYiwgc3RydWN0IG5ldF9kZXZpY2UgKmRl
dikKLXsKLQlzdHJ1Y3Qgb2N0ZW9uX2V0aGVybmV0ICpwcml2ID0gbmV0ZGV2X3ByaXYoZGV2KTsK
LQl2b2lkICpwYWNrZXRfYnVmZmVyOwotCXZvaWQgKmNvcHlfbG9jYXRpb247Ci0KLQkvKiBHZXQg
YSB3b3JrIHF1ZXVlIGVudHJ5ICovCi0Jc3RydWN0IGN2bXhfd3FlICp3b3JrID0gY3ZteF9mcGFf
YWxsb2MoQ1ZNWF9GUEFfV1FFX1BPT0wpOwotCi0JaWYgKHVubGlrZWx5KCF3b3JrKSkgewotCQlw
cmludGtfcmF0ZWxpbWl0ZWQoIiVzOiBGYWlsZWQgdG8gYWxsb2NhdGUgYSB3b3JrIHF1ZXVlIGVu
dHJ5XG4iLAotCQkJCSAgIGRldi0+bmFtZSk7Ci0JCWRldi0+c3RhdHMudHhfZHJvcHBlZCsrOwot
CQlkZXZfa2ZyZWVfc2tiX2FueShza2IpOwotCQlyZXR1cm4gMDsKLQl9Ci0KLQkvKiBHZXQgYSBw
YWNrZXQgYnVmZmVyICovCi0JcGFja2V0X2J1ZmZlciA9IGN2bXhfZnBhX2FsbG9jKENWTVhfRlBB
X1BBQ0tFVF9QT09MKTsKLQlpZiAodW5saWtlbHkoIXBhY2tldF9idWZmZXIpKSB7Ci0JCXByaW50
a19yYXRlbGltaXRlZCgiJXM6IEZhaWxlZCB0byBhbGxvY2F0ZSBhIHBhY2tldCBidWZmZXJcbiIs
Ci0JCQkJICAgZGV2LT5uYW1lKTsKLQkJY3ZteF9mcGFfZnJlZSh3b3JrLCBDVk1YX0ZQQV9XUUVf
UE9PTCwgMSk7Ci0JCWRldi0+c3RhdHMudHhfZHJvcHBlZCsrOwotCQlkZXZfa2ZyZWVfc2tiX2Fu
eShza2IpOwotCQlyZXR1cm4gMDsKLQl9Ci0KLQkvKgotCSAqIENhbGN1bGF0ZSB3aGVyZSB3ZSBu
ZWVkIHRvIGNvcHkgdGhlIGRhdGEgdG8uIFdlIG5lZWQgdG8KLQkgKiBsZWF2ZSA4IGJ5dGVzIGZv
ciBhIG5leHQgcG9pbnRlciAodW51c2VkKS4gV2UgYWxzbyBuZWVkIHRvCi0JICogaW5jbHVkZSBh
bnkgY29uZmlndXJlIHNraXAuIFRoZW4gd2UgbmVlZCB0byBhbGlnbiB0aGUgSVAKLQkgKiBwYWNr
ZXQgc3JjIGFuZCBkZXN0IGludG8gdGhlIHNhbWUgNjRiaXQgd29yZC4gVGhlIGJlbG93Ci0JICog
Y2FsY3VsYXRpb24gbWF5IGFkZCBhIGxpdHRsZSBleHRyYSwgYnV0IHRoYXQgZG9lc24ndAotCSAq
IGh1cnQuCi0JICovCi0JY29weV9sb2NhdGlvbiA9IHBhY2tldF9idWZmZXIgKyBzaXplb2YodTY0
KTsKLQljb3B5X2xvY2F0aW9uICs9ICgoQ1ZNWF9IRUxQRVJfRklSU1RfTUJVRkZfU0tJUCArIDcp
ICYgMHhmZmY4KSArIDY7Ci0KLQkvKgotCSAqIFdlIGhhdmUgdG8gY29weSB0aGUgcGFja2V0IHNp
bmNlIHdob2V2ZXIgcHJvY2Vzc2VzIHRoaXMKLQkgKiBwYWNrZXQgd2lsbCBmcmVlIGl0IHRvIGEg
aGFyZHdhcmUgcG9vbC4gV2UgY2FuJ3QgdXNlIHRoZQotCSAqIHRyaWNrIG9mIGNvdW50aW5nIG91
dHN0YW5kaW5nIHBhY2tldHMgbGlrZSBpbgotCSAqIGN2bV9vY3RfeG1pdC4KLQkgKi8KLQltZW1j
cHkoY29weV9sb2NhdGlvbiwgc2tiLT5kYXRhLCBza2ItPmxlbik7Ci0KLQkvKgotCSAqIEZpbGwg
aW4gc29tZSBvZiB0aGUgd29yayBxdWV1ZSBmaWVsZHMuIFdlIG1heSBuZWVkIHRvIGFkZAotCSAq
IG1vcmUgaWYgdGhlIHNvZnR3YXJlIGF0IHRoZSBvdGhlciBlbmQgbmVlZHMgdGhlbS4KLQkgKi8K
LQlpZiAoIU9DVEVPTl9JU19NT0RFTChPQ1RFT05fQ042OFhYKSkKLQkJd29yay0+d29yZDAucGlw
LmNuMzh4eC5od19jaGtzdW0gPSBza2ItPmNzdW07Ci0Jd29yay0+d29yZDEubGVuID0gc2tiLT5s
ZW47Ci0JY3ZteF93cWVfc2V0X3BvcnQod29yaywgcHJpdi0+cG9ydCk7Ci0JY3ZteF93cWVfc2V0
X3Fvcyh3b3JrLCBwcml2LT5wb3J0ICYgMHg3KTsKLQljdm14X3dxZV9zZXRfZ3JwKHdvcmssIHBv
d19zZW5kX2dyb3VwKTsKLQl3b3JrLT53b3JkMS50YWdfdHlwZSA9IENWTVhfSEVMUEVSX0lOUFVU
X1RBR19UWVBFOwotCXdvcmstPndvcmQxLnRhZyA9IHBvd19zZW5kX2dyb3VwOwkvKiBGSVhNRSAq
LwotCS8qIERlZmF1bHQgdG8gemVyby4gU2V0cyBvZiB6ZXJvIGxhdGVyIGFyZSBjb21tZW50ZWQg
b3V0ICovCi0Jd29yay0+d29yZDIudTY0ID0gMDsKLQl3b3JrLT53b3JkMi5zLmJ1ZnMgPSAxOwot
CXdvcmstPnBhY2tldF9wdHIudTY0ID0gMDsKLQl3b3JrLT5wYWNrZXRfcHRyLnMuYWRkciA9IGN2
bXhfcHRyX3RvX3BoeXMoY29weV9sb2NhdGlvbik7Ci0Jd29yay0+cGFja2V0X3B0ci5zLnBvb2wg
PSBDVk1YX0ZQQV9QQUNLRVRfUE9PTDsKLQl3b3JrLT5wYWNrZXRfcHRyLnMuc2l6ZSA9IENWTVhf
RlBBX1BBQ0tFVF9QT09MX1NJWkU7Ci0Jd29yay0+cGFja2V0X3B0ci5zLmJhY2sgPSAoY29weV9s
b2NhdGlvbiAtIHBhY2tldF9idWZmZXIpID4+IDc7Ci0KLQlpZiAoc2tiLT5wcm90b2NvbCA9PSBo
dG9ucyhFVEhfUF9JUCkpIHsKLQkJd29yay0+d29yZDIucy5pcF9vZmZzZXQgPSAxNDsKLSNpZiAw
Ci0JCXdvcmstPndvcmQyLnMudmxhbl92YWxpZCA9IDA7CS8qIEZJWE1FICovCi0JCXdvcmstPndv
cmQyLnMudmxhbl9jZmkgPSAwOwkvKiBGSVhNRSAqLwotCQl3b3JrLT53b3JkMi5zLnZsYW5faWQg
PSAwOwkvKiBGSVhNRSAqLwotCQl3b3JrLT53b3JkMi5zLmRlY19pcGNvbXAgPSAwOwkvKiBGSVhN
RSAqLwotI2VuZGlmCi0JCXdvcmstPndvcmQyLnMudGNwX29yX3VkcCA9Ci0JCSAgICAoaXBfaGRy
KHNrYiktPnByb3RvY29sID09IElQUFJPVE9fVENQKSB8fAotCQkgICAgKGlwX2hkcihza2IpLT5w
cm90b2NvbCA9PSBJUFBST1RPX1VEUCk7Ci0jaWYgMAotCQkvKiBGSVhNRSAqLwotCQl3b3JrLT53
b3JkMi5zLmRlY19pcHNlYyA9IDA7Ci0JCS8qIFdlIG9ubHkgc3VwcG9ydCBJUHY0IHJpZ2h0IG5v
dyAqLwotCQl3b3JrLT53b3JkMi5zLmlzX3Y2ID0gMDsKLQkJLyogSGFyZHdhcmUgd291bGQgc2V0
IHRvIHplcm8gKi8KLQkJd29yay0+d29yZDIucy5zb2Z0d2FyZSA9IDA7Ci0JCS8qIE5vIGVycm9y
LCBwYWNrZXQgaXMgaW50ZXJuYWwgKi8KLQkJd29yay0+d29yZDIucy5MNF9lcnJvciA9IDA7Ci0j
ZW5kaWYKLQkJd29yay0+d29yZDIucy5pc19mcmFnID0gISgoaXBfaGRyKHNrYiktPmZyYWdfb2Zm
ID09IDApIHx8Ci0JCQkJCSAgKGlwX2hkcihza2IpLT5mcmFnX29mZiA9PQotCQkJCQkgICAgICBj
cHVfdG9fYmUxNigxIDw8IDE0KSkpOwotI2lmIDAKLQkJLyogQXNzdW1lIExpbnV4IGlzIHNlbmRp
bmcgYSBnb29kIHBhY2tldCAqLwotCQl3b3JrLT53b3JkMi5zLklQX2V4YyA9IDA7Ci0jZW5kaWYK
LQkJd29yay0+d29yZDIucy5pc19iY2FzdCA9IChza2ItPnBrdF90eXBlID09IFBBQ0tFVF9CUk9B
RENBU1QpOwotCQl3b3JrLT53b3JkMi5zLmlzX21jYXN0ID0gKHNrYi0+cGt0X3R5cGUgPT0gUEFD
S0VUX01VTFRJQ0FTVCk7Ci0jaWYgMAotCQkvKiBUaGlzIGlzIGFuIElQIHBhY2tldCAqLwotCQl3
b3JrLT53b3JkMi5zLm5vdF9JUCA9IDA7Ci0JCS8qIE5vIGVycm9yLCBwYWNrZXQgaXMgaW50ZXJu
YWwgKi8KLQkJd29yay0+d29yZDIucy5yY3ZfZXJyb3IgPSAwOwotCQkvKiBObyBlcnJvciwgcGFj
a2V0IGlzIGludGVybmFsICovCi0JCXdvcmstPndvcmQyLnMuZXJyX2NvZGUgPSAwOwotI2VuZGlm
Ci0KLQkJLyoKLQkJICogV2hlbiBjb3B5aW5nIHRoZSBkYXRhLCBpbmNsdWRlIDQgYnl0ZXMgb2Yg
dGhlCi0JCSAqIGV0aGVybmV0IGhlYWRlciB0byBhbGlnbiB0aGUgc2FtZSB3YXkgaGFyZHdhcmUK
LQkJICogZG9lcy4KLQkJICovCi0JCW1lbWNweSh3b3JrLT5wYWNrZXRfZGF0YSwgc2tiLT5kYXRh
ICsgMTAsCi0JCSAgICAgICBzaXplb2Yod29yay0+cGFja2V0X2RhdGEpKTsKLQl9IGVsc2Ugewot
I2lmIDAKLQkJd29yay0+d29yZDIuc25vaXAudmxhbl92YWxpZCA9IDA7CS8qIEZJWE1FICovCi0J
CXdvcmstPndvcmQyLnNub2lwLnZsYW5fY2ZpID0gMDsJLyogRklYTUUgKi8KLQkJd29yay0+d29y
ZDIuc25vaXAudmxhbl9pZCA9IDA7CS8qIEZJWE1FICovCi0JCXdvcmstPndvcmQyLnNub2lwLnNv
ZnR3YXJlID0gMDsJLyogSGFyZHdhcmUgd291bGQgc2V0IHRvIHplcm8gKi8KLSNlbmRpZgotCQl3
b3JrLT53b3JkMi5zbm9pcC5pc19yYXJwID0gc2tiLT5wcm90b2NvbCA9PSBodG9ucyhFVEhfUF9S
QVJQKTsKLQkJd29yay0+d29yZDIuc25vaXAuaXNfYXJwID0gc2tiLT5wcm90b2NvbCA9PSBodG9u
cyhFVEhfUF9BUlApOwotCQl3b3JrLT53b3JkMi5zbm9pcC5pc19iY2FzdCA9Ci0JCSAgICAoc2ti
LT5wa3RfdHlwZSA9PSBQQUNLRVRfQlJPQURDQVNUKTsKLQkJd29yay0+d29yZDIuc25vaXAuaXNf
bWNhc3QgPQotCQkgICAgKHNrYi0+cGt0X3R5cGUgPT0gUEFDS0VUX01VTFRJQ0FTVCk7Ci0JCXdv
cmstPndvcmQyLnNub2lwLm5vdF9JUCA9IDE7CS8qIElQIHdhcyBkb25lIHVwIGFib3ZlICovCi0j
aWYgMAotCQkvKiBObyBlcnJvciwgcGFja2V0IGlzIGludGVybmFsICovCi0JCXdvcmstPndvcmQy
LnNub2lwLnJjdl9lcnJvciA9IDA7Ci0JCS8qIE5vIGVycm9yLCBwYWNrZXQgaXMgaW50ZXJuYWwg
Ki8KLQkJd29yay0+d29yZDIuc25vaXAuZXJyX2NvZGUgPSAwOwotI2VuZGlmCi0JCW1lbWNweSh3
b3JrLT5wYWNrZXRfZGF0YSwgc2tiLT5kYXRhLCBzaXplb2Yod29yay0+cGFja2V0X2RhdGEpKTsK
LQl9Ci0KLQkvKiBTdWJtaXQgdGhlIHBhY2tldCB0byB0aGUgUE9XICovCi0JY3ZteF9wb3dfd29y
a19zdWJtaXQod29yaywgd29yay0+d29yZDEudGFnLCB3b3JrLT53b3JkMS50YWdfdHlwZSwKLQkJ
CSAgICAgY3ZteF93cWVfZ2V0X3Fvcyh3b3JrKSwgY3ZteF93cWVfZ2V0X2dycCh3b3JrKSk7Ci0J
ZGV2LT5zdGF0cy50eF9wYWNrZXRzKys7Ci0JZGV2LT5zdGF0cy50eF9ieXRlcyArPSBza2ItPmxl
bjsKLQlkZXZfY29uc3VtZV9za2JfYW55KHNrYik7Ci0JcmV0dXJuIDA7Ci19Ci0KLS8qKgotICog
Y3ZtX29jdF90eF9zaHV0ZG93bl9kZXYgLSBmcmVlIGFsbCBza2IgdGhhdCBhcmUgY3VycmVudGx5
IHF1ZXVlZCBmb3IgVFguCi0gKiBAZGV2OiAgICBEZXZpY2UgYmVpbmcgc2h1dGRvd24KLSAqCi0g
Ki8KLXZvaWQgY3ZtX29jdF90eF9zaHV0ZG93bl9kZXYoc3RydWN0IG5ldF9kZXZpY2UgKmRldikK
LXsKLQlzdHJ1Y3Qgb2N0ZW9uX2V0aGVybmV0ICpwcml2ID0gbmV0ZGV2X3ByaXYoZGV2KTsKLQl1
bnNpZ25lZCBsb25nIGZsYWdzOwotCWludCBxb3M7Ci0KLQlmb3IgKHFvcyA9IDA7IHFvcyA8IDE2
OyBxb3MrKykgewotCQlzcGluX2xvY2tfaXJxc2F2ZSgmcHJpdi0+dHhfZnJlZV9saXN0W3Fvc10u
bG9jaywgZmxhZ3MpOwotCQl3aGlsZSAoc2tiX3F1ZXVlX2xlbigmcHJpdi0+dHhfZnJlZV9saXN0
W3Fvc10pKQotCQkJZGV2X2tmcmVlX3NrYl9hbnkoX19za2JfZGVxdWV1ZQotCQkJCQkgICgmcHJp
di0+dHhfZnJlZV9saXN0W3Fvc10pKTsKLQkJc3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgmcHJpdi0+
dHhfZnJlZV9saXN0W3Fvc10ubG9jaywgZmxhZ3MpOwotCX0KLX0KLQotc3RhdGljIHZvaWQgY3Zt
X29jdF90eF9kb19jbGVhbnVwKHVuc2lnbmVkIGxvbmcgYXJnKQotewotCWludCBwb3J0OwotCi0J
Zm9yIChwb3J0ID0gMDsgcG9ydCA8IFRPVEFMX05VTUJFUl9PRl9QT1JUUzsgcG9ydCsrKSB7Ci0J
CWlmIChjdm1fb2N0X2RldmljZVtwb3J0XSkgewotCQkJc3RydWN0IG5ldF9kZXZpY2UgKmRldiA9
IGN2bV9vY3RfZGV2aWNlW3BvcnRdOwotCi0JCQljdm1fb2N0X2ZyZWVfdHhfc2ticyhkZXYpOwot
CQl9Ci0JfQotfQotCi1zdGF0aWMgaXJxcmV0dXJuX3QgY3ZtX29jdF90eF9jbGVhbnVwX3dhdGNo
ZG9nKGludCBjcGwsIHZvaWQgKmRldl9pZCkKLXsKLQkvKiBEaXNhYmxlIHRoZSBpbnRlcnJ1cHQu
ICAqLwotCWN2bXhfd3JpdGVfY3NyKENWTVhfQ0lVX1RJTVgoMSksIDApOwotCS8qIERvIHRoZSB3
b3JrIGluIHRoZSB0YXNrbGV0LiAgKi8KLQl0YXNrbGV0X3NjaGVkdWxlKCZjdm1fb2N0X3R4X2Ns
ZWFudXBfdGFza2xldCk7Ci0JcmV0dXJuIElSUV9IQU5ETEVEOwotfQotCi12b2lkIGN2bV9vY3Rf
dHhfaW5pdGlhbGl6ZSh2b2lkKQotewotCWludCBpOwotCi0JLyogRGlzYWJsZSB0aGUgaW50ZXJy
dXB0LiAgKi8KLQljdm14X3dyaXRlX2NzcihDVk1YX0NJVV9USU1YKDEpLCAwKTsKLQkvKiBSZWdp
c3RlciBhbiBJUlEgaGFuZGxlciB0byByZWNlaXZlIENJVV9USU1YKDEpIGludGVycnVwdHMgKi8K
LQlpID0gcmVxdWVzdF9pcnEoT0NURU9OX0lSUV9USU1FUjEsCi0JCQljdm1fb2N0X3R4X2NsZWFu
dXBfd2F0Y2hkb2csIDAsCi0JCQkiRXRoZXJuZXQiLCBjdm1fb2N0X2RldmljZSk7Ci0KLQlpZiAo
aSkKLQkJcGFuaWMoIkNvdWxkIG5vdCBhY3F1aXJlIEV0aGVybmV0IElSUSAlZFxuIiwgT0NURU9O
X0lSUV9USU1FUjEpOwotfQotCi12b2lkIGN2bV9vY3RfdHhfc2h1dGRvd24odm9pZCkKLXsKLQkv
KiBGcmVlIHRoZSBpbnRlcnJ1cHQgaGFuZGxlciAqLwotCWZyZWVfaXJxKE9DVEVPTl9JUlFfVElN
RVIxLCBjdm1fb2N0X2RldmljZSk7Ci19CmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcvb2N0
ZW9uL2V0aGVybmV0LXR4LmggYi9kcml2ZXJzL3N0YWdpbmcvb2N0ZW9uL2V0aGVybmV0LXR4LmgK
ZGVsZXRlZCBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDc4OTM2ZTliMzNiMC4uMDAwMDAwMDAwMDAw
Ci0tLSBhL2RyaXZlcnMvc3RhZ2luZy9vY3Rlb24vZXRoZXJuZXQtdHguaAorKysgL2Rldi9udWxs
CkBAIC0xLDE0ICswLDAgQEAKLS8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wICov
Ci0vKgotICogVGhpcyBmaWxlIGlzIGJhc2VkIG9uIGNvZGUgZnJvbSBPQ1RFT04gU0RLIGJ5IENh
dml1bSBOZXR3b3Jrcy4KLSAqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDMtMjAwNyBDYXZpdW0gTmV0
d29ya3MKLSAqLwotCi1pbnQgY3ZtX29jdF94bWl0KHN0cnVjdCBza19idWZmICpza2IsIHN0cnVj
dCBuZXRfZGV2aWNlICpkZXYpOwotaW50IGN2bV9vY3RfeG1pdF9wb3coc3RydWN0IHNrX2J1ZmYg
KnNrYiwgc3RydWN0IG5ldF9kZXZpY2UgKmRldik7Ci1pbnQgY3ZtX29jdF90cmFuc21pdF9xb3Mo
c3RydWN0IG5ldF9kZXZpY2UgKmRldiwgdm9pZCAqd29ya19xdWV1ZV9lbnRyeSwKLQkJCSBpbnQg
ZG9fZnJlZSwgaW50IHFvcyk7Ci12b2lkIGN2bV9vY3RfdHhfaW5pdGlhbGl6ZSh2b2lkKTsKLXZv
aWQgY3ZtX29jdF90eF9zaHV0ZG93bih2b2lkKTsKLXZvaWQgY3ZtX29jdF90eF9zaHV0ZG93bl9k
ZXYoc3RydWN0IG5ldF9kZXZpY2UgKmRldik7CmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcv
b2N0ZW9uL2V0aGVybmV0LXV0aWwuaCBiL2RyaXZlcnMvc3RhZ2luZy9vY3Rlb24vZXRoZXJuZXQt
dXRpbC5oCmRlbGV0ZWQgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAyYWY4M2ExMmNhNzguLjAwMDAw
MDAwMDAwMAotLS0gYS9kcml2ZXJzL3N0YWdpbmcvb2N0ZW9uL2V0aGVybmV0LXV0aWwuaAorKysg
L2Rldi9udWxsCkBAIC0xLDQ3ICswLDAgQEAKLS8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBH
UEwtMi4wICovCi0vKgotICogVGhpcyBmaWxlIGlzIGJhc2VkIG9uIGNvZGUgZnJvbSBPQ1RFT04g
U0RLIGJ5IENhdml1bSBOZXR3b3Jrcy4KLSAqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDMtMjAwNyBD
YXZpdW0gTmV0d29ya3MKLSAqLwotCi0vKioKLSAqIGN2bV9vY3RfZ2V0X2J1ZmZlcl9wdHIgLSBj
b252ZXJ0IHBhY2tldCBkYXRhIGFkZHJlc3MgdG8gcG9pbnRlcgotICogQHBhY2tldF9wdHI6IFBh
Y2tldCBkYXRhIGhhcmR3YXJlIGFkZHJlc3MKLSAqCi0gKiBSZXR1cm5zIFBhY2tldCBidWZmZXIg
cG9pbnRlcgotICovCi1zdGF0aWMgaW5saW5lIHZvaWQgKmN2bV9vY3RfZ2V0X2J1ZmZlcl9wdHIo
dW5pb24gY3ZteF9idWZfcHRyIHBhY2tldF9wdHIpCi17Ci0JcmV0dXJuIGN2bXhfcGh5c190b19w
dHIoKChwYWNrZXRfcHRyLnMuYWRkciA+PiA3KSAtIHBhY2tldF9wdHIucy5iYWNrKQotCQkJCTw8
IDcpOwotfQotCi0vKioKLSAqIElOVEVSRkFDRSAtIGNvbnZlcnQgSVBEIHBvcnQgdG8gbG9naWNh
bCBpbnRlcmZhY2UKLSAqIEBpcGRfcG9ydDogUG9ydCB0byBjaGVjawotICoKLSAqIFJldHVybnMg
TG9naWNhbCBpbnRlcmZhY2UKLSAqLwotc3RhdGljIGlubGluZSBpbnQgSU5URVJGQUNFKGludCBp
cGRfcG9ydCkKLXsKLQlpbnQgaW50ZXJmYWNlOwotCi0JaWYgKGlwZF9wb3J0ID09IENWTVhfUElQ
X05VTV9JTlBVVF9QT1JUUykKLQkJcmV0dXJuIDEwOwotCWludGVyZmFjZSA9IGN2bXhfaGVscGVy
X2dldF9pbnRlcmZhY2VfbnVtKGlwZF9wb3J0KTsKLQlpZiAoaW50ZXJmYWNlID49IDApCi0JCXJl
dHVybiBpbnRlcmZhY2U7Ci0JcGFuaWMoIklsbGVnYWwgaXBkX3BvcnQgJWQgcGFzc2VkIHRvICVz
XG4iLCBpcGRfcG9ydCwgX19mdW5jX18pOwotfQotCi0vKioKLSAqIElOREVYIC0gY29udmVydCBJ
UEQvUEtPIHBvcnQgbnVtYmVyIHRvIHRoZSBwb3J0J3MgaW50ZXJmYWNlIGluZGV4Ci0gKiBAaXBk
X3BvcnQ6IFBvcnQgdG8gY2hlY2sKLSAqCi0gKiBSZXR1cm5zIEluZGV4IGludG8gaW50ZXJmYWNl
IHBvcnQgbGlzdAotICovCi1zdGF0aWMgaW5saW5lIGludCBJTkRFWChpbnQgaXBkX3BvcnQpCi17
Ci0JcmV0dXJuIGN2bXhfaGVscGVyX2dldF9pbnRlcmZhY2VfaW5kZXhfbnVtKGlwZF9wb3J0KTsK
LX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9vY3Rlb24vZXRoZXJuZXQuYyBiL2RyaXZl
cnMvc3RhZ2luZy9vY3Rlb24vZXRoZXJuZXQuYwpkZWxldGVkIGZpbGUgbW9kZSAxMDA2NDQKaW5k
ZXggZjQyYzM4MTZjZTQ5Li4wMDAwMDAwMDAwMDAKLS0tIGEvZHJpdmVycy9zdGFnaW5nL29jdGVv
bi9ldGhlcm5ldC5jCisrKyAvZGV2L251bGwKQEAgLTEsOTkyICswLDAgQEAKLS8vIFNQRFgtTGlj
ZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wCi0vKgotICogVGhpcyBmaWxlIGlzIGJhc2VkIG9uIGNv
ZGUgZnJvbSBPQ1RFT04gU0RLIGJ5IENhdml1bSBOZXR3b3Jrcy4KLSAqCi0gKiBDb3B5cmlnaHQg
KGMpIDIwMDMtMjAwNyBDYXZpdW0gTmV0d29ya3MKLSAqLwotCi0jaW5jbHVkZSA8bGludXgvcGxh
dGZvcm1fZGV2aWNlLmg+Ci0jaW5jbHVkZSA8bGludXgva2VybmVsLmg+Ci0jaW5jbHVkZSA8bGlu
dXgvbW9kdWxlLmg+Ci0jaW5jbHVkZSA8bGludXgvbmV0ZGV2aWNlLmg+Ci0jaW5jbHVkZSA8bGlu
dXgvZXRoZXJkZXZpY2UuaD4KLSNpbmNsdWRlIDxsaW51eC9waHkuaD4KLSNpbmNsdWRlIDxsaW51
eC9zbGFiLmg+Ci0jaW5jbHVkZSA8bGludXgvaW50ZXJydXB0Lmg+Ci0jaW5jbHVkZSA8bGludXgv
b2ZfbmV0Lmg+Ci0jaW5jbHVkZSA8bGludXgvaWZfZXRoZXIuaD4KLSNpbmNsdWRlIDxsaW51eC9p
Zl92bGFuLmg+Ci0KLSNpbmNsdWRlIDxuZXQvZHN0Lmg+Ci0KLSNpbmNsdWRlICJvY3Rlb24tZXRo
ZXJuZXQuaCIKLSNpbmNsdWRlICJldGhlcm5ldC1kZWZpbmVzLmgiCi0jaW5jbHVkZSAiZXRoZXJu
ZXQtbWVtLmgiCi0jaW5jbHVkZSAiZXRoZXJuZXQtcnguaCIKLSNpbmNsdWRlICJldGhlcm5ldC10
eC5oIgotI2luY2x1ZGUgImV0aGVybmV0LW1kaW8uaCIKLSNpbmNsdWRlICJldGhlcm5ldC11dGls
LmgiCi0KLSNkZWZpbmUgT0NURU9OX01BWF9NVFUgNjUzOTIKLQotc3RhdGljIGludCBudW1fcGFj
a2V0X2J1ZmZlcnMgPSAxMDI0OwotbW9kdWxlX3BhcmFtKG51bV9wYWNrZXRfYnVmZmVycywgaW50
LCAwNDQ0KTsKLU1PRFVMRV9QQVJNX0RFU0MobnVtX3BhY2tldF9idWZmZXJzLCAiXG4iCi0JIlx0
TnVtYmVyIG9mIHBhY2tldCBidWZmZXJzIHRvIGFsbG9jYXRlIGFuZCBzdG9yZSBpbiB0aGVcbiIK
LQkiXHRGUEEuIEJ5IGRlZmF1bHQsIDEwMjQgcGFja2V0IGJ1ZmZlcnMgYXJlIHVzZWQuXG4iKTsK
LQotc3RhdGljIGludCBwb3dfcmVjZWl2ZV9ncm91cCA9IDE1OwotbW9kdWxlX3BhcmFtKHBvd19y
ZWNlaXZlX2dyb3VwLCBpbnQsIDA0NDQpOwotTU9EVUxFX1BBUk1fREVTQyhwb3dfcmVjZWl2ZV9n
cm91cCwgIlxuIgotCSJcdFBPVyBncm91cCB0byByZWNlaXZlIHBhY2tldHMgZnJvbS4gQWxsIGV0
aGVybmV0IGhhcmR3YXJlXG4iCi0JIlx0d2lsbCBiZSBjb25maWd1cmVkIHRvIHNlbmQgaW5jb21p
bmcgcGFja2V0cyB0byB0aGlzIFBPV1xuIgotCSJcdGdyb3VwLiBBbHNvIGFueSBvdGhlciBzb2Z0
d2FyZSBjYW4gc3VibWl0IHBhY2tldHMgdG8gdGhpc1xuIgotCSJcdGdyb3VwIGZvciB0aGUga2Vy
bmVsIHRvIHByb2Nlc3MuIik7Ci0KLXN0YXRpYyBpbnQgcmVjZWl2ZV9ncm91cF9vcmRlcjsKLW1v
ZHVsZV9wYXJhbShyZWNlaXZlX2dyb3VwX29yZGVyLCBpbnQsIDA0NDQpOwotTU9EVUxFX1BBUk1f
REVTQyhyZWNlaXZlX2dyb3VwX29yZGVyLCAiXG4iCi0JIlx0T3JkZXIgKDAuLjQpIG9mIHJlY2Vp
dmUgZ3JvdXBzIHRvIHRha2UgaW50byB1c2UuIEV0aGVybmV0IGhhcmR3YXJlXG4iCi0JIlx0d2ls
bCBiZSBjb25maWd1cmVkIHRvIHNlbmQgaW5jb21pbmcgcGFja2V0cyB0byBtdWx0aXBsZSBQT1dc
biIKLQkiXHRncm91cHMuIHBvd19yZWNlaXZlX2dyb3VwIHBhcmFtZXRlciBpcyBpZ25vcmVkIHdo
ZW4gbXVsdGlwbGVcbiIKLQkiXHRncm91cHMgYXJlIHRha2VuIGludG8gdXNlIGFuZCBncm91cHMg
YXJlIGFsbG9jYXRlZCBzdGFydGluZ1xuIgotCSJcdGZyb20gMC4gQnkgZGVmYXVsdCwgYSBzaW5n
bGUgZ3JvdXAgaXMgdXNlZC5cbiIpOwotCi1pbnQgcG93X3NlbmRfZ3JvdXAgPSAtMTsKLW1vZHVs
ZV9wYXJhbShwb3dfc2VuZF9ncm91cCwgaW50LCAwNjQ0KTsKLU1PRFVMRV9QQVJNX0RFU0MocG93
X3NlbmRfZ3JvdXAsICJcbiIKLQkiXHRQT1cgZ3JvdXAgdG8gc2VuZCBwYWNrZXRzIHRvIG90aGVy
IHNvZnR3YXJlIG9uLiBUaGlzXG4iCi0JIlx0Y29udHJvbHMgdGhlIGNyZWF0aW9uIG9mIHRoZSB2
aXJ0dWFsIGRldmljZSBwb3cwLlxuIgotCSJcdGFsd2F5c191c2VfcG93IGFsc28gZGVwZW5kcyBv
biB0aGlzIHZhbHVlLiIpOwotCi1pbnQgYWx3YXlzX3VzZV9wb3c7Ci1tb2R1bGVfcGFyYW0oYWx3
YXlzX3VzZV9wb3csIGludCwgMDQ0NCk7Ci1NT0RVTEVfUEFSTV9ERVNDKGFsd2F5c191c2VfcG93
LCAiXG4iCi0JIlx0V2hlbiBzZXQsIGFsd2F5cyBzZW5kIHRvIHRoZSBwb3cgZ3JvdXAuIFRoaXMg
d2lsbCBjYXVzZVxuIgotCSJcdHBhY2tldHMgc2VudCB0byByZWFsIGV0aGVybmV0IGRldmljZXMg
dG8gYmUgc2VudCB0byB0aGVcbiIKLQkiXHRQT1cgZ3JvdXAgaW5zdGVhZCBvZiB0aGUgaGFyZHdh
cmUuIFVubGVzcyBzb21lIG90aGVyXG4iCi0JIlx0YXBwbGljYXRpb24gY2hhbmdlcyB0aGUgY29u
ZmlnLCBwYWNrZXRzIHdpbGwgc3RpbGwgYmVcbiIKLQkiXHRyZWNlaXZlZCBmcm9tIHRoZSBsb3cg
bGV2ZWwgaGFyZHdhcmUuIFVzZSB0aGlzIG9wdGlvblxuIgotCSJcdHRvIGFsbG93IGEgQ1ZNWCBh
cHAgdG8gaW50ZXJjZXB0IGFsbCBwYWNrZXRzIGZyb20gdGhlXG4iCi0JIlx0bGludXgga2VybmVs
LiBZb3UgbXVzdCBzcGVjaWZ5IHBvd19zZW5kX2dyb3VwIGFsb25nIHdpdGhcbiIKLQkiXHR0aGlz
IG9wdGlvbi4iKTsKLQotY2hhciBwb3dfc2VuZF9saXN0WzEyOF0gPSAiIjsKLW1vZHVsZV9wYXJh
bV9zdHJpbmcocG93X3NlbmRfbGlzdCwgcG93X3NlbmRfbGlzdCwgc2l6ZW9mKHBvd19zZW5kX2xp
c3QpLCAwNDQ0KTsKLU1PRFVMRV9QQVJNX0RFU0MocG93X3NlbmRfbGlzdCwgIlxuIgotCSJcdENv
bW1hIHNlcGFyYXRlZCBsaXN0IG9mIGV0aGVybmV0IGRldmljZXMgdGhhdCBzaG91bGQgdXNlIHRo
ZVxuIgotCSJcdFBPVyBmb3IgdHJhbnNtaXQgaW5zdGVhZCBvZiB0aGUgYWN0dWFsIGV0aGVybmV0
IGhhcmR3YXJlLiBUaGlzXG4iCi0JIlx0aXMgYSBwZXIgcG9ydCB2ZXJzaW9uIG9mIGFsd2F5c191
c2VfcG93LiBhbHdheXNfdXNlX3BvdyB0YWtlc1xuIgotCSJcdHByZWNlZGVuY2Ugb3ZlciB0aGlz
IGxpc3QuIEZvciBleGFtcGxlLCBzZXR0aW5nIHRoaXMgdG9cbiIKLQkiXHRcImV0aDIsc3BpMyxz
cGk3XCIgd291bGQgY2F1c2UgdGhlc2UgdGhyZWUgZGV2aWNlcyB0byB0cmFuc21pdFxuIgotCSJc
dHVzaW5nIHRoZSBwb3dfc2VuZF9ncm91cC4iKTsKLQotaW50IHJ4X25hcGlfd2VpZ2h0ID0gMzI7
Ci1tb2R1bGVfcGFyYW0ocnhfbmFwaV93ZWlnaHQsIGludCwgMDQ0NCk7Ci1NT0RVTEVfUEFSTV9E
RVNDKHJ4X25hcGlfd2VpZ2h0LCAiVGhlIE5BUEkgV0VJR0hUIHBhcmFtZXRlci4iKTsKLQotLyog
TWFzayBpbmRpY2F0aW5nIHdoaWNoIHJlY2VpdmUgZ3JvdXBzIGFyZSBpbiB1c2UuICovCi1pbnQg
cG93X3JlY2VpdmVfZ3JvdXBzOwotCi0vKgotICogY3ZtX29jdF9wb2xsX3F1ZXVlX3N0b3BwaW5n
IC0gZmxhZyB0byBpbmRpY2F0ZSBwb2xsaW5nIHNob3VsZCBzdG9wLgotICoKLSAqIFNldCB0byBv
bmUgcmlnaHQgYmVmb3JlIGN2bV9vY3RfcG9sbF9xdWV1ZSBpcyBkZXN0cm95ZWQuCi0gKi8KLWF0
b21pY190IGN2bV9vY3RfcG9sbF9xdWV1ZV9zdG9wcGluZyA9IEFUT01JQ19JTklUKDApOwotCi0v
KgotICogQXJyYXkgb2YgZXZlcnkgZXRoZXJuZXQgZGV2aWNlIG93bmVkIGJ5IHRoaXMgZHJpdmVy
IGluZGV4ZWQgYnkKLSAqIHRoZSBpcGQgaW5wdXQgcG9ydCBudW1iZXIuCi0gKi8KLXN0cnVjdCBu
ZXRfZGV2aWNlICpjdm1fb2N0X2RldmljZVtUT1RBTF9OVU1CRVJfT0ZfUE9SVFNdOwotCi11NjQg
Y3ZtX29jdF90eF9wb2xsX2ludGVydmFsOwotCi1zdGF0aWMgdm9pZCBjdm1fb2N0X3J4X3JlZmls
bF93b3JrZXIoc3RydWN0IHdvcmtfc3RydWN0ICp3b3JrKTsKLXN0YXRpYyBERUNMQVJFX0RFTEFZ
RURfV09SSyhjdm1fb2N0X3J4X3JlZmlsbF93b3JrLCBjdm1fb2N0X3J4X3JlZmlsbF93b3JrZXIp
OwotCi1zdGF0aWMgdm9pZCBjdm1fb2N0X3J4X3JlZmlsbF93b3JrZXIoc3RydWN0IHdvcmtfc3Ry
dWN0ICp3b3JrKQotewotCS8qCi0JICogRlBBIDAgbWF5IGhhdmUgYmVlbiBkcmFpbmVkLCB0cnkg
dG8gcmVmaWxsIGl0IGlmIHdlIG5lZWQKLQkgKiBtb3JlIHRoYW4gbnVtX3BhY2tldF9idWZmZXJz
IC8gMiwgb3RoZXJ3aXNlIG5vcm1hbCByZWNlaXZlCi0JICogcHJvY2Vzc2luZyB3aWxsIHJlZmls
bCBpdC4gIElmIGl0IHdlcmUgZHJhaW5lZCwgbm8gcGFja2V0cwotCSAqIGNvdWxkIGJlIHJlY2Vp
dmVkIHNvIGN2bV9vY3RfbmFwaV9wb2xsIHdvdWxkIG5ldmVyIGJlCi0JICogaW52b2tlZCB0byBk
byB0aGUgcmVmaWxsLgotCSAqLwotCWN2bV9vY3RfcnhfcmVmaWxsX3Bvb2wobnVtX3BhY2tldF9i
dWZmZXJzIC8gMik7Ci0KLQlpZiAoIWF0b21pY19yZWFkKCZjdm1fb2N0X3BvbGxfcXVldWVfc3Rv
cHBpbmcpKQotCQlzY2hlZHVsZV9kZWxheWVkX3dvcmsoJmN2bV9vY3RfcnhfcmVmaWxsX3dvcmss
IEhaKTsKLX0KLQotc3RhdGljIHZvaWQgY3ZtX29jdF9wZXJpb2RpY193b3JrZXIoc3RydWN0IHdv
cmtfc3RydWN0ICp3b3JrKQotewotCXN0cnVjdCBvY3Rlb25fZXRoZXJuZXQgKnByaXYgPSBjb250
YWluZXJfb2Yod29yaywKLQkJCQkJCSAgICBzdHJ1Y3Qgb2N0ZW9uX2V0aGVybmV0LAotCQkJCQkJ
ICAgIHBvcnRfcGVyaW9kaWNfd29yay53b3JrKTsKLQotCWlmIChwcml2LT5wb2xsKQotCQlwcml2
LT5wb2xsKGN2bV9vY3RfZGV2aWNlW3ByaXYtPnBvcnRdKTsKLQotCWN2bV9vY3RfZGV2aWNlW3By
aXYtPnBvcnRdLT5uZXRkZXZfb3BzLT5uZG9fZ2V0X3N0YXRzCi0JCQkJCQkoY3ZtX29jdF9kZXZp
Y2VbcHJpdi0+cG9ydF0pOwotCi0JaWYgKCFhdG9taWNfcmVhZCgmY3ZtX29jdF9wb2xsX3F1ZXVl
X3N0b3BwaW5nKSkKLQkJc2NoZWR1bGVfZGVsYXllZF93b3JrKCZwcml2LT5wb3J0X3BlcmlvZGlj
X3dvcmssIEhaKTsKLX0KLQotc3RhdGljIHZvaWQgY3ZtX29jdF9jb25maWd1cmVfY29tbW9uX2h3
KHZvaWQpCi17Ci0JLyogU2V0dXAgdGhlIEZQQSAqLwotCWN2bXhfZnBhX2VuYWJsZSgpOwotCWN2
bV9vY3RfbWVtX2ZpbGxfZnBhKENWTVhfRlBBX1BBQ0tFVF9QT09MLCBDVk1YX0ZQQV9QQUNLRVRf
UE9PTF9TSVpFLAotCQkJICAgICBudW1fcGFja2V0X2J1ZmZlcnMpOwotCWN2bV9vY3RfbWVtX2Zp
bGxfZnBhKENWTVhfRlBBX1dRRV9QT09MLCBDVk1YX0ZQQV9XUUVfUE9PTF9TSVpFLAotCQkJICAg
ICBudW1fcGFja2V0X2J1ZmZlcnMpOwotCWlmIChDVk1YX0ZQQV9PVVRQVVRfQlVGRkVSX1BPT0wg
IT0gQ1ZNWF9GUEFfUEFDS0VUX1BPT0wpCi0JCWN2bV9vY3RfbWVtX2ZpbGxfZnBhKENWTVhfRlBB
X09VVFBVVF9CVUZGRVJfUE9PTCwKLQkJCQkgICAgIENWTVhfRlBBX09VVFBVVF9CVUZGRVJfUE9P
TF9TSVpFLCAxMDI0KTsKLQotI2lmZGVmIF9fTElUVExFX0VORElBTgotCXsKLQkJdW5pb24gY3Zt
eF9pcGRfY3RsX3N0YXR1cyBpcGRfY3RsX3N0YXR1czsKLQotCQlpcGRfY3RsX3N0YXR1cy51NjQg
PSBjdm14X3JlYWRfY3NyKENWTVhfSVBEX0NUTF9TVEFUVVMpOwotCQlpcGRfY3RsX3N0YXR1cy5z
LnBrdF9sZW5kID0gMTsKLQkJaXBkX2N0bF9zdGF0dXMucy53cWVfbGVuZCA9IDE7Ci0JCWN2bXhf
d3JpdGVfY3NyKENWTVhfSVBEX0NUTF9TVEFUVVMsIGlwZF9jdGxfc3RhdHVzLnU2NCk7Ci0JfQot
I2VuZGlmCi0KLQljdm14X2hlbHBlcl9zZXR1cF9yZWQobnVtX3BhY2tldF9idWZmZXJzIC8gNCwg
bnVtX3BhY2tldF9idWZmZXJzIC8gOCk7Ci19Ci0KLS8qKgotICogY3ZtX29jdF9mcmVlX3dvcmst
IEZyZWUgYSB3b3JrIHF1ZXVlIGVudHJ5Ci0gKgotICogQHdvcmtfcXVldWVfZW50cnk6IFdvcmsg
cXVldWUgZW50cnkgdG8gZnJlZQotICoKLSAqIFJldHVybnMgWmVybyBvbiBzdWNjZXNzLCBOZWdh
dGl2ZSBvbiBmYWlsdXJlLgotICovCi1pbnQgY3ZtX29jdF9mcmVlX3dvcmsodm9pZCAqd29ya19x
dWV1ZV9lbnRyeSkKLXsKLQlzdHJ1Y3QgY3ZteF93cWUgKndvcmsgPSB3b3JrX3F1ZXVlX2VudHJ5
OwotCi0JaW50IHNlZ21lbnRzID0gd29yay0+d29yZDIucy5idWZzOwotCXVuaW9uIGN2bXhfYnVm
X3B0ciBzZWdtZW50X3B0ciA9IHdvcmstPnBhY2tldF9wdHI7Ci0KLQl3aGlsZSAoc2VnbWVudHMt
LSkgewotCQl1bmlvbiBjdm14X2J1Zl9wdHIgbmV4dF9wdHIgPSAqKHVuaW9uIGN2bXhfYnVmX3B0
ciAqKQotCQkJY3ZteF9waHlzX3RvX3B0cihzZWdtZW50X3B0ci5zLmFkZHIgLSA4KTsKLQkJaWYg
KHVubGlrZWx5KCFzZWdtZW50X3B0ci5zLmkpKQotCQkJY3ZteF9mcGFfZnJlZShjdm1fb2N0X2dl
dF9idWZmZXJfcHRyKHNlZ21lbnRfcHRyKSwKLQkJCQkgICAgICBzZWdtZW50X3B0ci5zLnBvb2ws
Ci0JCQkJICAgICAgQ1ZNWF9GUEFfUEFDS0VUX1BPT0xfU0laRSAvIDEyOCk7Ci0JCXNlZ21lbnRf
cHRyID0gbmV4dF9wdHI7Ci0JfQotCWN2bXhfZnBhX2ZyZWUod29yaywgQ1ZNWF9GUEFfV1FFX1BP
T0wsIDEpOwotCi0JcmV0dXJuIDA7Ci19Ci1FWFBPUlRfU1lNQk9MKGN2bV9vY3RfZnJlZV93b3Jr
KTsKLQotLyoqCi0gKiBjdm1fb2N0X2NvbW1vbl9nZXRfc3RhdHMgLSBnZXQgdGhlIGxvdyBsZXZl
bCBldGhlcm5ldCBzdGF0aXN0aWNzCi0gKiBAZGV2OiAgICBEZXZpY2UgdG8gZ2V0IHRoZSBzdGF0
aXN0aWNzIGZyb20KLSAqCi0gKiBSZXR1cm5zIFBvaW50ZXIgdG8gdGhlIHN0YXRpc3RpY3MKLSAq
Lwotc3RhdGljIHN0cnVjdCBuZXRfZGV2aWNlX3N0YXRzICpjdm1fb2N0X2NvbW1vbl9nZXRfc3Rh
dHMoc3RydWN0IG5ldF9kZXZpY2UgKmRldikKLXsKLQljdm14X3BpcF9wb3J0X3N0YXR1c190IHJ4
X3N0YXR1czsKLQljdm14X3Brb19wb3J0X3N0YXR1c190IHR4X3N0YXR1czsKLQlzdHJ1Y3Qgb2N0
ZW9uX2V0aGVybmV0ICpwcml2ID0gbmV0ZGV2X3ByaXYoZGV2KTsKLQotCWlmIChwcml2LT5wb3J0
IDwgQ1ZNWF9QSVBfTlVNX0lOUFVUX1BPUlRTKSB7Ci0JCWlmIChvY3Rlb25faXNfc2ltdWxhdGlv
bigpKSB7Ci0JCQkvKiBUaGUgc2ltdWxhdG9yIGRvZXNuJ3Qgc3VwcG9ydCBzdGF0aXN0aWNzICov
Ci0JCQltZW1zZXQoJnJ4X3N0YXR1cywgMCwgc2l6ZW9mKHJ4X3N0YXR1cykpOwotCQkJbWVtc2V0
KCZ0eF9zdGF0dXMsIDAsIHNpemVvZih0eF9zdGF0dXMpKTsKLQkJfSBlbHNlIHsKLQkJCWN2bXhf
cGlwX2dldF9wb3J0X3N0YXR1cyhwcml2LT5wb3J0LCAxLCAmcnhfc3RhdHVzKTsKLQkJCWN2bXhf
cGtvX2dldF9wb3J0X3N0YXR1cyhwcml2LT5wb3J0LCAxLCAmdHhfc3RhdHVzKTsKLQkJfQotCi0J
CWRldi0+c3RhdHMucnhfcGFja2V0cyArPSByeF9zdGF0dXMuaW5iX3BhY2tldHM7Ci0JCWRldi0+
c3RhdHMudHhfcGFja2V0cyArPSB0eF9zdGF0dXMucGFja2V0czsKLQkJZGV2LT5zdGF0cy5yeF9i
eXRlcyArPSByeF9zdGF0dXMuaW5iX29jdGV0czsKLQkJZGV2LT5zdGF0cy50eF9ieXRlcyArPSB0
eF9zdGF0dXMub2N0ZXRzOwotCQlkZXYtPnN0YXRzLm11bHRpY2FzdCArPSByeF9zdGF0dXMubXVs
dGljYXN0X3BhY2tldHM7Ci0JCWRldi0+c3RhdHMucnhfY3JjX2Vycm9ycyArPSByeF9zdGF0dXMu
aW5iX2Vycm9yczsKLQkJZGV2LT5zdGF0cy5yeF9mcmFtZV9lcnJvcnMgKz0gcnhfc3RhdHVzLmZj
c19hbGlnbl9lcnJfcGFja2V0czsKLQkJZGV2LT5zdGF0cy5yeF9kcm9wcGVkICs9IHJ4X3N0YXR1
cy5kcm9wcGVkX3BhY2tldHM7Ci0JfQotCi0JcmV0dXJuICZkZXYtPnN0YXRzOwotfQotCi0vKioK
LSAqIGN2bV9vY3RfY29tbW9uX2NoYW5nZV9tdHUgLSBjaGFuZ2UgdGhlIGxpbmsgTVRVCi0gKiBA
ZGV2OiAgICAgRGV2aWNlIHRvIGNoYW5nZQotICogQG5ld19tdHU6IFRoZSBuZXcgTVRVCi0gKgot
ICogUmV0dXJucyBaZXJvIG9uIHN1Y2Nlc3MKLSAqLwotc3RhdGljIGludCBjdm1fb2N0X2NvbW1v
bl9jaGFuZ2VfbXR1KHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsIGludCBuZXdfbXR1KQotewotCXN0
cnVjdCBvY3Rlb25fZXRoZXJuZXQgKnByaXYgPSBuZXRkZXZfcHJpdihkZXYpOwotCWludCBpbnRl
cmZhY2UgPSBJTlRFUkZBQ0UocHJpdi0+cG9ydCk7Ci0jaWYgSVNfRU5BQkxFRChDT05GSUdfVkxB
Tl84MDIxUSkKLQlpbnQgdmxhbl9ieXRlcyA9IFZMQU5fSExFTjsKLSNlbHNlCi0JaW50IHZsYW5f
Ynl0ZXMgPSAwOwotI2VuZGlmCi0JaW50IG10dV9vdmVyaGVhZCA9IEVUSF9ITEVOICsgRVRIX0ZD
U19MRU4gKyB2bGFuX2J5dGVzOwotCi0JZGV2LT5tdHUgPSBuZXdfbXR1OwotCi0JaWYgKChpbnRl
cmZhY2UgPCAyKSAmJgotCSAgICAoY3ZteF9oZWxwZXJfaW50ZXJmYWNlX2dldF9tb2RlKGludGVy
ZmFjZSkgIT0KLQkJQ1ZNWF9IRUxQRVJfSU5URVJGQUNFX01PREVfU1BJKSkgewotCQlpbnQgaW5k
ZXggPSBJTkRFWChwcml2LT5wb3J0KTsKLQkJLyogQWRkIGV0aGVybmV0IGhlYWRlciBhbmQgRkNT
LCBhbmQgVkxBTiBpZiBjb25maWd1cmVkLiAqLwotCQlpbnQgbWF4X3BhY2tldCA9IG5ld19tdHUg
KyBtdHVfb3ZlcmhlYWQ7Ci0KLQkJaWYgKE9DVEVPTl9JU19NT0RFTChPQ1RFT05fQ04zWFhYKSB8
fAotCQkgICAgT0NURU9OX0lTX01PREVMKE9DVEVPTl9DTjU4WFgpKSB7Ci0JCQkvKiBTaWduYWwg
ZXJyb3JzIG9uIHBhY2tldHMgbGFyZ2VyIHRoYW4gdGhlIE1UVSAqLwotCQkJY3ZteF93cml0ZV9j
c3IoQ1ZNWF9HTVhYX1JYWF9GUk1fTUFYKGluZGV4LCBpbnRlcmZhY2UpLAotCQkJCSAgICAgICBt
YXhfcGFja2V0KTsKLQkJfSBlbHNlIHsKLQkJCS8qCi0JCQkgKiBTZXQgdGhlIGhhcmR3YXJlIHRv
IHRydW5jYXRlIHBhY2tldHMgbGFyZ2VyCi0JCQkgKiB0aGFuIHRoZSBNVFUgYW5kIHNtYWxsZXIg
dGhlIDY0IGJ5dGVzLgotCQkJICovCi0JCQl1bmlvbiBjdm14X3BpcF9mcm1fbGVuX2Noa3ggZnJt
X2xlbl9jaGs7Ci0KLQkJCWZybV9sZW5fY2hrLnU2NCA9IDA7Ci0JCQlmcm1fbGVuX2Noay5zLm1p
bmxlbiA9IFZMQU5fRVRIX1pMRU47Ci0JCQlmcm1fbGVuX2Noay5zLm1heGxlbiA9IG1heF9wYWNr
ZXQ7Ci0JCQljdm14X3dyaXRlX2NzcihDVk1YX1BJUF9GUk1fTEVOX0NIS1goaW50ZXJmYWNlKSwK
LQkJCQkgICAgICAgZnJtX2xlbl9jaGsudTY0KTsKLQkJfQotCQkvKgotCQkgKiBTZXQgdGhlIGhh
cmR3YXJlIHRvIHRydW5jYXRlIHBhY2tldHMgbGFyZ2VyIHRoYW4KLQkJICogdGhlIE1UVS4gVGhl
IGphYmJlciByZWdpc3RlciBtdXN0IGJlIHNldCB0byBhCi0JCSAqIG11bHRpcGxlIG9mIDggYnl0
ZXMsIHNvIHJvdW5kIHVwLgotCQkgKi8KLQkJY3ZteF93cml0ZV9jc3IoQ1ZNWF9HTVhYX1JYWF9K
QUJCRVIoaW5kZXgsIGludGVyZmFjZSksCi0JCQkgICAgICAgKG1heF9wYWNrZXQgKyA3KSAmIH43
dSk7Ci0JfQotCXJldHVybiAwOwotfQotCi0vKioKLSAqIGN2bV9vY3RfY29tbW9uX3NldF9tdWx0
aWNhc3RfbGlzdCAtIHNldCB0aGUgbXVsdGljYXN0IGxpc3QKLSAqIEBkZXY6ICAgIERldmljZSB0
byB3b3JrIG9uCi0gKi8KLXN0YXRpYyB2b2lkIGN2bV9vY3RfY29tbW9uX3NldF9tdWx0aWNhc3Rf
bGlzdChzdHJ1Y3QgbmV0X2RldmljZSAqZGV2KQotewotCXVuaW9uIGN2bXhfZ214eF9wcnR4X2Nm
ZyBnbXhfY2ZnOwotCXN0cnVjdCBvY3Rlb25fZXRoZXJuZXQgKnByaXYgPSBuZXRkZXZfcHJpdihk
ZXYpOwotCWludCBpbnRlcmZhY2UgPSBJTlRFUkZBQ0UocHJpdi0+cG9ydCk7Ci0KLQlpZiAoKGlu
dGVyZmFjZSA8IDIpICYmCi0JICAgIChjdm14X2hlbHBlcl9pbnRlcmZhY2VfZ2V0X21vZGUoaW50
ZXJmYWNlKSAhPQotCQlDVk1YX0hFTFBFUl9JTlRFUkZBQ0VfTU9ERV9TUEkpKSB7Ci0JCXVuaW9u
IGN2bXhfZ214eF9yeHhfYWRyX2N0bCBjb250cm9sOwotCQlpbnQgaW5kZXggPSBJTkRFWChwcml2
LT5wb3J0KTsKLQotCQljb250cm9sLnU2NCA9IDA7Ci0JCWNvbnRyb2wucy5iY3N0ID0gMTsJLyog
QWxsb3cgYnJvYWRjYXN0IE1BQyBhZGRyZXNzZXMgKi8KLQotCQlpZiAoIW5ldGRldl9tY19lbXB0
eShkZXYpIHx8IChkZXYtPmZsYWdzICYgSUZGX0FMTE1VTFRJKSB8fAotCQkgICAgKGRldi0+Zmxh
Z3MgJiBJRkZfUFJPTUlTQykpCi0JCQkvKiBGb3JjZSBhY2NlcHQgbXVsdGljYXN0IHBhY2tldHMg
Ki8KLQkJCWNvbnRyb2wucy5tY3N0ID0gMjsKLQkJZWxzZQotCQkJLyogRm9yY2UgcmVqZWN0IG11
bHRpY2FzdCBwYWNrZXRzICovCi0JCQljb250cm9sLnMubWNzdCA9IDE7Ci0KLQkJaWYgKGRldi0+
ZmxhZ3MgJiBJRkZfUFJPTUlTQykKLQkJCS8qCi0JCQkgKiBSZWplY3QgbWF0Y2hlcyBpZiBwcm9t
aXNjLiBTaW5jZSBDQU0gaXMKLQkJCSAqIHNodXQgb2ZmLCBzaG91bGQgYWNjZXB0IGV2ZXJ5dGhp
bmcuCi0JCQkgKi8KLQkJCWNvbnRyb2wucy5jYW1fbW9kZSA9IDA7Ci0JCWVsc2UKLQkJCS8qIEZp
bHRlciBwYWNrZXRzIGJhc2VkIG9uIHRoZSBDQU0gKi8KLQkJCWNvbnRyb2wucy5jYW1fbW9kZSA9
IDE7Ci0KLQkJZ214X2NmZy51NjQgPQotCQkgICAgY3ZteF9yZWFkX2NzcihDVk1YX0dNWFhfUFJU
WF9DRkcoaW5kZXgsIGludGVyZmFjZSkpOwotCQljdm14X3dyaXRlX2NzcihDVk1YX0dNWFhfUFJU
WF9DRkcoaW5kZXgsIGludGVyZmFjZSksCi0JCQkgICAgICAgZ214X2NmZy51NjQgJiB+MXVsbCk7
Ci0KLQkJY3ZteF93cml0ZV9jc3IoQ1ZNWF9HTVhYX1JYWF9BRFJfQ1RMKGluZGV4LCBpbnRlcmZh
Y2UpLAotCQkJICAgICAgIGNvbnRyb2wudTY0KTsKLQkJaWYgKGRldi0+ZmxhZ3MgJiBJRkZfUFJP
TUlTQykKLQkJCWN2bXhfd3JpdGVfY3NyKENWTVhfR01YWF9SWFhfQURSX0NBTV9FTgotCQkJCSAg
ICAgICAoaW5kZXgsIGludGVyZmFjZSksIDApOwotCQllbHNlCi0JCQljdm14X3dyaXRlX2NzcihD
Vk1YX0dNWFhfUlhYX0FEUl9DQU1fRU4KLQkJCQkgICAgICAgKGluZGV4LCBpbnRlcmZhY2UpLCAx
KTsKLQotCQljdm14X3dyaXRlX2NzcihDVk1YX0dNWFhfUFJUWF9DRkcoaW5kZXgsIGludGVyZmFj
ZSksCi0JCQkgICAgICAgZ214X2NmZy51NjQpOwotCX0KLX0KLQotc3RhdGljIGludCBjdm1fb2N0
X3NldF9tYWNfZmlsdGVyKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpCi17Ci0Jc3RydWN0IG9jdGVv
bl9ldGhlcm5ldCAqcHJpdiA9IG5ldGRldl9wcml2KGRldik7Ci0JdW5pb24gY3ZteF9nbXh4X3By
dHhfY2ZnIGdteF9jZmc7Ci0JaW50IGludGVyZmFjZSA9IElOVEVSRkFDRShwcml2LT5wb3J0KTsK
LQotCWlmICgoaW50ZXJmYWNlIDwgMikgJiYKLQkgICAgKGN2bXhfaGVscGVyX2ludGVyZmFjZV9n
ZXRfbW9kZShpbnRlcmZhY2UpICE9Ci0JCUNWTVhfSEVMUEVSX0lOVEVSRkFDRV9NT0RFX1NQSSkp
IHsKLQkJaW50IGk7Ci0JCXU4ICpwdHIgPSBkZXYtPmRldl9hZGRyOwotCQl1NjQgbWFjID0gMDsK
LQkJaW50IGluZGV4ID0gSU5ERVgocHJpdi0+cG9ydCk7Ci0KLQkJZm9yIChpID0gMDsgaSA8IDY7
IGkrKykKLQkJCW1hYyA9IChtYWMgPDwgOCkgfCAodTY0KXB0cltpXTsKLQotCQlnbXhfY2ZnLnU2
NCA9Ci0JCSAgICBjdm14X3JlYWRfY3NyKENWTVhfR01YWF9QUlRYX0NGRyhpbmRleCwgaW50ZXJm
YWNlKSk7Ci0JCWN2bXhfd3JpdGVfY3NyKENWTVhfR01YWF9QUlRYX0NGRyhpbmRleCwgaW50ZXJm
YWNlKSwKLQkJCSAgICAgICBnbXhfY2ZnLnU2NCAmIH4xdWxsKTsKLQotCQljdm14X3dyaXRlX2Nz
cihDVk1YX0dNWFhfU01BQ1goaW5kZXgsIGludGVyZmFjZSksIG1hYyk7Ci0JCWN2bXhfd3JpdGVf
Y3NyKENWTVhfR01YWF9SWFhfQURSX0NBTTAoaW5kZXgsIGludGVyZmFjZSksCi0JCQkgICAgICAg
cHRyWzBdKTsKLQkJY3ZteF93cml0ZV9jc3IoQ1ZNWF9HTVhYX1JYWF9BRFJfQ0FNMShpbmRleCwg
aW50ZXJmYWNlKSwKLQkJCSAgICAgICBwdHJbMV0pOwotCQljdm14X3dyaXRlX2NzcihDVk1YX0dN
WFhfUlhYX0FEUl9DQU0yKGluZGV4LCBpbnRlcmZhY2UpLAotCQkJICAgICAgIHB0clsyXSk7Ci0J
CWN2bXhfd3JpdGVfY3NyKENWTVhfR01YWF9SWFhfQURSX0NBTTMoaW5kZXgsIGludGVyZmFjZSks
Ci0JCQkgICAgICAgcHRyWzNdKTsKLQkJY3ZteF93cml0ZV9jc3IoQ1ZNWF9HTVhYX1JYWF9BRFJf
Q0FNNChpbmRleCwgaW50ZXJmYWNlKSwKLQkJCSAgICAgICBwdHJbNF0pOwotCQljdm14X3dyaXRl
X2NzcihDVk1YX0dNWFhfUlhYX0FEUl9DQU01KGluZGV4LCBpbnRlcmZhY2UpLAotCQkJICAgICAg
IHB0cls1XSk7Ci0JCWN2bV9vY3RfY29tbW9uX3NldF9tdWx0aWNhc3RfbGlzdChkZXYpOwotCQlj
dm14X3dyaXRlX2NzcihDVk1YX0dNWFhfUFJUWF9DRkcoaW5kZXgsIGludGVyZmFjZSksCi0JCQkg
ICAgICAgZ214X2NmZy51NjQpOwotCX0KLQlyZXR1cm4gMDsKLX0KLQotLyoqCi0gKiBjdm1fb2N0
X2NvbW1vbl9zZXRfbWFjX2FkZHJlc3MgLSBzZXQgdGhlIGhhcmR3YXJlIE1BQyBhZGRyZXNzIGZv
ciBhIGRldmljZQotICogQGRldjogICAgVGhlIGRldmljZSBpbiBxdWVzdGlvbi4KLSAqIEBhZGRy
OiAgIFNvY2tldCBhZGRyZXNzLgotICoKLSAqIFJldHVybnMgWmVybyBvbiBzdWNjZXNzCi0gKi8K
LXN0YXRpYyBpbnQgY3ZtX29jdF9jb21tb25fc2V0X21hY19hZGRyZXNzKHN0cnVjdCBuZXRfZGV2
aWNlICpkZXYsIHZvaWQgKmFkZHIpCi17Ci0JaW50IHIgPSBldGhfbWFjX2FkZHIoZGV2LCBhZGRy
KTsKLQotCWlmIChyKQotCQlyZXR1cm4gcjsKLQlyZXR1cm4gY3ZtX29jdF9zZXRfbWFjX2ZpbHRl
cihkZXYpOwotfQotCi0vKioKLSAqIGN2bV9vY3RfY29tbW9uX2luaXQgLSBwZXIgbmV0d29yayBk
ZXZpY2UgaW5pdGlhbGl6YXRpb24KLSAqIEBkZXY6ICAgIERldmljZSB0byBpbml0aWFsaXplCi0g
KgotICogUmV0dXJucyBaZXJvIG9uIHN1Y2Nlc3MKLSAqLwotaW50IGN2bV9vY3RfY29tbW9uX2lu
aXQoc3RydWN0IG5ldF9kZXZpY2UgKmRldikKLXsKLQlzdHJ1Y3Qgb2N0ZW9uX2V0aGVybmV0ICpw
cml2ID0gbmV0ZGV2X3ByaXYoZGV2KTsKLQljb25zdCB1OCAqbWFjID0gTlVMTDsKLQotCWlmIChw
cml2LT5vZl9ub2RlKQotCQltYWMgPSBvZl9nZXRfbWFjX2FkZHJlc3MocHJpdi0+b2Zfbm9kZSk7
Ci0KLQlpZiAoIUlTX0VSUl9PUl9OVUxMKG1hYykpCi0JCWV0aGVyX2FkZHJfY29weShkZXYtPmRl
dl9hZGRyLCBtYWMpOwotCWVsc2UKLQkJZXRoX2h3X2FkZHJfcmFuZG9tKGRldik7Ci0KLQkvKgot
CSAqIEZvcmNlIHRoZSBpbnRlcmZhY2UgdG8gdXNlIHRoZSBQT1cgc2VuZCBpZiBhbHdheXNfdXNl
X3BvdwotCSAqIHdhcyBzcGVjaWZpZWQgb3IgaXQgaXMgaW4gdGhlIHBvdyBzZW5kIGxpc3QuCi0J
ICovCi0JaWYgKChwb3dfc2VuZF9ncm91cCAhPSAtMSkgJiYKLQkgICAgKGFsd2F5c191c2VfcG93
IHx8IHN0cnN0cihwb3dfc2VuZF9saXN0LCBkZXYtPm5hbWUpKSkKLQkJcHJpdi0+cXVldWUgPSAt
MTsKLQotCWlmIChwcml2LT5xdWV1ZSAhPSAtMSkKLQkJZGV2LT5mZWF0dXJlcyB8PSBORVRJRl9G
X1NHIHwgTkVUSUZfRl9JUF9DU1VNOwotCi0JLyogV2UgZG8gb3VyIG93biBsb2NraW5nLCBMaW51
eCBkb2Vzbid0IG5lZWQgdG8gKi8KLQlkZXYtPmZlYXR1cmVzIHw9IE5FVElGX0ZfTExUWDsKLQlk
ZXYtPmV0aHRvb2xfb3BzID0gJmN2bV9vY3RfZXRodG9vbF9vcHM7Ci0KLQljdm1fb2N0X3NldF9t
YWNfZmlsdGVyKGRldik7Ci0JZGV2X3NldF9tdHUoZGV2LCBkZXYtPm10dSk7Ci0KLQkvKgotCSAq
IFplcm8gb3V0IHN0YXRzIGZvciBwb3J0IHNvIHdlIHdvbid0IG1pc3Rha2VubHkgc2hvdwotCSAq
IGNvdW50ZXJzIGZyb20gdGhlIGJvb3Rsb2FkZXIuCi0JICovCi0JbWVtc2V0KGRldi0+bmV0ZGV2
X29wcy0+bmRvX2dldF9zdGF0cyhkZXYpLCAwLAotCSAgICAgICBzaXplb2Yoc3RydWN0IG5ldF9k
ZXZpY2Vfc3RhdHMpKTsKLQotCWlmIChkZXYtPm5ldGRldl9vcHMtPm5kb19zdG9wKQotCQlkZXYt
Pm5ldGRldl9vcHMtPm5kb19zdG9wKGRldik7Ci0KLQlyZXR1cm4gMDsKLX0KLQotdm9pZCBjdm1f
b2N0X2NvbW1vbl91bmluaXQoc3RydWN0IG5ldF9kZXZpY2UgKmRldikKLXsKLQlpZiAoZGV2LT5w
aHlkZXYpCi0JCXBoeV9kaXNjb25uZWN0KGRldi0+cGh5ZGV2KTsKLX0KLQotaW50IGN2bV9vY3Rf
Y29tbW9uX29wZW4oc3RydWN0IG5ldF9kZXZpY2UgKmRldiwKLQkJCXZvaWQgKCpsaW5rX3BvbGwp
KHN0cnVjdCBuZXRfZGV2aWNlICopKQotewotCXVuaW9uIGN2bXhfZ214eF9wcnR4X2NmZyBnbXhf
Y2ZnOwotCXN0cnVjdCBvY3Rlb25fZXRoZXJuZXQgKnByaXYgPSBuZXRkZXZfcHJpdihkZXYpOwot
CWludCBpbnRlcmZhY2UgPSBJTlRFUkZBQ0UocHJpdi0+cG9ydCk7Ci0JaW50IGluZGV4ID0gSU5E
RVgocHJpdi0+cG9ydCk7Ci0JdW5pb24gY3ZteF9oZWxwZXJfbGlua19pbmZvIGxpbmtfaW5mbzsK
LQlpbnQgcnY7Ci0KLQlydiA9IGN2bV9vY3RfcGh5X3NldHVwX2RldmljZShkZXYpOwotCWlmIChy
dikKLQkJcmV0dXJuIHJ2OwotCi0JZ214X2NmZy51NjQgPSBjdm14X3JlYWRfY3NyKENWTVhfR01Y
WF9QUlRYX0NGRyhpbmRleCwgaW50ZXJmYWNlKSk7Ci0JZ214X2NmZy5zLmVuID0gMTsKLQlpZiAo
b2N0ZW9uX2hhc19mZWF0dXJlKE9DVEVPTl9GRUFUVVJFX1BLTkQpKQotCQlnbXhfY2ZnLnMucGtu
ZCA9IHByaXYtPnBvcnQ7Ci0JY3ZteF93cml0ZV9jc3IoQ1ZNWF9HTVhYX1BSVFhfQ0ZHKGluZGV4
LCBpbnRlcmZhY2UpLCBnbXhfY2ZnLnU2NCk7Ci0KLQlpZiAob2N0ZW9uX2lzX3NpbXVsYXRpb24o
KSkKLQkJcmV0dXJuIDA7Ci0KLQlpZiAoZGV2LT5waHlkZXYpIHsKLQkJaW50IHIgPSBwaHlfcmVh
ZF9zdGF0dXMoZGV2LT5waHlkZXYpOwotCi0JCWlmIChyID09IDAgJiYgZGV2LT5waHlkZXYtPmxp
bmsgPT0gMCkKLQkJCW5ldGlmX2NhcnJpZXJfb2ZmKGRldik7Ci0JCWN2bV9vY3RfYWRqdXN0X2xp
bmsoZGV2KTsKLQl9IGVsc2UgewotCQlsaW5rX2luZm8gPSBjdm14X2hlbHBlcl9saW5rX2dldChw
cml2LT5wb3J0KTsKLQkJaWYgKCFsaW5rX2luZm8ucy5saW5rX3VwKQotCQkJbmV0aWZfY2Fycmll
cl9vZmYoZGV2KTsKLQkJcHJpdi0+cG9sbCA9IGxpbmtfcG9sbDsKLQkJbGlua19wb2xsKGRldik7
Ci0JfQotCi0JcmV0dXJuIDA7Ci19Ci0KLXZvaWQgY3ZtX29jdF9saW5rX3BvbGwoc3RydWN0IG5l
dF9kZXZpY2UgKmRldikKLXsKLQlzdHJ1Y3Qgb2N0ZW9uX2V0aGVybmV0ICpwcml2ID0gbmV0ZGV2
X3ByaXYoZGV2KTsKLQl1bmlvbiBjdm14X2hlbHBlcl9saW5rX2luZm8gbGlua19pbmZvOwotCi0J
bGlua19pbmZvID0gY3ZteF9oZWxwZXJfbGlua19nZXQocHJpdi0+cG9ydCk7Ci0JaWYgKGxpbmtf
aW5mby51NjQgPT0gcHJpdi0+bGlua19pbmZvKQotCQlyZXR1cm47Ci0KLQlpZiAoY3ZteF9oZWxw
ZXJfbGlua19zZXQocHJpdi0+cG9ydCwgbGlua19pbmZvKSkKLQkJbGlua19pbmZvLnU2NCA9IHBy
aXYtPmxpbmtfaW5mbzsKLQllbHNlCi0JCXByaXYtPmxpbmtfaW5mbyA9IGxpbmtfaW5mby51NjQ7
Ci0KLQlpZiAobGlua19pbmZvLnMubGlua191cCkgewotCQlpZiAoIW5ldGlmX2NhcnJpZXJfb2so
ZGV2KSkKLQkJCW5ldGlmX2NhcnJpZXJfb24oZGV2KTsKLQl9IGVsc2UgaWYgKG5ldGlmX2NhcnJp
ZXJfb2soZGV2KSkgewotCQluZXRpZl9jYXJyaWVyX29mZihkZXYpOwotCX0KLQljdm1fb2N0X25v
dGVfY2Fycmllcihwcml2LCBsaW5rX2luZm8pOwotfQotCi1zdGF0aWMgaW50IGN2bV9vY3RfeGF1
aV9vcGVuKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpCi17Ci0JcmV0dXJuIGN2bV9vY3RfY29tbW9u
X29wZW4oZGV2LCBjdm1fb2N0X2xpbmtfcG9sbCk7Ci19Ci0KLXN0YXRpYyBjb25zdCBzdHJ1Y3Qg
bmV0X2RldmljZV9vcHMgY3ZtX29jdF9ucGlfbmV0ZGV2X29wcyA9IHsKLQkubmRvX2luaXQJCT0g
Y3ZtX29jdF9jb21tb25faW5pdCwKLQkubmRvX3VuaW5pdAkJPSBjdm1fb2N0X2NvbW1vbl91bmlu
aXQsCi0JLm5kb19zdGFydF94bWl0CQk9IGN2bV9vY3RfeG1pdCwKLQkubmRvX3NldF9yeF9tb2Rl
CT0gY3ZtX29jdF9jb21tb25fc2V0X211bHRpY2FzdF9saXN0LAotCS5uZG9fc2V0X21hY19hZGRy
ZXNzCT0gY3ZtX29jdF9jb21tb25fc2V0X21hY19hZGRyZXNzLAotCS5uZG9fZG9faW9jdGwJCT0g
Y3ZtX29jdF9pb2N0bCwKLQkubmRvX2NoYW5nZV9tdHUJCT0gY3ZtX29jdF9jb21tb25fY2hhbmdl
X210dSwKLQkubmRvX2dldF9zdGF0cwkJPSBjdm1fb2N0X2NvbW1vbl9nZXRfc3RhdHMsCi0jaWZk
ZWYgQ09ORklHX05FVF9QT0xMX0NPTlRST0xMRVIKLQkubmRvX3BvbGxfY29udHJvbGxlcgk9IGN2
bV9vY3RfcG9sbF9jb250cm9sbGVyLAotI2VuZGlmCi19OwotCi1zdGF0aWMgY29uc3Qgc3RydWN0
IG5ldF9kZXZpY2Vfb3BzIGN2bV9vY3RfeGF1aV9uZXRkZXZfb3BzID0gewotCS5uZG9faW5pdAkJ
PSBjdm1fb2N0X2NvbW1vbl9pbml0LAotCS5uZG9fdW5pbml0CQk9IGN2bV9vY3RfY29tbW9uX3Vu
aW5pdCwKLQkubmRvX29wZW4JCT0gY3ZtX29jdF94YXVpX29wZW4sCi0JLm5kb19zdG9wCQk9IGN2
bV9vY3RfY29tbW9uX3N0b3AsCi0JLm5kb19zdGFydF94bWl0CQk9IGN2bV9vY3RfeG1pdCwKLQku
bmRvX3NldF9yeF9tb2RlCT0gY3ZtX29jdF9jb21tb25fc2V0X211bHRpY2FzdF9saXN0LAotCS5u
ZG9fc2V0X21hY19hZGRyZXNzCT0gY3ZtX29jdF9jb21tb25fc2V0X21hY19hZGRyZXNzLAotCS5u
ZG9fZG9faW9jdGwJCT0gY3ZtX29jdF9pb2N0bCwKLQkubmRvX2NoYW5nZV9tdHUJCT0gY3ZtX29j
dF9jb21tb25fY2hhbmdlX210dSwKLQkubmRvX2dldF9zdGF0cwkJPSBjdm1fb2N0X2NvbW1vbl9n
ZXRfc3RhdHMsCi0jaWZkZWYgQ09ORklHX05FVF9QT0xMX0NPTlRST0xMRVIKLQkubmRvX3BvbGxf
Y29udHJvbGxlcgk9IGN2bV9vY3RfcG9sbF9jb250cm9sbGVyLAotI2VuZGlmCi19OwotCi1zdGF0
aWMgY29uc3Qgc3RydWN0IG5ldF9kZXZpY2Vfb3BzIGN2bV9vY3Rfc2dtaWlfbmV0ZGV2X29wcyA9
IHsKLQkubmRvX2luaXQJCT0gY3ZtX29jdF9zZ21paV9pbml0LAotCS5uZG9fdW5pbml0CQk9IGN2
bV9vY3RfY29tbW9uX3VuaW5pdCwKLQkubmRvX29wZW4JCT0gY3ZtX29jdF9zZ21paV9vcGVuLAot
CS5uZG9fc3RvcAkJPSBjdm1fb2N0X2NvbW1vbl9zdG9wLAotCS5uZG9fc3RhcnRfeG1pdAkJPSBj
dm1fb2N0X3htaXQsCi0JLm5kb19zZXRfcnhfbW9kZQk9IGN2bV9vY3RfY29tbW9uX3NldF9tdWx0
aWNhc3RfbGlzdCwKLQkubmRvX3NldF9tYWNfYWRkcmVzcwk9IGN2bV9vY3RfY29tbW9uX3NldF9t
YWNfYWRkcmVzcywKLQkubmRvX2RvX2lvY3RsCQk9IGN2bV9vY3RfaW9jdGwsCi0JLm5kb19jaGFu
Z2VfbXR1CQk9IGN2bV9vY3RfY29tbW9uX2NoYW5nZV9tdHUsCi0JLm5kb19nZXRfc3RhdHMJCT0g
Y3ZtX29jdF9jb21tb25fZ2V0X3N0YXRzLAotI2lmZGVmIENPTkZJR19ORVRfUE9MTF9DT05UUk9M
TEVSCi0JLm5kb19wb2xsX2NvbnRyb2xsZXIJPSBjdm1fb2N0X3BvbGxfY29udHJvbGxlciwKLSNl
bmRpZgotfTsKLQotc3RhdGljIGNvbnN0IHN0cnVjdCBuZXRfZGV2aWNlX29wcyBjdm1fb2N0X3Nw
aV9uZXRkZXZfb3BzID0gewotCS5uZG9faW5pdAkJPSBjdm1fb2N0X3NwaV9pbml0LAotCS5uZG9f
dW5pbml0CQk9IGN2bV9vY3Rfc3BpX3VuaW5pdCwKLQkubmRvX3N0YXJ0X3htaXQJCT0gY3ZtX29j
dF94bWl0LAotCS5uZG9fc2V0X3J4X21vZGUJPSBjdm1fb2N0X2NvbW1vbl9zZXRfbXVsdGljYXN0
X2xpc3QsCi0JLm5kb19zZXRfbWFjX2FkZHJlc3MJPSBjdm1fb2N0X2NvbW1vbl9zZXRfbWFjX2Fk
ZHJlc3MsCi0JLm5kb19kb19pb2N0bAkJPSBjdm1fb2N0X2lvY3RsLAotCS5uZG9fY2hhbmdlX210
dQkJPSBjdm1fb2N0X2NvbW1vbl9jaGFuZ2VfbXR1LAotCS5uZG9fZ2V0X3N0YXRzCQk9IGN2bV9v
Y3RfY29tbW9uX2dldF9zdGF0cywKLSNpZmRlZiBDT05GSUdfTkVUX1BPTExfQ09OVFJPTExFUgot
CS5uZG9fcG9sbF9jb250cm9sbGVyCT0gY3ZtX29jdF9wb2xsX2NvbnRyb2xsZXIsCi0jZW5kaWYK
LX07Ci0KLXN0YXRpYyBjb25zdCBzdHJ1Y3QgbmV0X2RldmljZV9vcHMgY3ZtX29jdF9yZ21paV9u
ZXRkZXZfb3BzID0gewotCS5uZG9faW5pdAkJPSBjdm1fb2N0X2NvbW1vbl9pbml0LAotCS5uZG9f
dW5pbml0CQk9IGN2bV9vY3RfY29tbW9uX3VuaW5pdCwKLQkubmRvX29wZW4JCT0gY3ZtX29jdF9y
Z21paV9vcGVuLAotCS5uZG9fc3RvcAkJPSBjdm1fb2N0X2NvbW1vbl9zdG9wLAotCS5uZG9fc3Rh
cnRfeG1pdAkJPSBjdm1fb2N0X3htaXQsCi0JLm5kb19zZXRfcnhfbW9kZQk9IGN2bV9vY3RfY29t
bW9uX3NldF9tdWx0aWNhc3RfbGlzdCwKLQkubmRvX3NldF9tYWNfYWRkcmVzcwk9IGN2bV9vY3Rf
Y29tbW9uX3NldF9tYWNfYWRkcmVzcywKLQkubmRvX2RvX2lvY3RsCQk9IGN2bV9vY3RfaW9jdGws
Ci0JLm5kb19jaGFuZ2VfbXR1CQk9IGN2bV9vY3RfY29tbW9uX2NoYW5nZV9tdHUsCi0JLm5kb19n
ZXRfc3RhdHMJCT0gY3ZtX29jdF9jb21tb25fZ2V0X3N0YXRzLAotI2lmZGVmIENPTkZJR19ORVRf
UE9MTF9DT05UUk9MTEVSCi0JLm5kb19wb2xsX2NvbnRyb2xsZXIJPSBjdm1fb2N0X3BvbGxfY29u
dHJvbGxlciwKLSNlbmRpZgotfTsKLQotc3RhdGljIGNvbnN0IHN0cnVjdCBuZXRfZGV2aWNlX29w
cyBjdm1fb2N0X3Bvd19uZXRkZXZfb3BzID0gewotCS5uZG9faW5pdAkJPSBjdm1fb2N0X2NvbW1v
bl9pbml0LAotCS5uZG9fc3RhcnRfeG1pdAkJPSBjdm1fb2N0X3htaXRfcG93LAotCS5uZG9fc2V0
X3J4X21vZGUJPSBjdm1fb2N0X2NvbW1vbl9zZXRfbXVsdGljYXN0X2xpc3QsCi0JLm5kb19zZXRf
bWFjX2FkZHJlc3MJPSBjdm1fb2N0X2NvbW1vbl9zZXRfbWFjX2FkZHJlc3MsCi0JLm5kb19kb19p
b2N0bAkJPSBjdm1fb2N0X2lvY3RsLAotCS5uZG9fY2hhbmdlX210dQkJPSBjdm1fb2N0X2NvbW1v
bl9jaGFuZ2VfbXR1LAotCS5uZG9fZ2V0X3N0YXRzCQk9IGN2bV9vY3RfY29tbW9uX2dldF9zdGF0
cywKLSNpZmRlZiBDT05GSUdfTkVUX1BPTExfQ09OVFJPTExFUgotCS5uZG9fcG9sbF9jb250cm9s
bGVyCT0gY3ZtX29jdF9wb2xsX2NvbnRyb2xsZXIsCi0jZW5kaWYKLX07Ci0KLXN0YXRpYyBzdHJ1
Y3QgZGV2aWNlX25vZGUgKmN2bV9vY3Rfb2ZfZ2V0X2NoaWxkCi0JCQkJKGNvbnN0IHN0cnVjdCBk
ZXZpY2Vfbm9kZSAqcGFyZW50LCBpbnQgcmVnX3ZhbCkKLXsKLQlzdHJ1Y3QgZGV2aWNlX25vZGUg
Km5vZGUgPSBOVUxMOwotCWludCBzaXplOwotCWNvbnN0IF9fYmUzMiAqYWRkcjsKLQotCWZvciAo
OzspIHsKLQkJbm9kZSA9IG9mX2dldF9uZXh0X2NoaWxkKHBhcmVudCwgbm9kZSk7Ci0JCWlmICgh
bm9kZSkKLQkJCWJyZWFrOwotCQlhZGRyID0gb2ZfZ2V0X3Byb3BlcnR5KG5vZGUsICJyZWciLCAm
c2l6ZSk7Ci0JCWlmIChhZGRyICYmIChiZTMyX3RvX2NwdSgqYWRkcikgPT0gcmVnX3ZhbCkpCi0J
CQlicmVhazsKLQl9Ci0JcmV0dXJuIG5vZGU7Ci19Ci0KLXN0YXRpYyBzdHJ1Y3QgZGV2aWNlX25v
ZGUgKmN2bV9vY3Rfbm9kZV9mb3JfcG9ydChzdHJ1Y3QgZGV2aWNlX25vZGUgKnBpcCwKLQkJCQkJ
CSBpbnQgaW50ZXJmYWNlLCBpbnQgcG9ydCkKLXsKLQlzdHJ1Y3QgZGV2aWNlX25vZGUgKm5pLCAq
bnA7Ci0KLQluaSA9IGN2bV9vY3Rfb2ZfZ2V0X2NoaWxkKHBpcCwgaW50ZXJmYWNlKTsKLQlpZiAo
IW5pKQotCQlyZXR1cm4gTlVMTDsKLQotCW5wID0gY3ZtX29jdF9vZl9nZXRfY2hpbGQobmksIHBv
cnQpOwotCW9mX25vZGVfcHV0KG5pKTsKLQotCXJldHVybiBucDsKLX0KLQotc3RhdGljIHZvaWQg
Y3ZtX3NldF9yZ21paV9kZWxheShzdHJ1Y3Qgb2N0ZW9uX2V0aGVybmV0ICpwcml2LCBpbnQgaWZh
Y2UsCi0JCQkJaW50IHBvcnQpCi17Ci0Jc3RydWN0IGRldmljZV9ub2RlICpucCA9IHByaXYtPm9m
X25vZGU7Ci0JdTMyIGRlbGF5X3ZhbHVlOwotCWJvb2wgcnhfZGVsYXk7Ci0JYm9vbCB0eF9kZWxh
eTsKLQotCS8qIEJ5IGRlZmF1bHQsIGJvdGggUlgvVFggZGVsYXkgaXMgZW5hYmxlZCBpbgotCSAq
IF9fY3ZteF9oZWxwZXJfcmdtaWlfZW5hYmxlKCkuCi0JICovCi0JcnhfZGVsYXkgPSB0cnVlOwot
CXR4X2RlbGF5ID0gdHJ1ZTsKLQotCWlmICghb2ZfcHJvcGVydHlfcmVhZF91MzIobnAsICJyeC1k
ZWxheSIsICZkZWxheV92YWx1ZSkpIHsKLQkJY3ZteF93cml0ZV9jc3IoQ1ZNWF9BU1hYX1JYX0NM
S19TRVRYKHBvcnQsIGlmYWNlKSwgZGVsYXlfdmFsdWUpOwotCQlyeF9kZWxheSA9IGRlbGF5X3Zh
bHVlID4gMDsKLQl9Ci0JaWYgKCFvZl9wcm9wZXJ0eV9yZWFkX3UzMihucCwgInR4LWRlbGF5Iiwg
JmRlbGF5X3ZhbHVlKSkgewotCQljdm14X3dyaXRlX2NzcihDVk1YX0FTWFhfVFhfQ0xLX1NFVFgo
cG9ydCwgaWZhY2UpLCBkZWxheV92YWx1ZSk7Ci0JCXR4X2RlbGF5ID0gZGVsYXlfdmFsdWUgPiAw
OwotCX0KLQotCWlmICghcnhfZGVsYXkgJiYgIXR4X2RlbGF5KQotCQlwcml2LT5waHlfbW9kZSA9
IFBIWV9JTlRFUkZBQ0VfTU9ERV9SR01JSV9JRDsKLQllbHNlIGlmICghcnhfZGVsYXkpCi0JCXBy
aXYtPnBoeV9tb2RlID0gUEhZX0lOVEVSRkFDRV9NT0RFX1JHTUlJX1JYSUQ7Ci0JZWxzZSBpZiAo
IXR4X2RlbGF5KQotCQlwcml2LT5waHlfbW9kZSA9IFBIWV9JTlRFUkZBQ0VfTU9ERV9SR01JSV9U
WElEOwotCWVsc2UKLQkJcHJpdi0+cGh5X21vZGUgPSBQSFlfSU5URVJGQUNFX01PREVfUkdNSUk7
Ci19Ci0KLXN0YXRpYyBpbnQgY3ZtX29jdF9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpw
ZGV2KQotewotCWludCBudW1faW50ZXJmYWNlczsKLQlpbnQgaW50ZXJmYWNlOwotCWludCBmYXUg
PSBGQVVfTlVNX1BBQ0tFVF9CVUZGRVJTX1RPX0ZSRUU7Ci0JaW50IHFvczsKLQlzdHJ1Y3QgZGV2
aWNlX25vZGUgKnBpcDsKLQlpbnQgbXR1X292ZXJoZWFkID0gRVRIX0hMRU4gKyBFVEhfRkNTX0xF
TjsKLQotI2lmIElTX0VOQUJMRUQoQ09ORklHX1ZMQU5fODAyMVEpCi0JbXR1X292ZXJoZWFkICs9
IFZMQU5fSExFTjsKLSNlbmRpZgotCi0Jb2N0ZW9uX21kaW9idXNfZm9yY2VfbW9kX2RlcGVuY2Vu
Y3koKTsKLQotCXBpcCA9IHBkZXYtPmRldi5vZl9ub2RlOwotCWlmICghcGlwKSB7Ci0JCXByX2Vy
cigiRXJyb3I6IE5vICdwaXAnIGluIC9hbGlhc2VzXG4iKTsKLQkJcmV0dXJuIC1FSU5WQUw7Ci0J
fQotCi0JY3ZtX29jdF9jb25maWd1cmVfY29tbW9uX2h3KCk7Ci0KLQljdm14X2hlbHBlcl9pbml0
aWFsaXplX3BhY2tldF9pb19nbG9iYWwoKTsKLQotCWlmIChyZWNlaXZlX2dyb3VwX29yZGVyKSB7
Ci0JCWlmIChyZWNlaXZlX2dyb3VwX29yZGVyID4gNCkKLQkJCXJlY2VpdmVfZ3JvdXBfb3JkZXIg
PSA0OwotCQlwb3dfcmVjZWl2ZV9ncm91cHMgPSAoMSA8PCAoMSA8PCByZWNlaXZlX2dyb3VwX29y
ZGVyKSkgLSAxOwotCX0gZWxzZSB7Ci0JCXBvd19yZWNlaXZlX2dyb3VwcyA9IEJJVChwb3dfcmVj
ZWl2ZV9ncm91cCk7Ci0JfQotCi0JLyogQ2hhbmdlIHRoZSBpbnB1dCBncm91cCBmb3IgYWxsIHBv
cnRzIGJlZm9yZSBpbnB1dCBpcyBlbmFibGVkICovCi0JbnVtX2ludGVyZmFjZXMgPSBjdm14X2hl
bHBlcl9nZXRfbnVtYmVyX29mX2ludGVyZmFjZXMoKTsKLQlmb3IgKGludGVyZmFjZSA9IDA7IGlu
dGVyZmFjZSA8IG51bV9pbnRlcmZhY2VzOyBpbnRlcmZhY2UrKykgewotCQlpbnQgbnVtX3BvcnRz
ID0gY3ZteF9oZWxwZXJfcG9ydHNfb25faW50ZXJmYWNlKGludGVyZmFjZSk7Ci0JCWludCBwb3J0
OwotCi0JCWZvciAocG9ydCA9IGN2bXhfaGVscGVyX2dldF9pcGRfcG9ydChpbnRlcmZhY2UsIDAp
OwotCQkgICAgIHBvcnQgPCBjdm14X2hlbHBlcl9nZXRfaXBkX3BvcnQoaW50ZXJmYWNlLCBudW1f
cG9ydHMpOwotCQkgICAgIHBvcnQrKykgewotCQkJdW5pb24gY3ZteF9waXBfcHJ0X3RhZ3ggcGlw
X3BydF90YWd4OwotCi0JCQlwaXBfcHJ0X3RhZ3gudTY0ID0KLQkJCSAgICBjdm14X3JlYWRfY3Ny
KENWTVhfUElQX1BSVF9UQUdYKHBvcnQpKTsKLQotCQkJaWYgKHJlY2VpdmVfZ3JvdXBfb3JkZXIp
IHsKLQkJCQlpbnQgdGFnX21hc2s7Ci0KLQkJCQkvKiBXZSBzdXBwb3J0IG9ubHkgMTYgZ3JvdXBz
IGF0IHRoZSBtb21lbnQsIHNvCi0JCQkJICogYWx3YXlzIGRpc2FibGUgdGhlIHR3byBhZGRpdGlv
bmFsICJoaWRkZW4iCi0JCQkJICogdGFnX21hc2sgYml0cyBvbiBDTjY4WFguCi0JCQkJICovCi0J
CQkJaWYgKE9DVEVPTl9JU19NT0RFTChPQ1RFT05fQ042OFhYKSkKLQkJCQkJcGlwX3BydF90YWd4
LnU2NCB8PSAweDN1bGwgPDwgNDQ7Ci0KLQkJCQl0YWdfbWFzayA9IH4oKDEgPDwgcmVjZWl2ZV9n
cm91cF9vcmRlcikgLSAxKTsKLQkJCQlwaXBfcHJ0X3RhZ3gucy5ncnB0YWdiYXNlCT0gMDsKLQkJ
CQlwaXBfcHJ0X3RhZ3gucy5ncnB0YWdtYXNrCT0gdGFnX21hc2s7Ci0JCQkJcGlwX3BydF90YWd4
LnMuZ3JwdGFnCQk9IDE7Ci0JCQkJcGlwX3BydF90YWd4LnMudGFnX21vZGUJCT0gMDsKLQkJCQlw
aXBfcHJ0X3RhZ3gucy5pbmNfcHJ0X2ZsYWcJPSAxOwotCQkJCXBpcF9wcnRfdGFneC5zLmlwNl9k
cHJ0X2ZsYWcJPSAxOwotCQkJCXBpcF9wcnRfdGFneC5zLmlwNF9kcHJ0X2ZsYWcJPSAxOwotCQkJ
CXBpcF9wcnRfdGFneC5zLmlwNl9zcHJ0X2ZsYWcJPSAxOwotCQkJCXBpcF9wcnRfdGFneC5zLmlw
NF9zcHJ0X2ZsYWcJPSAxOwotCQkJCXBpcF9wcnRfdGFneC5zLmlwNl9kc3RfZmxhZwk9IDE7Ci0J
CQkJcGlwX3BydF90YWd4LnMuaXA0X2RzdF9mbGFnCT0gMTsKLQkJCQlwaXBfcHJ0X3RhZ3gucy5p
cDZfc3JjX2ZsYWcJPSAxOwotCQkJCXBpcF9wcnRfdGFneC5zLmlwNF9zcmNfZmxhZwk9IDE7Ci0J
CQkJcGlwX3BydF90YWd4LnMuZ3JwCQk9IDA7Ci0JCQl9IGVsc2UgewotCQkJCXBpcF9wcnRfdGFn
eC5zLmdycHRhZwk9IDA7Ci0JCQkJcGlwX3BydF90YWd4LnMuZ3JwCT0gcG93X3JlY2VpdmVfZ3Jv
dXA7Ci0JCQl9Ci0KLQkJCWN2bXhfd3JpdGVfY3NyKENWTVhfUElQX1BSVF9UQUdYKHBvcnQpLAot
CQkJCSAgICAgICBwaXBfcHJ0X3RhZ3gudTY0KTsKLQkJfQotCX0KLQotCWN2bXhfaGVscGVyX2lw
ZF9hbmRfcGFja2V0X2lucHV0X2VuYWJsZSgpOwotCi0JbWVtc2V0KGN2bV9vY3RfZGV2aWNlLCAw
LCBzaXplb2YoY3ZtX29jdF9kZXZpY2UpKTsKLQotCS8qCi0JICogSW5pdGlhbGl6ZSB0aGUgRkFV
IHVzZWQgZm9yIGNvdW50aW5nIHBhY2tldCBidWZmZXJzIHRoYXQKLQkgKiBuZWVkIHRvIGJlIGZy
ZWVkLgotCSAqLwotCWN2bXhfZmF1X2F0b21pY193cml0ZTMyKEZBVV9OVU1fUEFDS0VUX0JVRkZF
UlNfVE9fRlJFRSwgMCk7Ci0KLQkvKiBJbml0aWFsaXplIHRoZSBGQVUgdXNlZCBmb3IgY291bnRp
bmcgdHggU0tCcyB0aGF0IG5lZWQgdG8gYmUgZnJlZWQgKi8KLQljdm14X2ZhdV9hdG9taWNfd3Jp
dGUzMihGQVVfVE9UQUxfVFhfVE9fQ0xFQU4sIDApOwotCi0JaWYgKChwb3dfc2VuZF9ncm91cCAh
PSAtMSkpIHsKLQkJc3RydWN0IG5ldF9kZXZpY2UgKmRldjsKLQotCQlkZXYgPSBhbGxvY19ldGhl
cmRldihzaXplb2Yoc3RydWN0IG9jdGVvbl9ldGhlcm5ldCkpOwotCQlpZiAoZGV2KSB7Ci0JCQkv
KiBJbml0aWFsaXplIHRoZSBkZXZpY2UgcHJpdmF0ZSBzdHJ1Y3R1cmUuICovCi0JCQlzdHJ1Y3Qg
b2N0ZW9uX2V0aGVybmV0ICpwcml2ID0gbmV0ZGV2X3ByaXYoZGV2KTsKLQotCQkJU0VUX05FVERF
Vl9ERVYoZGV2LCAmcGRldi0+ZGV2KTsKLQkJCWRldi0+bmV0ZGV2X29wcyA9ICZjdm1fb2N0X3Bv
d19uZXRkZXZfb3BzOwotCQkJcHJpdi0+aW1vZGUgPSBDVk1YX0hFTFBFUl9JTlRFUkZBQ0VfTU9E
RV9ESVNBQkxFRDsKLQkJCXByaXYtPnBvcnQgPSBDVk1YX1BJUF9OVU1fSU5QVVRfUE9SVFM7Ci0J
CQlwcml2LT5xdWV1ZSA9IC0xOwotCQkJc3Ryc2NweShkZXYtPm5hbWUsICJwb3clZCIsIHNpemVv
ZihkZXYtPm5hbWUpKTsKLQkJCWZvciAocW9zID0gMDsgcW9zIDwgMTY7IHFvcysrKQotCQkJCXNr
Yl9xdWV1ZV9oZWFkX2luaXQoJnByaXYtPnR4X2ZyZWVfbGlzdFtxb3NdKTsKLQkJCWRldi0+bWlu
X210dSA9IFZMQU5fRVRIX1pMRU4gLSBtdHVfb3ZlcmhlYWQ7Ci0JCQlkZXYtPm1heF9tdHUgPSBP
Q1RFT05fTUFYX01UVSAtIG10dV9vdmVyaGVhZDsKLQotCQkJaWYgKHJlZ2lzdGVyX25ldGRldihk
ZXYpIDwgMCkgewotCQkJCXByX2VycigiRmFpbGVkIHRvIHJlZ2lzdGVyIGV0aGVybmV0IGRldmlj
ZSBmb3IgUE9XXG4iKTsKLQkJCQlmcmVlX25ldGRldihkZXYpOwotCQkJfSBlbHNlIHsKLQkJCQlj
dm1fb2N0X2RldmljZVtDVk1YX1BJUF9OVU1fSU5QVVRfUE9SVFNdID0gZGV2OwotCQkJCXByX2lu
Zm8oIiVzOiBQT1cgc2VuZCBncm91cCAlZCwgcmVjZWl2ZSBncm91cCAlZFxuIiwKLQkJCQkJZGV2
LT5uYW1lLCBwb3dfc2VuZF9ncm91cCwKLQkJCQkJcG93X3JlY2VpdmVfZ3JvdXApOwotCQkJfQot
CQl9IGVsc2UgewotCQkJcHJfZXJyKCJGYWlsZWQgdG8gYWxsb2NhdGUgZXRoZXJuZXQgZGV2aWNl
IGZvciBQT1dcbiIpOwotCQl9Ci0JfQotCi0JbnVtX2ludGVyZmFjZXMgPSBjdm14X2hlbHBlcl9n
ZXRfbnVtYmVyX29mX2ludGVyZmFjZXMoKTsKLQlmb3IgKGludGVyZmFjZSA9IDA7IGludGVyZmFj
ZSA8IG51bV9pbnRlcmZhY2VzOyBpbnRlcmZhY2UrKykgewotCQljdm14X2hlbHBlcl9pbnRlcmZh
Y2VfbW9kZV90IGltb2RlID0KLQkJICAgIGN2bXhfaGVscGVyX2ludGVyZmFjZV9nZXRfbW9kZShp
bnRlcmZhY2UpOwotCQlpbnQgbnVtX3BvcnRzID0gY3ZteF9oZWxwZXJfcG9ydHNfb25faW50ZXJm
YWNlKGludGVyZmFjZSk7Ci0JCWludCBwb3J0OwotCQlpbnQgcG9ydF9pbmRleDsKLQotCQlmb3Ig
KHBvcnRfaW5kZXggPSAwLAotCQkgICAgIHBvcnQgPSBjdm14X2hlbHBlcl9nZXRfaXBkX3BvcnQo
aW50ZXJmYWNlLCAwKTsKLQkJICAgICBwb3J0IDwgY3ZteF9oZWxwZXJfZ2V0X2lwZF9wb3J0KGlu
dGVyZmFjZSwgbnVtX3BvcnRzKTsKLQkJICAgICBwb3J0X2luZGV4KyssIHBvcnQrKykgewotCQkJ
c3RydWN0IG9jdGVvbl9ldGhlcm5ldCAqcHJpdjsKLQkJCXN0cnVjdCBuZXRfZGV2aWNlICpkZXYg
PQotCQkJICAgIGFsbG9jX2V0aGVyZGV2KHNpemVvZihzdHJ1Y3Qgb2N0ZW9uX2V0aGVybmV0KSk7
Ci0JCQlpZiAoIWRldikgewotCQkJCXByX2VycigiRmFpbGVkIHRvIGFsbG9jYXRlIGV0aGVybmV0
IGRldmljZSBmb3IgcG9ydCAlZFxuIiwKLQkJCQkgICAgICAgcG9ydCk7Ci0JCQkJY29udGludWU7
Ci0JCQl9Ci0KLQkJCS8qIEluaXRpYWxpemUgdGhlIGRldmljZSBwcml2YXRlIHN0cnVjdHVyZS4g
Ki8KLQkJCVNFVF9ORVRERVZfREVWKGRldiwgJnBkZXYtPmRldik7Ci0JCQlwcml2ID0gbmV0ZGV2
X3ByaXYoZGV2KTsKLQkJCXByaXYtPm5ldGRldiA9IGRldjsKLQkJCXByaXYtPm9mX25vZGUgPSBj
dm1fb2N0X25vZGVfZm9yX3BvcnQocGlwLCBpbnRlcmZhY2UsCi0JCQkJCQkJICAgICAgcG9ydF9p
bmRleCk7Ci0KLQkJCUlOSVRfREVMQVlFRF9XT1JLKCZwcml2LT5wb3J0X3BlcmlvZGljX3dvcmss
Ci0JCQkJCSAgY3ZtX29jdF9wZXJpb2RpY193b3JrZXIpOwotCQkJcHJpdi0+aW1vZGUgPSBpbW9k
ZTsKLQkJCXByaXYtPnBvcnQgPSBwb3J0OwotCQkJcHJpdi0+cXVldWUgPSBjdm14X3Brb19nZXRf
YmFzZV9xdWV1ZShwcml2LT5wb3J0KTsKLQkJCXByaXYtPmZhdSA9IGZhdSAtIGN2bXhfcGtvX2dl
dF9udW1fcXVldWVzKHBvcnQpICogNDsKLQkJCXByaXYtPnBoeV9tb2RlID0gUEhZX0lOVEVSRkFD
RV9NT0RFX05BOwotCQkJZm9yIChxb3MgPSAwOyBxb3MgPCAxNjsgcW9zKyspCi0JCQkJc2tiX3F1
ZXVlX2hlYWRfaW5pdCgmcHJpdi0+dHhfZnJlZV9saXN0W3Fvc10pOwotCQkJZm9yIChxb3MgPSAw
OyBxb3MgPCBjdm14X3Brb19nZXRfbnVtX3F1ZXVlcyhwb3J0KTsKLQkJCSAgICAgcW9zKyspCi0J
CQkJY3ZteF9mYXVfYXRvbWljX3dyaXRlMzIocHJpdi0+ZmF1ICsgcW9zICogNCwgMCk7Ci0JCQlk
ZXYtPm1pbl9tdHUgPSBWTEFOX0VUSF9aTEVOIC0gbXR1X292ZXJoZWFkOwotCQkJZGV2LT5tYXhf
bXR1ID0gT0NURU9OX01BWF9NVFUgLSBtdHVfb3ZlcmhlYWQ7Ci0KLQkJCXN3aXRjaCAocHJpdi0+
aW1vZGUpIHsKLQkJCS8qIFRoZXNlIHR5cGVzIGRvbid0IHN1cHBvcnQgcG9ydHMgdG8gSVBEL1BL
TyAqLwotCQkJY2FzZSBDVk1YX0hFTFBFUl9JTlRFUkZBQ0VfTU9ERV9ESVNBQkxFRDoKLQkJCWNh
c2UgQ1ZNWF9IRUxQRVJfSU5URVJGQUNFX01PREVfUENJRToKLQkJCWNhc2UgQ1ZNWF9IRUxQRVJf
SU5URVJGQUNFX01PREVfUElDTUc6Ci0JCQkJYnJlYWs7Ci0KLQkJCWNhc2UgQ1ZNWF9IRUxQRVJf
SU5URVJGQUNFX01PREVfTlBJOgotCQkJCWRldi0+bmV0ZGV2X29wcyA9ICZjdm1fb2N0X25waV9u
ZXRkZXZfb3BzOwotCQkJCXN0cnNjcHkoZGV2LT5uYW1lLCAibnBpJWQiLCBzaXplb2YoZGV2LT5u
YW1lKSk7Ci0JCQkJYnJlYWs7Ci0KLQkJCWNhc2UgQ1ZNWF9IRUxQRVJfSU5URVJGQUNFX01PREVf
WEFVSToKLQkJCQlkZXYtPm5ldGRldl9vcHMgPSAmY3ZtX29jdF94YXVpX25ldGRldl9vcHM7Ci0J
CQkJc3Ryc2NweShkZXYtPm5hbWUsICJ4YXVpJWQiLCBzaXplb2YoZGV2LT5uYW1lKSk7Ci0JCQkJ
YnJlYWs7Ci0KLQkJCWNhc2UgQ1ZNWF9IRUxQRVJfSU5URVJGQUNFX01PREVfTE9PUDoKLQkJCQlk
ZXYtPm5ldGRldl9vcHMgPSAmY3ZtX29jdF9ucGlfbmV0ZGV2X29wczsKLQkJCQlzdHJzY3B5KGRl
di0+bmFtZSwgImxvb3AlZCIsIHNpemVvZihkZXYtPm5hbWUpKTsKLQkJCQlicmVhazsKLQotCQkJ
Y2FzZSBDVk1YX0hFTFBFUl9JTlRFUkZBQ0VfTU9ERV9TR01JSToKLQkJCQlwcml2LT5waHlfbW9k
ZSA9IFBIWV9JTlRFUkZBQ0VfTU9ERV9TR01JSTsKLQkJCQlkZXYtPm5ldGRldl9vcHMgPSAmY3Zt
X29jdF9zZ21paV9uZXRkZXZfb3BzOwotCQkJCXN0cnNjcHkoZGV2LT5uYW1lLCAiZXRoJWQiLCBz
aXplb2YoZGV2LT5uYW1lKSk7Ci0JCQkJYnJlYWs7Ci0KLQkJCWNhc2UgQ1ZNWF9IRUxQRVJfSU5U
RVJGQUNFX01PREVfU1BJOgotCQkJCWRldi0+bmV0ZGV2X29wcyA9ICZjdm1fb2N0X3NwaV9uZXRk
ZXZfb3BzOwotCQkJCXN0cnNjcHkoZGV2LT5uYW1lLCAic3BpJWQiLCBzaXplb2YoZGV2LT5uYW1l
KSk7Ci0JCQkJYnJlYWs7Ci0KLQkJCWNhc2UgQ1ZNWF9IRUxQRVJfSU5URVJGQUNFX01PREVfR01J
SToKLQkJCQlwcml2LT5waHlfbW9kZSA9IFBIWV9JTlRFUkZBQ0VfTU9ERV9HTUlJOwotCQkJCWRl
di0+bmV0ZGV2X29wcyA9ICZjdm1fb2N0X3JnbWlpX25ldGRldl9vcHM7Ci0JCQkJc3Ryc2NweShk
ZXYtPm5hbWUsICJldGglZCIsIHNpemVvZihkZXYtPm5hbWUpKTsKLQkJCQlicmVhazsKLQotCQkJ
Y2FzZSBDVk1YX0hFTFBFUl9JTlRFUkZBQ0VfTU9ERV9SR01JSToKLQkJCQlkZXYtPm5ldGRldl9v
cHMgPSAmY3ZtX29jdF9yZ21paV9uZXRkZXZfb3BzOwotCQkJCXN0cnNjcHkoZGV2LT5uYW1lLCAi
ZXRoJWQiLCBzaXplb2YoZGV2LT5uYW1lKSk7Ci0JCQkJY3ZtX3NldF9yZ21paV9kZWxheShwcml2
LCBpbnRlcmZhY2UsCi0JCQkJCQkgICAgcG9ydF9pbmRleCk7Ci0JCQkJYnJlYWs7Ci0JCQl9Ci0K
LQkJCWlmICghZGV2LT5uZXRkZXZfb3BzKSB7Ci0JCQkJZnJlZV9uZXRkZXYoZGV2KTsKLQkJCX0g
ZWxzZSBpZiAocmVnaXN0ZXJfbmV0ZGV2KGRldikgPCAwKSB7Ci0JCQkJcHJfZXJyKCJGYWlsZWQg
dG8gcmVnaXN0ZXIgZXRoZXJuZXQgZGV2aWNlIGZvciBpbnRlcmZhY2UgJWQsIHBvcnQgJWRcbiIs
Ci0JCQkJICAgICAgIGludGVyZmFjZSwgcHJpdi0+cG9ydCk7Ci0JCQkJZnJlZV9uZXRkZXYoZGV2
KTsKLQkJCX0gZWxzZSB7Ci0JCQkJY3ZtX29jdF9kZXZpY2VbcHJpdi0+cG9ydF0gPSBkZXY7Ci0J
CQkJZmF1IC09Ci0JCQkJICAgIGN2bXhfcGtvX2dldF9udW1fcXVldWVzKHByaXYtPnBvcnQpICoK
LQkJCQkgICAgc2l6ZW9mKHUzMik7Ci0JCQkJc2NoZWR1bGVfZGVsYXllZF93b3JrKCZwcml2LT5w
b3J0X3BlcmlvZGljX3dvcmssCi0JCQkJCQkgICAgICBIWik7Ci0JCQl9Ci0JCX0KLQl9Ci0KLQlj
dm1fb2N0X3R4X2luaXRpYWxpemUoKTsKLQljdm1fb2N0X3J4X2luaXRpYWxpemUoKTsKLQotCS8q
Ci0JICogMTUwIHVTOiBhYm91dCAxMCAxNTAwLWJ5dGUgcGFja2V0cyBhdCAxR0UuCi0JICovCi0J
Y3ZtX29jdF90eF9wb2xsX2ludGVydmFsID0gMTUwICogKG9jdGVvbl9nZXRfY2xvY2tfcmF0ZSgp
IC8gMTAwMDAwMCk7Ci0KLQlzY2hlZHVsZV9kZWxheWVkX3dvcmsoJmN2bV9vY3RfcnhfcmVmaWxs
X3dvcmssIEhaKTsKLQotCXJldHVybiAwOwotfQotCi1zdGF0aWMgaW50IGN2bV9vY3RfcmVtb3Zl
KHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCi17Ci0JaW50IHBvcnQ7Ci0KLQljdm14X2lw
ZF9kaXNhYmxlKCk7Ci0KLQlhdG9taWNfaW5jX3JldHVybigmY3ZtX29jdF9wb2xsX3F1ZXVlX3N0
b3BwaW5nKTsKLQljYW5jZWxfZGVsYXllZF93b3JrX3N5bmMoJmN2bV9vY3RfcnhfcmVmaWxsX3dv
cmspOwotCi0JY3ZtX29jdF9yeF9zaHV0ZG93bigpOwotCWN2bV9vY3RfdHhfc2h1dGRvd24oKTsK
LQotCWN2bXhfcGtvX2Rpc2FibGUoKTsKLQotCS8qIEZyZWUgdGhlIGV0aGVybmV0IGRldmljZXMg
Ki8KLQlmb3IgKHBvcnQgPSAwOyBwb3J0IDwgVE9UQUxfTlVNQkVSX09GX1BPUlRTOyBwb3J0Kysp
IHsKLQkJaWYgKGN2bV9vY3RfZGV2aWNlW3BvcnRdKSB7Ci0JCQlzdHJ1Y3QgbmV0X2RldmljZSAq
ZGV2ID0gY3ZtX29jdF9kZXZpY2VbcG9ydF07Ci0JCQlzdHJ1Y3Qgb2N0ZW9uX2V0aGVybmV0ICpw
cml2ID0gbmV0ZGV2X3ByaXYoZGV2KTsKLQotCQkJY2FuY2VsX2RlbGF5ZWRfd29ya19zeW5jKCZw
cml2LT5wb3J0X3BlcmlvZGljX3dvcmspOwotCi0JCQljdm1fb2N0X3R4X3NodXRkb3duX2Rldihk
ZXYpOwotCQkJdW5yZWdpc3Rlcl9uZXRkZXYoZGV2KTsKLQkJCWZyZWVfbmV0ZGV2KGRldik7Ci0J
CQljdm1fb2N0X2RldmljZVtwb3J0XSA9IE5VTEw7Ci0JCX0KLQl9Ci0KLQljdm14X3Brb19zaHV0
ZG93bigpOwotCi0JY3ZteF9pcGRfZnJlZV9wdHIoKTsKLQotCS8qIEZyZWUgdGhlIEhXIHBvb2xz
ICovCi0JY3ZtX29jdF9tZW1fZW1wdHlfZnBhKENWTVhfRlBBX1BBQ0tFVF9QT09MLCBDVk1YX0ZQ
QV9QQUNLRVRfUE9PTF9TSVpFLAotCQkJICAgICAgbnVtX3BhY2tldF9idWZmZXJzKTsKLQljdm1f
b2N0X21lbV9lbXB0eV9mcGEoQ1ZNWF9GUEFfV1FFX1BPT0wsIENWTVhfRlBBX1dRRV9QT09MX1NJ
WkUsCi0JCQkgICAgICBudW1fcGFja2V0X2J1ZmZlcnMpOwotCWlmIChDVk1YX0ZQQV9PVVRQVVRf
QlVGRkVSX1BPT0wgIT0gQ1ZNWF9GUEFfUEFDS0VUX1BPT0wpCi0JCWN2bV9vY3RfbWVtX2VtcHR5
X2ZwYShDVk1YX0ZQQV9PVVRQVVRfQlVGRkVSX1BPT0wsCi0JCQkJICAgICAgQ1ZNWF9GUEFfT1VU
UFVUX0JVRkZFUl9QT09MX1NJWkUsIDEyOCk7Ci0JcmV0dXJuIDA7Ci19Ci0KLXN0YXRpYyBjb25z
dCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIGN2bV9vY3RfbWF0Y2hbXSA9IHsKLQl7Ci0JCS5jb21wYXRp
YmxlID0gImNhdml1bSxvY3Rlb24tMzg2MC1waXAiLAotCX0sCi0Je30sCi19OwotTU9EVUxFX0RF
VklDRV9UQUJMRShvZiwgY3ZtX29jdF9tYXRjaCk7Ci0KLXN0YXRpYyBzdHJ1Y3QgcGxhdGZvcm1f
ZHJpdmVyIGN2bV9vY3RfZHJpdmVyID0gewotCS5wcm9iZQkJPSBjdm1fb2N0X3Byb2JlLAotCS5y
ZW1vdmUJCT0gY3ZtX29jdF9yZW1vdmUsCi0JLmRyaXZlcgkJPSB7Ci0JCS5uYW1lCT0gS0JVSUxE
X01PRE5BTUUsCi0JCS5vZl9tYXRjaF90YWJsZSA9IGN2bV9vY3RfbWF0Y2gsCi0JfSwKLX07Ci0K
LW1vZHVsZV9wbGF0Zm9ybV9kcml2ZXIoY3ZtX29jdF9kcml2ZXIpOwotCi1NT0RVTEVfTElDRU5T
RSgiR1BMIik7Ci1NT0RVTEVfQVVUSE9SKCJDYXZpdW0gTmV0d29ya3MgPHN1cHBvcnRAY2F2aXVt
bmV0d29ya3MuY29tPiIpOwotTU9EVUxFX0RFU0NSSVBUSU9OKCJDYXZpdW0gTmV0d29ya3MgT2N0
ZW9uIGV0aGVybmV0IGRyaXZlci4iKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9vY3Rl
b24vb2N0ZW9uLWV0aGVybmV0LmggYi9kcml2ZXJzL3N0YWdpbmcvb2N0ZW9uL29jdGVvbi1ldGhl
cm5ldC5oCmRlbGV0ZWQgZmlsZSBtb2RlIDEwMDY0NAppbmRleCBhNjE0MDcwNTcwNmYuLjAwMDAw
MDAwMDAwMAotLS0gYS9kcml2ZXJzL3N0YWdpbmcvb2N0ZW9uL29jdGVvbi1ldGhlcm5ldC5oCisr
KyAvZGV2L251bGwKQEAgLTEsMTA3ICswLDAgQEAKLS8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVy
OiBHUEwtMi4wICovCi0vKgotICogVGhpcyBmaWxlIGlzIGJhc2VkIG9uIGNvZGUgZnJvbSBPQ1RF
T04gU0RLIGJ5IENhdml1bSBOZXR3b3Jrcy4KLSAqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDMtMjAx
MCBDYXZpdW0gTmV0d29ya3MKLSAqLwotCi0vKgotICogRXh0ZXJuYWwgaW50ZXJmYWNlIGZvciB0
aGUgQ2F2aXVtIE9jdGVvbiBldGhlcm5ldCBkcml2ZXIuCi0gKi8KLSNpZm5kZWYgT0NURU9OX0VU
SEVSTkVUX0gKLSNkZWZpbmUgT0NURU9OX0VUSEVSTkVUX0gKLQotI2luY2x1ZGUgPGxpbnV4L29m
Lmg+Ci0jaW5jbHVkZSA8bGludXgvcGh5Lmg+Ci0KLSNpZmRlZiBDT05GSUdfQ0FWSVVNX09DVEVP
Tl9TT0MKLQotI2luY2x1ZGUgPGFzbS9vY3Rlb24vb2N0ZW9uLmg+Ci0KLSNpbmNsdWRlIDxhc20v
b2N0ZW9uL2N2bXgtYXN4eC1kZWZzLmg+Ci0jaW5jbHVkZSA8YXNtL29jdGVvbi9jdm14LWNvbmZp
Zy5oPgotI2luY2x1ZGUgPGFzbS9vY3Rlb24vY3ZteC1mYXUuaD4KLSNpbmNsdWRlIDxhc20vb2N0
ZW9uL2N2bXgtZ214eC1kZWZzLmg+Ci0jaW5jbHVkZSA8YXNtL29jdGVvbi9jdm14LWhlbHBlci5o
PgotI2luY2x1ZGUgPGFzbS9vY3Rlb24vY3ZteC1oZWxwZXItdXRpbC5oPgotI2luY2x1ZGUgPGFz
bS9vY3Rlb24vY3ZteC1pcGQuaD4KLSNpbmNsdWRlIDxhc20vb2N0ZW9uL2N2bXgtaXBkLWRlZnMu
aD4KLSNpbmNsdWRlIDxhc20vb2N0ZW9uL2N2bXgtbnBpLWRlZnMuaD4KLSNpbmNsdWRlIDxhc20v
b2N0ZW9uL2N2bXgtcGlwLmg+Ci0jaW5jbHVkZSA8YXNtL29jdGVvbi9jdm14LXBrby5oPgotI2lu
Y2x1ZGUgPGFzbS9vY3Rlb24vY3ZteC1wb3cuaD4KLSNpbmNsdWRlIDxhc20vb2N0ZW9uL2N2bXgt
c2NyYXRjaC5oPgotI2luY2x1ZGUgPGFzbS9vY3Rlb24vY3ZteC1zcGkuaD4KLSNpbmNsdWRlIDxh
c20vb2N0ZW9uL2N2bXgtc3B4eC1kZWZzLmg+Ci0jaW5jbHVkZSA8YXNtL29jdGVvbi9jdm14LXN0
eHgtZGVmcy5oPgotI2luY2x1ZGUgPGFzbS9vY3Rlb24vY3ZteC13cWUuaD4KLQotI2Vsc2UKLQot
I2luY2x1ZGUgIm9jdGVvbi1zdHVicy5oIgotCi0jZW5kaWYKLQotLyoqCi0gKiBUaGlzIGlzIHRo
ZSBkZWZpbml0aW9uIG9mIHRoZSBFdGhlcm5ldCBkcml2ZXIncyBwcml2YXRlCi0gKiBkcml2ZXIg
c3RhdGUgc3RvcmVkIGluIG5ldGRldl9wcml2KGRldikuCi0gKi8KLXN0cnVjdCBvY3Rlb25fZXRo
ZXJuZXQgewotCS8qIFBLTyBoYXJkd2FyZSBvdXRwdXQgcG9ydCAqLwotCWludCBwb3J0OwotCS8q
IFBLTyBoYXJkd2FyZSBxdWV1ZSBmb3IgdGhlIHBvcnQgKi8KLQlpbnQgcXVldWU7Ci0JLyogSGFy
ZHdhcmUgZmV0Y2ggYW5kIGFkZCB0byBjb3VudCBvdXRzdGFuZGluZyB0eCBidWZmZXJzICovCi0J
aW50IGZhdTsKLQkvKiBNeSBuZXRkZXYuICovCi0Jc3RydWN0IG5ldF9kZXZpY2UgKm5ldGRldjsK
LQkvKgotCSAqIFR5cGUgb2YgcG9ydC4gVGhpcyBpcyBvbmUgb2YgdGhlIGVudW1zIGluCi0JICog
Y3ZteF9oZWxwZXJfaW50ZXJmYWNlX21vZGVfdAotCSAqLwotCWludCBpbW9kZTsKLQkvKiBQSFkg
bW9kZSAqLwotCXBoeV9pbnRlcmZhY2VfdCBwaHlfbW9kZTsKLQkvKiBMaXN0IG9mIG91dHN0YW5k
aW5nIHR4IGJ1ZmZlcnMgcGVyIHF1ZXVlICovCi0Jc3RydWN0IHNrX2J1ZmZfaGVhZCB0eF9mcmVl
X2xpc3RbMTZdOwotCXVuc2lnbmVkIGludCBsYXN0X3NwZWVkOwotCXVuc2lnbmVkIGludCBsYXN0
X2xpbms7Ci0JLyogTGFzdCBuZWdvdGlhdGVkIGxpbmsgc3RhdGUgKi8KLQl1NjQgbGlua19pbmZv
OwotCS8qIENhbGxlZCBwZXJpb2RpY2FsbHkgdG8gY2hlY2sgbGluayBzdGF0dXMgKi8KLQl2b2lk
ICgqcG9sbCkoc3RydWN0IG5ldF9kZXZpY2UgKmRldik7Ci0Jc3RydWN0IGRlbGF5ZWRfd29yawlw
b3J0X3BlcmlvZGljX3dvcms7Ci0Jc3RydWN0IGRldmljZV9ub2RlCSpvZl9ub2RlOwotfTsKLQot
aW50IGN2bV9vY3RfZnJlZV93b3JrKHZvaWQgKndvcmtfcXVldWVfZW50cnkpOwotCi1pbnQgY3Zt
X29jdF9yZ21paV9vcGVuKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpOwotCi1pbnQgY3ZtX29jdF9z
Z21paV9pbml0KHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpOwotaW50IGN2bV9vY3Rfc2dtaWlfb3Bl
bihzdHJ1Y3QgbmV0X2RldmljZSAqZGV2KTsKLQotaW50IGN2bV9vY3Rfc3BpX2luaXQoc3RydWN0
IG5ldF9kZXZpY2UgKmRldik7Ci12b2lkIGN2bV9vY3Rfc3BpX3VuaW5pdChzdHJ1Y3QgbmV0X2Rl
dmljZSAqZGV2KTsKLQotaW50IGN2bV9vY3RfY29tbW9uX2luaXQoc3RydWN0IG5ldF9kZXZpY2Ug
KmRldik7Ci12b2lkIGN2bV9vY3RfY29tbW9uX3VuaW5pdChzdHJ1Y3QgbmV0X2RldmljZSAqZGV2
KTsKLXZvaWQgY3ZtX29jdF9hZGp1c3RfbGluayhzdHJ1Y3QgbmV0X2RldmljZSAqZGV2KTsKLWlu
dCBjdm1fb2N0X2NvbW1vbl9zdG9wKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpOwotaW50IGN2bV9v
Y3RfY29tbW9uX29wZW4oc3RydWN0IG5ldF9kZXZpY2UgKmRldiwKLQkJCXZvaWQgKCpsaW5rX3Bv
bGwpKHN0cnVjdCBuZXRfZGV2aWNlICopKTsKLXZvaWQgY3ZtX29jdF9ub3RlX2NhcnJpZXIoc3Ry
dWN0IG9jdGVvbl9ldGhlcm5ldCAqcHJpdiwKLQkJCSAgdW5pb24gY3ZteF9oZWxwZXJfbGlua19p
bmZvIGxpKTsKLXZvaWQgY3ZtX29jdF9saW5rX3BvbGwoc3RydWN0IG5ldF9kZXZpY2UgKmRldik7
Ci0KLWV4dGVybiBpbnQgYWx3YXlzX3VzZV9wb3c7Ci1leHRlcm4gaW50IHBvd19zZW5kX2dyb3Vw
OwotZXh0ZXJuIGludCBwb3dfcmVjZWl2ZV9ncm91cHM7Ci1leHRlcm4gY2hhciBwb3dfc2VuZF9s
aXN0W107Ci1leHRlcm4gc3RydWN0IG5ldF9kZXZpY2UgKmN2bV9vY3RfZGV2aWNlW107Ci1leHRl
cm4gYXRvbWljX3QgY3ZtX29jdF9wb2xsX3F1ZXVlX3N0b3BwaW5nOwotZXh0ZXJuIHU2NCBjdm1f
b2N0X3R4X3BvbGxfaW50ZXJ2YWw7Ci0KLWV4dGVybiBpbnQgcnhfbmFwaV93ZWlnaHQ7Ci0KLSNl
bmRpZgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5nL29jdGVvbi9vY3Rlb24tc3R1YnMuaCBi
L2RyaXZlcnMvc3RhZ2luZy9vY3Rlb24vb2N0ZW9uLXN0dWJzLmgKZGVsZXRlZCBmaWxlIG1vZGUg
MTAwNjQ0CmluZGV4IDc5MjEzYzA0NTUwNC4uMDAwMDAwMDAwMDAwCi0tLSBhL2RyaXZlcnMvc3Rh
Z2luZy9vY3Rlb24vb2N0ZW9uLXN0dWJzLmgKKysrIC9kZXYvbnVsbApAQCAtMSwxNDMzICswLDAg
QEAKLSNkZWZpbmUgQ09ORklHX0NBVklVTV9PQ1RFT05fQ1ZNU0VHX1NJWkUJNTEyCi0KLSNpZm5k
ZWYgWEtQSFlTX1RPX1BIWVMKLSMgZGVmaW5lIFhLUEhZU19UT19QSFlTKHApCQkJKHApCi0jZW5k
aWYKLQotI2RlZmluZSBPQ1RFT05fSVJRX1dPUktRMCAwCi0jZGVmaW5lIE9DVEVPTl9JUlFfUk1M
IDAKLSNkZWZpbmUgT0NURU9OX0lSUV9USU1FUjEgMAotI2RlZmluZSBPQ1RFT05fSVNfTU9ERUwo
eCkgMAotI2RlZmluZSBvY3Rlb25faGFzX2ZlYXR1cmUoeCkJMAotI2RlZmluZSBvY3Rlb25fZ2V0
X2Nsb2NrX3JhdGUoKQkwCi0KLSNkZWZpbmUgQ1ZNWF9TWU5DSU9CRE1BCQlkbyB7IH0gd2hpbGUo
MCkKLQotI2RlZmluZSBDVk1YX0hFTFBFUl9JTlBVVF9UQUdfVFlQRQkwCi0jZGVmaW5lIENWTVhf
SEVMUEVSX0ZJUlNUX01CVUZGX1NLSVAJNwotI2RlZmluZSBDVk1YX0ZBVV9SRUdfRU5ECQkoMjA0
OCkKLSNkZWZpbmUgQ1ZNWF9GUEFfT1VUUFVUX0JVRkZFUl9QT09MCSAgICAoMikKLSNkZWZpbmUg
Q1ZNWF9GUEFfT1VUUFVUX0JVRkZFUl9QT09MX1NJWkUgICAgMTYKLSNkZWZpbmUgQ1ZNWF9GUEFf
UEFDS0VUX1BPT0wJCSAgICAoMCkKLSNkZWZpbmUgQ1ZNWF9GUEFfUEFDS0VUX1BPT0xfU0laRQkg
ICAgMTYKLSNkZWZpbmUgQ1ZNWF9GUEFfV1FFX1BPT0wJCSAgICAoMSkKLSNkZWZpbmUgQ1ZNWF9G
UEFfV1FFX1BPT0xfU0laRQkJICAgIDE2Ci0jZGVmaW5lIENWTVhfR01YWF9SWFhfQURSX0NBTV9F
TihhLCBiKQkoKGEpKyhiKSkKLSNkZWZpbmUgQ1ZNWF9HTVhYX1JYWF9BRFJfQ1RMKGEsIGIpCSgo
YSkrKGIpKQotI2RlZmluZSBDVk1YX0dNWFhfUFJUWF9DRkcoYSwgYikJKChhKSsoYikpCi0jZGVm
aW5lIENWTVhfR01YWF9SWFhfRlJNX01BWChhLCBiKQkoKGEpKyhiKSkKLSNkZWZpbmUgQ1ZNWF9H
TVhYX1JYWF9KQUJCRVIoYSwgYikJKChhKSsoYikpCi0jZGVmaW5lIENWTVhfSVBEX0NUTF9TVEFU
VVMJCTAKLSNkZWZpbmUgQ1ZNWF9QSVBfRlJNX0xFTl9DSEtYKGEpCShhKQotI2RlZmluZSBDVk1Y
X1BJUF9OVU1fSU5QVVRfUE9SVFMJMQotI2RlZmluZSBDVk1YX1NDUl9TQ1JBVENICQkwCi0jZGVm
aW5lIENWTVhfUEtPX1FVRVVFU19QRVJfUE9SVF9JTlRFUkZBQ0UwCTIKLSNkZWZpbmUgQ1ZNWF9Q
S09fUVVFVUVTX1BFUl9QT1JUX0lOVEVSRkFDRTEJMgotI2RlZmluZSBDVk1YX0lQRF9TVUJfUE9S
VF9GQ1MJCTAKLSNkZWZpbmUgQ1ZNWF9TU09fV1FfSVFfRElTCQkwCi0jZGVmaW5lIENWTVhfU1NP
X1dRX0lOVAkJCTAKLSNkZWZpbmUgQ1ZNWF9QT1dfV1FfSU5UCQkJMAotI2RlZmluZSBDVk1YX1NT
T19XUV9JTlRfUEMJCTAKLSNkZWZpbmUgQ1ZNWF9OUElfUlNMX0lOVF9CTE9DS1MJCTAKLSNkZWZp
bmUgQ1ZNWF9QT1dfV1FfSU5UX1BDCQkwCi0KLXVuaW9uIGN2bXhfcGlwX3dxZV93b3JkMiB7Ci0J
dWludDY0X3QgdTY0OwotCXN0cnVjdCB7Ci0JCXVpbnQ2NF90IGJ1ZnM6ODsKLQkJdWludDY0X3Qg
aXBfb2Zmc2V0Ojg7Ci0JCXVpbnQ2NF90IHZsYW5fdmFsaWQ6MTsKLQkJdWludDY0X3Qgdmxhbl9z
dGFja2VkOjE7Ci0JCXVpbnQ2NF90IHVuYXNzaWduZWQ6MTsKLQkJdWludDY0X3Qgdmxhbl9jZmk6
MTsKLQkJdWludDY0X3Qgdmxhbl9pZDoxMjsKLQkJdWludDY0X3QgcHI6NDsKLQkJdWludDY0X3Qg
dW5hc3NpZ25lZDI6ODsKLQkJdWludDY0X3QgZGVjX2lwY29tcDoxOwotCQl1aW50NjRfdCB0Y3Bf
b3JfdWRwOjE7Ci0JCXVpbnQ2NF90IGRlY19pcHNlYzoxOwotCQl1aW50NjRfdCBpc192NjoxOwot
CQl1aW50NjRfdCBzb2Z0d2FyZToxOwotCQl1aW50NjRfdCBMNF9lcnJvcjoxOwotCQl1aW50NjRf
dCBpc19mcmFnOjE7Ci0JCXVpbnQ2NF90IElQX2V4YzoxOwotCQl1aW50NjRfdCBpc19iY2FzdDox
OwotCQl1aW50NjRfdCBpc19tY2FzdDoxOwotCQl1aW50NjRfdCBub3RfSVA6MTsKLQkJdWludDY0
X3QgcmN2X2Vycm9yOjE7Ci0JCXVpbnQ2NF90IGVycl9jb2RlOjg7Ci0JfSBzOwotCXN0cnVjdCB7
Ci0JCXVpbnQ2NF90IGJ1ZnM6ODsKLQkJdWludDY0X3QgaXBfb2Zmc2V0Ojg7Ci0JCXVpbnQ2NF90
IHZsYW5fdmFsaWQ6MTsKLQkJdWludDY0X3Qgdmxhbl9zdGFja2VkOjE7Ci0JCXVpbnQ2NF90IHVu
YXNzaWduZWQ6MTsKLQkJdWludDY0X3Qgdmxhbl9jZmk6MTsKLQkJdWludDY0X3Qgdmxhbl9pZDox
MjsKLQkJdWludDY0X3QgcG9ydDoxMjsKLQkJdWludDY0X3QgZGVjX2lwY29tcDoxOwotCQl1aW50
NjRfdCB0Y3Bfb3JfdWRwOjE7Ci0JCXVpbnQ2NF90IGRlY19pcHNlYzoxOwotCQl1aW50NjRfdCBp
c192NjoxOwotCQl1aW50NjRfdCBzb2Z0d2FyZToxOwotCQl1aW50NjRfdCBMNF9lcnJvcjoxOwot
CQl1aW50NjRfdCBpc19mcmFnOjE7Ci0JCXVpbnQ2NF90IElQX2V4YzoxOwotCQl1aW50NjRfdCBp
c19iY2FzdDoxOwotCQl1aW50NjRfdCBpc19tY2FzdDoxOwotCQl1aW50NjRfdCBub3RfSVA6MTsK
LQkJdWludDY0X3QgcmN2X2Vycm9yOjE7Ci0JCXVpbnQ2NF90IGVycl9jb2RlOjg7Ci0JfSBzX2Nu
Njh4eDsKLQotCXN0cnVjdCB7Ci0JCXVpbnQ2NF90IHVudXNlZDE6MTY7Ci0JCXVpbnQ2NF90IHZs
YW46MTY7Ci0JCXVpbnQ2NF90IHVudXNlZDI6MzI7Ci0JfSBzdmxhbjsKLQlzdHJ1Y3QgewotCQl1
aW50NjRfdCBidWZzOjg7Ci0JCXVpbnQ2NF90IHVudXNlZDo4OwotCQl1aW50NjRfdCB2bGFuX3Zh
bGlkOjE7Ci0JCXVpbnQ2NF90IHZsYW5fc3RhY2tlZDoxOwotCQl1aW50NjRfdCB1bmFzc2lnbmVk
OjE7Ci0JCXVpbnQ2NF90IHZsYW5fY2ZpOjE7Ci0JCXVpbnQ2NF90IHZsYW5faWQ6MTI7Ci0JCXVp
bnQ2NF90IHByOjQ7Ci0JCXVpbnQ2NF90IHVuYXNzaWduZWQyOjEyOwotCQl1aW50NjRfdCBzb2Z0
d2FyZToxOwotCQl1aW50NjRfdCB1bmFzc2lnbmVkMzoxOwotCQl1aW50NjRfdCBpc19yYXJwOjE7
Ci0JCXVpbnQ2NF90IGlzX2FycDoxOwotCQl1aW50NjRfdCBpc19iY2FzdDoxOwotCQl1aW50NjRf
dCBpc19tY2FzdDoxOwotCQl1aW50NjRfdCBub3RfSVA6MTsKLQkJdWludDY0X3QgcmN2X2Vycm9y
OjE7Ci0JCXVpbnQ2NF90IGVycl9jb2RlOjg7Ci0JfSBzbm9pcDsKLQotfTsKLQotdW5pb24gY3Zt
eF9waXBfd3FlX3dvcmQwIHsKLQlzdHJ1Y3QgewotCQl1aW50NjRfdCBuZXh0X3B0cjo0MDsKLQkJ
dWludDhfdCB1bnVzZWQ7Ci0JCV9fd3N1bSBod19jaGtzdW07Ci0JfSBjbjM4eHg7Ci0Jc3RydWN0
IHsKLQkJdWludDY0X3QgcGtuZDo2OyAgICAgICAgLyogMC4uNSAqLwotCQl1aW50NjRfdCB1bnVz
ZWQyOjI7ICAgICAvKiA2Li43ICovCi0JCXVpbnQ2NF90IGJwaWQ6NjsgICAgICAgIC8qIDguLjEz
ICovCi0JCXVpbnQ2NF90IHVudXNlZDE6MTg7ICAgIC8qIDE0Li4zMSAqLwotCQl1aW50NjRfdCBs
MnB0cjo4OyAgICAgICAvKiAzMi4uMzkgKi8KLQkJdWludDY0X3QgbDNwdHI6ODsgICAgICAgLyog
NDAuLjQ3ICovCi0JCXVpbnQ2NF90IHVudXNlZDA6ODsgICAgIC8qIDQ4Li41NSAqLwotCQl1aW50
NjRfdCBsNHB0cjo4OyAgICAgICAvKiA1Ni4uNjMgKi8KLQl9IGNuNjh4eDsKLX07Ci0KLXVuaW9u
IGN2bXhfd3FlX3dvcmQwIHsKLQl1aW50NjRfdCB1NjQ7Ci0JdW5pb24gY3ZteF9waXBfd3FlX3dv
cmQwIHBpcDsKLX07Ci0KLXVuaW9uIGN2bXhfd3FlX3dvcmQxIHsKLQl1aW50NjRfdCB1NjQ7Ci0J
c3RydWN0IHsKLQkJdWludDY0X3QgdGFnOjMyOwotCQl1aW50NjRfdCB0YWdfdHlwZToyOwotCQl1
aW50NjRfdCB2YXJpZXM6MTQ7Ci0JCXVpbnQ2NF90IGxlbjoxNjsKLQl9OwotCXN0cnVjdCB7Ci0J
CXVpbnQ2NF90IHRhZzozMjsKLQkJdWludDY0X3QgdGFnX3R5cGU6MjsKLQkJdWludDY0X3QgemVy
b18yOjM7Ci0JCXVpbnQ2NF90IGdycDo2OwotCQl1aW50NjRfdCB6ZXJvXzE6MTsKLQkJdWludDY0
X3QgcW9zOjM7Ci0JCXVpbnQ2NF90IHplcm9fMDoxOwotCQl1aW50NjRfdCBsZW46MTY7Ci0JfSBj
bjY4eHg7Ci0Jc3RydWN0IHsKLQkJdWludDY0X3QgdGFnOjMyOwotCQl1aW50NjRfdCB0YWdfdHlw
ZToyOwotCQl1aW50NjRfdCB6ZXJvXzI6MTsKLQkJdWludDY0X3QgZ3JwOjQ7Ci0JCXVpbnQ2NF90
IHFvczozOwotCQl1aW50NjRfdCBpcHBydDo2OwotCQl1aW50NjRfdCBsZW46MTY7Ci0JfSBjbjM4
eHg7Ci19OwotCi11bmlvbiBjdm14X2J1Zl9wdHIgewotCXZvaWQgKnB0cjsKLQl1aW50NjRfdCB1
NjQ7Ci0Jc3RydWN0IHsKLQkJdWludDY0X3QgaToxOwotCQl1aW50NjRfdCBiYWNrOjQ7Ci0JCXVp
bnQ2NF90IHBvb2w6MzsKLQkJdWludDY0X3Qgc2l6ZToxNjsKLQkJdWludDY0X3QgYWRkcjo0MDsK
LQl9IHM7Ci19OwotCi1zdHJ1Y3QgY3ZteF93cWUgewotCXVuaW9uIGN2bXhfd3FlX3dvcmQwIHdv
cmQwOwotCXVuaW9uIGN2bXhfd3FlX3dvcmQxIHdvcmQxOwotCXVuaW9uIGN2bXhfcGlwX3dxZV93
b3JkMiB3b3JkMjsKLQl1bmlvbiBjdm14X2J1Zl9wdHIgcGFja2V0X3B0cjsKLQl1aW50OF90IHBh
Y2tldF9kYXRhWzk2XTsKLX07Ci0KLXVuaW9uIGN2bXhfaGVscGVyX2xpbmtfaW5mbyB7Ci0JdWlu
dDY0X3QgdTY0OwotCXN0cnVjdCB7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzIwXzYzOjQ0OwotCQl1
aW50NjRfdCBsaW5rX3VwOjE7CSAgICAvKio8IElzIHRoZSBwaHlzaWNhbCBsaW5rIHVwPyAqLwot
CQl1aW50NjRfdCBmdWxsX2R1cGxleDoxOwkgICAgLyoqPCAxIGlmIHRoZSBsaW5rIGlzIGZ1bGwg
ZHVwbGV4ICovCi0JCXVpbnQ2NF90IHNwZWVkOjE4OwkgICAgLyoqPCBTcGVlZCBvZiB0aGUgbGlu
ayBpbiBNYnBzICovCi0JfSBzOwotfTsKLQotZW51bSBjdm14X2ZhdV9yZWdfMzIgewotCUNWTVhf
RkFVX1JFR18zMl9TVEFSVAk9IDAsCi19OwotCi1lbnVtIGN2bXhfZmF1X29wX3NpemUgewotCUNW
TVhfRkFVX09QX1NJWkVfOCA9IDAsCi0JQ1ZNWF9GQVVfT1BfU0laRV8xNiA9IDEsCi0JQ1ZNWF9G
QVVfT1BfU0laRV8zMiA9IDIsCi0JQ1ZNWF9GQVVfT1BfU0laRV82NCA9IDMKLX07Ci0KLXR5cGVk
ZWYgZW51bSB7Ci0JQ1ZNWF9TUElfTU9ERV9VTktOT1dOID0gMCwKLQlDVk1YX1NQSV9NT0RFX1RY
X0hBTEZQTEVYID0gMSwKLQlDVk1YX1NQSV9NT0RFX1JYX0hBTEZQTEVYID0gMiwKLQlDVk1YX1NQ
SV9NT0RFX0RVUExFWCA9IDMKLX0gY3ZteF9zcGlfbW9kZV90OwotCi10eXBlZGVmIGVudW0gewot
CUNWTVhfSEVMUEVSX0lOVEVSRkFDRV9NT0RFX0RJU0FCTEVELAotCUNWTVhfSEVMUEVSX0lOVEVS
RkFDRV9NT0RFX1JHTUlJLAotCUNWTVhfSEVMUEVSX0lOVEVSRkFDRV9NT0RFX0dNSUksCi0JQ1ZN
WF9IRUxQRVJfSU5URVJGQUNFX01PREVfU1BJLAotCUNWTVhfSEVMUEVSX0lOVEVSRkFDRV9NT0RF
X1BDSUUsCi0JQ1ZNWF9IRUxQRVJfSU5URVJGQUNFX01PREVfWEFVSSwKLQlDVk1YX0hFTFBFUl9J
TlRFUkZBQ0VfTU9ERV9TR01JSSwKLQlDVk1YX0hFTFBFUl9JTlRFUkZBQ0VfTU9ERV9QSUNNRywK
LQlDVk1YX0hFTFBFUl9JTlRFUkZBQ0VfTU9ERV9OUEksCi0JQ1ZNWF9IRUxQRVJfSU5URVJGQUNF
X01PREVfTE9PUCwKLX0gY3ZteF9oZWxwZXJfaW50ZXJmYWNlX21vZGVfdDsKLQotdHlwZWRlZiBl
bnVtIHsKLQlDVk1YX1BPV19XQUlUID0gMSwKLQlDVk1YX1BPV19OT19XQUlUID0gMCwKLX0gY3Zt
eF9wb3dfd2FpdF90OwotCi10eXBlZGVmIGVudW0gewotCUNWTVhfUEtPX0xPQ0tfTk9ORSA9IDAs
Ci0JQ1ZNWF9QS09fTE9DS19BVE9NSUNfVEFHID0gMSwKLQlDVk1YX1BLT19MT0NLX0NNRF9RVUVV
RSA9IDIsCi19IGN2bXhfcGtvX2xvY2tfdDsKLQotdHlwZWRlZiBlbnVtIHsKLQlDVk1YX1BLT19T
VUNDRVNTLAotCUNWTVhfUEtPX0lOVkFMSURfUE9SVCwKLQlDVk1YX1BLT19JTlZBTElEX1FVRVVF
LAotCUNWTVhfUEtPX0lOVkFMSURfUFJJT1JJVFksCi0JQ1ZNWF9QS09fTk9fTUVNT1JZLAotCUNW
TVhfUEtPX1BPUlRfQUxSRUFEWV9TRVRVUCwKLQlDVk1YX1BLT19DTURfUVVFVUVfSU5JVF9FUlJP
UgotfSBjdm14X3Brb19zdGF0dXNfdDsKLQotZW51bSBjdm14X3Bvd190YWdfdHlwZSB7Ci0JQ1ZN
WF9QT1dfVEFHX1RZUEVfT1JERVJFRCAgID0gMEwsCi0JQ1ZNWF9QT1dfVEFHX1RZUEVfQVRPTUlD
ICAgID0gMUwsCi0JQ1ZNWF9QT1dfVEFHX1RZUEVfTlVMTAkgICAgPSAyTCwKLQlDVk1YX1BPV19U
QUdfVFlQRV9OVUxMX05VTEwgPSAzTAotfTsKLQotdW5pb24gY3ZteF9pcGRfY3RsX3N0YXR1cyB7
Ci0JdWludDY0X3QgdTY0OwotCXN0cnVjdCBjdm14X2lwZF9jdGxfc3RhdHVzX3MgewotCQl1aW50
NjRfdCByZXNlcnZlZF8xOF82Mzo0NjsKLQkJdWludDY0X3QgdXNlX3NvcDoxOwotCQl1aW50NjRf
dCByc3RfZG9uZToxOwotCQl1aW50NjRfdCBjbGtlbjoxOwotCQl1aW50NjRfdCBub193cHRyOjE7
Ci0JCXVpbnQ2NF90IHBxX2Fwa3Q6MTsKLQkJdWludDY0X3QgcHFfbmFidWY6MTsKLQkJdWludDY0
X3QgaXBkX2Z1bGw6MTsKLQkJdWludDY0X3QgcGt0X29mZjoxOwotCQl1aW50NjRfdCBsZW5fbTg6
MTsKLQkJdWludDY0X3QgcmVzZXQ6MTsKLQkJdWludDY0X3QgYWRkcGt0OjE7Ci0JCXVpbnQ2NF90
IG5hZGRidWY6MTsKLQkJdWludDY0X3QgcGt0X2xlbmQ6MTsKLQkJdWludDY0X3Qgd3FlX2xlbmQ6
MTsKLQkJdWludDY0X3QgcGJwX2VuOjE7Ci0JCXVpbnQ2NF90IG9wY19tb2RlOjI7Ci0JCXVpbnQ2
NF90IGlwZF9lbjoxOwotCX0gczsKLQlzdHJ1Y3QgY3ZteF9pcGRfY3RsX3N0YXR1c19jbjMweHgg
ewotCQl1aW50NjRfdCByZXNlcnZlZF8xMF82Mzo1NDsKLQkJdWludDY0X3QgbGVuX204OjE7Ci0J
CXVpbnQ2NF90IHJlc2V0OjE7Ci0JCXVpbnQ2NF90IGFkZHBrdDoxOwotCQl1aW50NjRfdCBuYWRk
YnVmOjE7Ci0JCXVpbnQ2NF90IHBrdF9sZW5kOjE7Ci0JCXVpbnQ2NF90IHdxZV9sZW5kOjE7Ci0J
CXVpbnQ2NF90IHBicF9lbjoxOwotCQl1aW50NjRfdCBvcGNfbW9kZToyOwotCQl1aW50NjRfdCBp
cGRfZW46MTsKLQl9IGNuMzB4eDsKLQlzdHJ1Y3QgY3ZteF9pcGRfY3RsX3N0YXR1c19jbjM4eHhw
MiB7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzlfNjM6NTU7Ci0JCXVpbnQ2NF90IHJlc2V0OjE7Ci0J
CXVpbnQ2NF90IGFkZHBrdDoxOwotCQl1aW50NjRfdCBuYWRkYnVmOjE7Ci0JCXVpbnQ2NF90IHBr
dF9sZW5kOjE7Ci0JCXVpbnQ2NF90IHdxZV9sZW5kOjE7Ci0JCXVpbnQ2NF90IHBicF9lbjoxOwot
CQl1aW50NjRfdCBvcGNfbW9kZToyOwotCQl1aW50NjRfdCBpcGRfZW46MTsKLQl9IGNuMzh4eHAy
OwotCXN0cnVjdCBjdm14X2lwZF9jdGxfc3RhdHVzX2NuNTB4eCB7Ci0JCXVpbnQ2NF90IHJlc2Vy
dmVkXzE1XzYzOjQ5OwotCQl1aW50NjRfdCBub193cHRyOjE7Ci0JCXVpbnQ2NF90IHBxX2Fwa3Q6
MTsKLQkJdWludDY0X3QgcHFfbmFidWY6MTsKLQkJdWludDY0X3QgaXBkX2Z1bGw6MTsKLQkJdWlu
dDY0X3QgcGt0X29mZjoxOwotCQl1aW50NjRfdCBsZW5fbTg6MTsKLQkJdWludDY0X3QgcmVzZXQ6
MTsKLQkJdWludDY0X3QgYWRkcGt0OjE7Ci0JCXVpbnQ2NF90IG5hZGRidWY6MTsKLQkJdWludDY0
X3QgcGt0X2xlbmQ6MTsKLQkJdWludDY0X3Qgd3FlX2xlbmQ6MTsKLQkJdWludDY0X3QgcGJwX2Vu
OjE7Ci0JCXVpbnQ2NF90IG9wY19tb2RlOjI7Ci0JCXVpbnQ2NF90IGlwZF9lbjoxOwotCX0gY241
MHh4OwotCXN0cnVjdCBjdm14X2lwZF9jdGxfc3RhdHVzX2NuNTh4eCB7Ci0JCXVpbnQ2NF90IHJl
c2VydmVkXzEyXzYzOjUyOwotCQl1aW50NjRfdCBpcGRfZnVsbDoxOwotCQl1aW50NjRfdCBwa3Rf
b2ZmOjE7Ci0JCXVpbnQ2NF90IGxlbl9tODoxOwotCQl1aW50NjRfdCByZXNldDoxOwotCQl1aW50
NjRfdCBhZGRwa3Q6MTsKLQkJdWludDY0X3QgbmFkZGJ1ZjoxOwotCQl1aW50NjRfdCBwa3RfbGVu
ZDoxOwotCQl1aW50NjRfdCB3cWVfbGVuZDoxOwotCQl1aW50NjRfdCBwYnBfZW46MTsKLQkJdWlu
dDY0X3Qgb3BjX21vZGU6MjsKLQkJdWludDY0X3QgaXBkX2VuOjE7Ci0JfSBjbjU4eHg7Ci0Jc3Ry
dWN0IGN2bXhfaXBkX2N0bF9zdGF0dXNfY242M3h4cDEgewotCQl1aW50NjRfdCByZXNlcnZlZF8x
Nl82Mzo0ODsKLQkJdWludDY0X3QgY2xrZW46MTsKLQkJdWludDY0X3Qgbm9fd3B0cjoxOwotCQl1
aW50NjRfdCBwcV9hcGt0OjE7Ci0JCXVpbnQ2NF90IHBxX25hYnVmOjE7Ci0JCXVpbnQ2NF90IGlw
ZF9mdWxsOjE7Ci0JCXVpbnQ2NF90IHBrdF9vZmY6MTsKLQkJdWludDY0X3QgbGVuX204OjE7Ci0J
CXVpbnQ2NF90IHJlc2V0OjE7Ci0JCXVpbnQ2NF90IGFkZHBrdDoxOwotCQl1aW50NjRfdCBuYWRk
YnVmOjE7Ci0JCXVpbnQ2NF90IHBrdF9sZW5kOjE7Ci0JCXVpbnQ2NF90IHdxZV9sZW5kOjE7Ci0J
CXVpbnQ2NF90IHBicF9lbjoxOwotCQl1aW50NjRfdCBvcGNfbW9kZToyOwotCQl1aW50NjRfdCBp
cGRfZW46MTsKLQl9IGNuNjN4eHAxOwotfTsKLQotdW5pb24gY3ZteF9pcGRfc3ViX3BvcnRfZmNz
IHsKLQl1aW50NjRfdCB1NjQ7Ci0Jc3RydWN0IGN2bXhfaXBkX3N1Yl9wb3J0X2Zjc19zIHsKLQkJ
dWludDY0X3QgcG9ydF9iaXQ6MzI7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzMyXzM1OjQ7Ci0JCXVp
bnQ2NF90IHBvcnRfYml0Mjo0OwotCQl1aW50NjRfdCByZXNlcnZlZF80MF82MzoyNDsKLQl9IHM7
Ci0Jc3RydWN0IGN2bXhfaXBkX3N1Yl9wb3J0X2Zjc19jbjMweHggewotCQl1aW50NjRfdCBwb3J0
X2JpdDozOwotCQl1aW50NjRfdCByZXNlcnZlZF8zXzYzOjYxOwotCX0gY24zMHh4OwotCXN0cnVj
dCBjdm14X2lwZF9zdWJfcG9ydF9mY3NfY24zOHh4IHsKLQkJdWludDY0X3QgcG9ydF9iaXQ6MzI7
Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzMyXzYzOjMyOwotCX0gY24zOHh4OwotfTsKLQotdW5pb24g
Y3ZteF9pcGRfc3ViX3BvcnRfcW9zX2NudCB7Ci0JdWludDY0X3QgdTY0OwotCXN0cnVjdCBjdm14
X2lwZF9zdWJfcG9ydF9xb3NfY250X3MgewotCQl1aW50NjRfdCBjbnQ6MzI7Ci0JCXVpbnQ2NF90
IHBvcnRfcW9zOjk7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzQxXzYzOjIzOwotCX0gczsKLX07Ci10
eXBlZGVmIHN0cnVjdCB7Ci0JdWludDMyX3QgZHJvcHBlZF9vY3RldHM7Ci0JdWludDMyX3QgZHJv
cHBlZF9wYWNrZXRzOwotCXVpbnQzMl90IHBjaV9yYXdfcGFja2V0czsKLQl1aW50MzJfdCBvY3Rl
dHM7Ci0JdWludDMyX3QgcGFja2V0czsKLQl1aW50MzJfdCBtdWx0aWNhc3RfcGFja2V0czsKLQl1
aW50MzJfdCBicm9hZGNhc3RfcGFja2V0czsKLQl1aW50MzJfdCBsZW5fNjRfcGFja2V0czsKLQl1
aW50MzJfdCBsZW5fNjVfMTI3X3BhY2tldHM7Ci0JdWludDMyX3QgbGVuXzEyOF8yNTVfcGFja2V0
czsKLQl1aW50MzJfdCBsZW5fMjU2XzUxMV9wYWNrZXRzOwotCXVpbnQzMl90IGxlbl81MTJfMTAy
M19wYWNrZXRzOwotCXVpbnQzMl90IGxlbl8xMDI0XzE1MThfcGFja2V0czsKLQl1aW50MzJfdCBs
ZW5fMTUxOV9tYXhfcGFja2V0czsKLQl1aW50MzJfdCBmY3NfYWxpZ25fZXJyX3BhY2tldHM7Ci0J
dWludDMyX3QgcnVudF9wYWNrZXRzOwotCXVpbnQzMl90IHJ1bnRfY3JjX3BhY2tldHM7Ci0JdWlu
dDMyX3Qgb3ZlcnNpemVfcGFja2V0czsKLQl1aW50MzJfdCBvdmVyc2l6ZV9jcmNfcGFja2V0czsK
LQl1aW50MzJfdCBpbmJfcGFja2V0czsKLQl1aW50NjRfdCBpbmJfb2N0ZXRzOwotCXVpbnQxNl90
IGluYl9lcnJvcnM7Ci19IGN2bXhfcGlwX3BvcnRfc3RhdHVzX3Q7Ci0KLXR5cGVkZWYgc3RydWN0
IHsKLQl1aW50MzJfdCBwYWNrZXRzOwotCXVpbnQ2NF90IG9jdGV0czsKLQl1aW50NjRfdCBkb29y
YmVsbDsKLX0gY3ZteF9wa29fcG9ydF9zdGF0dXNfdDsKLQotdW5pb24gY3ZteF9waXBfZnJtX2xl
bl9jaGt4IHsKLQl1aW50NjRfdCB1NjQ7Ci0Jc3RydWN0IGN2bXhfcGlwX2ZybV9sZW5fY2hreF9z
IHsKLQkJdWludDY0X3QgcmVzZXJ2ZWRfMzJfNjM6MzI7Ci0JCXVpbnQ2NF90IG1heGxlbjoxNjsK
LQkJdWludDY0X3QgbWlubGVuOjE2OwotCX0gczsKLX07Ci0KLXVuaW9uIGN2bXhfZ214eF9yeHhf
ZnJtX2N0bCB7Ci0JdWludDY0X3QgdTY0OwotCXN0cnVjdCBjdm14X2dteHhfcnh4X2ZybV9jdGxf
cyB7Ci0JCXVpbnQ2NF90IHByZV9jaGs6MTsKLQkJdWludDY0X3QgcHJlX3N0cnA6MTsKLQkJdWlu
dDY0X3QgY3RsX2RycDoxOwotCQl1aW50NjRfdCBjdGxfYmNrOjE7Ci0JCXVpbnQ2NF90IGN0bF9t
Y3N0OjE7Ci0JCXVpbnQ2NF90IGN0bF9zbWFjOjE7Ci0JCXVpbnQ2NF90IHByZV9mcmVlOjE7Ci0J
CXVpbnQ2NF90IHZsYW5fbGVuOjE7Ci0JCXVpbnQ2NF90IHBhZF9sZW46MTsKLQkJdWludDY0X3Qg
cHJlX2FsaWduOjE7Ci0JCXVpbnQ2NF90IG51bGxfZGlzOjE7Ci0JCXVpbnQ2NF90IHJlc2VydmVk
XzExXzExOjE7Ci0JCXVpbnQ2NF90IHB0cF9tb2RlOjE7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzEz
XzYzOjUxOwotCX0gczsKLQlzdHJ1Y3QgY3ZteF9nbXh4X3J4eF9mcm1fY3RsX2NuMzB4eCB7Ci0J
CXVpbnQ2NF90IHByZV9jaGs6MTsKLQkJdWludDY0X3QgcHJlX3N0cnA6MTsKLQkJdWludDY0X3Qg
Y3RsX2RycDoxOwotCQl1aW50NjRfdCBjdGxfYmNrOjE7Ci0JCXVpbnQ2NF90IGN0bF9tY3N0OjE7
Ci0JCXVpbnQ2NF90IGN0bF9zbWFjOjE7Ci0JCXVpbnQ2NF90IHByZV9mcmVlOjE7Ci0JCXVpbnQ2
NF90IHZsYW5fbGVuOjE7Ci0JCXVpbnQ2NF90IHBhZF9sZW46MTsKLQkJdWludDY0X3QgcmVzZXJ2
ZWRfOV82Mzo1NTsKLQl9IGNuMzB4eDsKLQlzdHJ1Y3QgY3ZteF9nbXh4X3J4eF9mcm1fY3RsX2Nu
MzF4eCB7Ci0JCXVpbnQ2NF90IHByZV9jaGs6MTsKLQkJdWludDY0X3QgcHJlX3N0cnA6MTsKLQkJ
dWludDY0X3QgY3RsX2RycDoxOwotCQl1aW50NjRfdCBjdGxfYmNrOjE7Ci0JCXVpbnQ2NF90IGN0
bF9tY3N0OjE7Ci0JCXVpbnQ2NF90IGN0bF9zbWFjOjE7Ci0JCXVpbnQ2NF90IHByZV9mcmVlOjE7
Ci0JCXVpbnQ2NF90IHZsYW5fbGVuOjE7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzhfNjM6NTY7Ci0J
fSBjbjMxeHg7Ci0Jc3RydWN0IGN2bXhfZ214eF9yeHhfZnJtX2N0bF9jbjUweHggewotCQl1aW50
NjRfdCBwcmVfY2hrOjE7Ci0JCXVpbnQ2NF90IHByZV9zdHJwOjE7Ci0JCXVpbnQ2NF90IGN0bF9k
cnA6MTsKLQkJdWludDY0X3QgY3RsX2JjazoxOwotCQl1aW50NjRfdCBjdGxfbWNzdDoxOwotCQl1
aW50NjRfdCBjdGxfc21hYzoxOwotCQl1aW50NjRfdCBwcmVfZnJlZToxOwotCQl1aW50NjRfdCBy
ZXNlcnZlZF83Xzg6MjsKLQkJdWludDY0X3QgcHJlX2FsaWduOjE7Ci0JCXVpbnQ2NF90IG51bGxf
ZGlzOjE7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzExXzYzOjUzOwotCX0gY241MHh4OwotCXN0cnVj
dCBjdm14X2dteHhfcnh4X2ZybV9jdGxfY241Nnh4cDEgewotCQl1aW50NjRfdCBwcmVfY2hrOjE7
Ci0JCXVpbnQ2NF90IHByZV9zdHJwOjE7Ci0JCXVpbnQ2NF90IGN0bF9kcnA6MTsKLQkJdWludDY0
X3QgY3RsX2JjazoxOwotCQl1aW50NjRfdCBjdGxfbWNzdDoxOwotCQl1aW50NjRfdCBjdGxfc21h
YzoxOwotCQl1aW50NjRfdCBwcmVfZnJlZToxOwotCQl1aW50NjRfdCByZXNlcnZlZF83Xzg6MjsK
LQkJdWludDY0X3QgcHJlX2FsaWduOjE7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzEwXzYzOjU0Owot
CX0gY241Nnh4cDE7Ci0Jc3RydWN0IGN2bXhfZ214eF9yeHhfZnJtX2N0bF9jbjU4eHggewotCQl1
aW50NjRfdCBwcmVfY2hrOjE7Ci0JCXVpbnQ2NF90IHByZV9zdHJwOjE7Ci0JCXVpbnQ2NF90IGN0
bF9kcnA6MTsKLQkJdWludDY0X3QgY3RsX2JjazoxOwotCQl1aW50NjRfdCBjdGxfbWNzdDoxOwot
CQl1aW50NjRfdCBjdGxfc21hYzoxOwotCQl1aW50NjRfdCBwcmVfZnJlZToxOwotCQl1aW50NjRf
dCB2bGFuX2xlbjoxOwotCQl1aW50NjRfdCBwYWRfbGVuOjE7Ci0JCXVpbnQ2NF90IHByZV9hbGln
bjoxOwotCQl1aW50NjRfdCBudWxsX2RpczoxOwotCQl1aW50NjRfdCByZXNlcnZlZF8xMV82Mzo1
MzsKLQl9IGNuNTh4eDsKLQlzdHJ1Y3QgY3ZteF9nbXh4X3J4eF9mcm1fY3RsX2NuNjF4eCB7Ci0J
CXVpbnQ2NF90IHByZV9jaGs6MTsKLQkJdWludDY0X3QgcHJlX3N0cnA6MTsKLQkJdWludDY0X3Qg
Y3RsX2RycDoxOwotCQl1aW50NjRfdCBjdGxfYmNrOjE7Ci0JCXVpbnQ2NF90IGN0bF9tY3N0OjE7
Ci0JCXVpbnQ2NF90IGN0bF9zbWFjOjE7Ci0JCXVpbnQ2NF90IHByZV9mcmVlOjE7Ci0JCXVpbnQ2
NF90IHJlc2VydmVkXzdfODoyOwotCQl1aW50NjRfdCBwcmVfYWxpZ246MTsKLQkJdWludDY0X3Qg
bnVsbF9kaXM6MTsKLQkJdWludDY0X3QgcmVzZXJ2ZWRfMTFfMTE6MTsKLQkJdWludDY0X3QgcHRw
X21vZGU6MTsKLQkJdWludDY0X3QgcmVzZXJ2ZWRfMTNfNjM6NTE7Ci0JfSBjbjYxeHg7Ci19Owot
Ci11bmlvbiBjdm14X2dteHhfcnh4X2ludF9yZWcgewotCXVpbnQ2NF90IHU2NDsKLQlzdHJ1Y3Qg
Y3ZteF9nbXh4X3J4eF9pbnRfcmVnX3MgewotCQl1aW50NjRfdCBtaW5lcnI6MTsKLQkJdWludDY0
X3QgY2FyZXh0OjE7Ci0JCXVpbnQ2NF90IG1heGVycjoxOwotCQl1aW50NjRfdCBqYWJiZXI6MTsK
LQkJdWludDY0X3QgZmNzZXJyOjE7Ci0JCXVpbnQ2NF90IGFsbmVycjoxOwotCQl1aW50NjRfdCBs
ZW5lcnI6MTsKLQkJdWludDY0X3QgcmN2ZXJyOjE7Ci0JCXVpbnQ2NF90IHNrcGVycjoxOwotCQl1
aW50NjRfdCBuaWJlcnI6MTsKLQkJdWludDY0X3Qgb3ZyZXJyOjE7Ci0JCXVpbnQ2NF90IHBjdGVy
cjoxOwotCQl1aW50NjRfdCByc3ZlcnI6MTsKLQkJdWludDY0X3QgZmFsZXJyOjE7Ci0JCXVpbnQ2
NF90IGNvbGRldDoxOwotCQl1aW50NjRfdCBpZmdlcnI6MTsKLQkJdWludDY0X3QgcGh5X2xpbms6
MTsKLQkJdWludDY0X3QgcGh5X3NwZDoxOwotCQl1aW50NjRfdCBwaHlfZHVweDoxOwotCQl1aW50
NjRfdCBwYXVzZV9kcnA6MTsKLQkJdWludDY0X3QgbG9jX2ZhdWx0OjE7Ci0JCXVpbnQ2NF90IHJl
bV9mYXVsdDoxOwotCQl1aW50NjRfdCBiYWRfc2VxOjE7Ci0JCXVpbnQ2NF90IGJhZF90ZXJtOjE7
Ci0JCXVpbnQ2NF90IHVuc29wOjE7Ci0JCXVpbnQ2NF90IHVuZW9wOjE7Ci0JCXVpbnQ2NF90IHVu
ZGF0OjE7Ci0JCXVpbnQ2NF90IGhnMmZsZDoxOwotCQl1aW50NjRfdCBoZzJjYzoxOwotCQl1aW50
NjRfdCByZXNlcnZlZF8yOV82MzozNTsKLQl9IHM7Ci0Jc3RydWN0IGN2bXhfZ214eF9yeHhfaW50
X3JlZ19jbjMweHggewotCQl1aW50NjRfdCBtaW5lcnI6MTsKLQkJdWludDY0X3QgY2FyZXh0OjE7
Ci0JCXVpbnQ2NF90IG1heGVycjoxOwotCQl1aW50NjRfdCBqYWJiZXI6MTsKLQkJdWludDY0X3Qg
ZmNzZXJyOjE7Ci0JCXVpbnQ2NF90IGFsbmVycjoxOwotCQl1aW50NjRfdCBsZW5lcnI6MTsKLQkJ
dWludDY0X3QgcmN2ZXJyOjE7Ci0JCXVpbnQ2NF90IHNrcGVycjoxOwotCQl1aW50NjRfdCBuaWJl
cnI6MTsKLQkJdWludDY0X3Qgb3ZyZXJyOjE7Ci0JCXVpbnQ2NF90IHBjdGVycjoxOwotCQl1aW50
NjRfdCByc3ZlcnI6MTsKLQkJdWludDY0X3QgZmFsZXJyOjE7Ci0JCXVpbnQ2NF90IGNvbGRldDox
OwotCQl1aW50NjRfdCBpZmdlcnI6MTsKLQkJdWludDY0X3QgcGh5X2xpbms6MTsKLQkJdWludDY0
X3QgcGh5X3NwZDoxOwotCQl1aW50NjRfdCBwaHlfZHVweDoxOwotCQl1aW50NjRfdCByZXNlcnZl
ZF8xOV82Mzo0NTsKLQl9IGNuMzB4eDsKLQlzdHJ1Y3QgY3ZteF9nbXh4X3J4eF9pbnRfcmVnX2Nu
NTB4eCB7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzBfMDoxOwotCQl1aW50NjRfdCBjYXJleHQ6MTsK
LQkJdWludDY0X3QgcmVzZXJ2ZWRfMl8yOjE7Ci0JCXVpbnQ2NF90IGphYmJlcjoxOwotCQl1aW50
NjRfdCBmY3NlcnI6MTsKLQkJdWludDY0X3QgYWxuZXJyOjE7Ci0JCXVpbnQ2NF90IHJlc2VydmVk
XzZfNjoxOwotCQl1aW50NjRfdCByY3ZlcnI6MTsKLQkJdWludDY0X3Qgc2twZXJyOjE7Ci0JCXVp
bnQ2NF90IG5pYmVycjoxOwotCQl1aW50NjRfdCBvdnJlcnI6MTsKLQkJdWludDY0X3QgcGN0ZXJy
OjE7Ci0JCXVpbnQ2NF90IHJzdmVycjoxOwotCQl1aW50NjRfdCBmYWxlcnI6MTsKLQkJdWludDY0
X3QgY29sZGV0OjE7Ci0JCXVpbnQ2NF90IGlmZ2VycjoxOwotCQl1aW50NjRfdCBwaHlfbGluazox
OwotCQl1aW50NjRfdCBwaHlfc3BkOjE7Ci0JCXVpbnQ2NF90IHBoeV9kdXB4OjE7Ci0JCXVpbnQ2
NF90IHBhdXNlX2RycDoxOwotCQl1aW50NjRfdCByZXNlcnZlZF8yMF82Mzo0NDsKLQl9IGNuNTB4
eDsKLQlzdHJ1Y3QgY3ZteF9nbXh4X3J4eF9pbnRfcmVnX2NuNTJ4eCB7Ci0JCXVpbnQ2NF90IHJl
c2VydmVkXzBfMDoxOwotCQl1aW50NjRfdCBjYXJleHQ6MTsKLQkJdWludDY0X3QgcmVzZXJ2ZWRf
Ml8yOjE7Ci0JCXVpbnQ2NF90IGphYmJlcjoxOwotCQl1aW50NjRfdCBmY3NlcnI6MTsKLQkJdWlu
dDY0X3QgcmVzZXJ2ZWRfNV82OjI7Ci0JCXVpbnQ2NF90IHJjdmVycjoxOwotCQl1aW50NjRfdCBz
a3BlcnI6MTsKLQkJdWludDY0X3QgcmVzZXJ2ZWRfOV85OjE7Ci0JCXVpbnQ2NF90IG92cmVycjox
OwotCQl1aW50NjRfdCBwY3RlcnI6MTsKLQkJdWludDY0X3QgcnN2ZXJyOjE7Ci0JCXVpbnQ2NF90
IGZhbGVycjoxOwotCQl1aW50NjRfdCBjb2xkZXQ6MTsKLQkJdWludDY0X3QgaWZnZXJyOjE7Ci0J
CXVpbnQ2NF90IHJlc2VydmVkXzE2XzE4OjM7Ci0JCXVpbnQ2NF90IHBhdXNlX2RycDoxOwotCQl1
aW50NjRfdCBsb2NfZmF1bHQ6MTsKLQkJdWludDY0X3QgcmVtX2ZhdWx0OjE7Ci0JCXVpbnQ2NF90
IGJhZF9zZXE6MTsKLQkJdWludDY0X3QgYmFkX3Rlcm06MTsKLQkJdWludDY0X3QgdW5zb3A6MTsK
LQkJdWludDY0X3QgdW5lb3A6MTsKLQkJdWludDY0X3QgdW5kYXQ6MTsKLQkJdWludDY0X3QgaGcy
ZmxkOjE7Ci0JCXVpbnQ2NF90IGhnMmNjOjE7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzI5XzYzOjM1
OwotCX0gY241Mnh4OwotCXN0cnVjdCBjdm14X2dteHhfcnh4X2ludF9yZWdfY241Nnh4cDEgewot
CQl1aW50NjRfdCByZXNlcnZlZF8wXzA6MTsKLQkJdWludDY0X3QgY2FyZXh0OjE7Ci0JCXVpbnQ2
NF90IHJlc2VydmVkXzJfMjoxOwotCQl1aW50NjRfdCBqYWJiZXI6MTsKLQkJdWludDY0X3QgZmNz
ZXJyOjE7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzVfNjoyOwotCQl1aW50NjRfdCByY3ZlcnI6MTsK
LQkJdWludDY0X3Qgc2twZXJyOjE7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzlfOToxOwotCQl1aW50
NjRfdCBvdnJlcnI6MTsKLQkJdWludDY0X3QgcGN0ZXJyOjE7Ci0JCXVpbnQ2NF90IHJzdmVycjox
OwotCQl1aW50NjRfdCBmYWxlcnI6MTsKLQkJdWludDY0X3QgY29sZGV0OjE7Ci0JCXVpbnQ2NF90
IGlmZ2VycjoxOwotCQl1aW50NjRfdCByZXNlcnZlZF8xNl8xODozOwotCQl1aW50NjRfdCBwYXVz
ZV9kcnA6MTsKLQkJdWludDY0X3QgbG9jX2ZhdWx0OjE7Ci0JCXVpbnQ2NF90IHJlbV9mYXVsdDox
OwotCQl1aW50NjRfdCBiYWRfc2VxOjE7Ci0JCXVpbnQ2NF90IGJhZF90ZXJtOjE7Ci0JCXVpbnQ2
NF90IHVuc29wOjE7Ci0JCXVpbnQ2NF90IHVuZW9wOjE7Ci0JCXVpbnQ2NF90IHVuZGF0OjE7Ci0J
CXVpbnQ2NF90IHJlc2VydmVkXzI3XzYzOjM3OwotCX0gY241Nnh4cDE7Ci0Jc3RydWN0IGN2bXhf
Z214eF9yeHhfaW50X3JlZ19jbjU4eHggewotCQl1aW50NjRfdCBtaW5lcnI6MTsKLQkJdWludDY0
X3QgY2FyZXh0OjE7Ci0JCXVpbnQ2NF90IG1heGVycjoxOwotCQl1aW50NjRfdCBqYWJiZXI6MTsK
LQkJdWludDY0X3QgZmNzZXJyOjE7Ci0JCXVpbnQ2NF90IGFsbmVycjoxOwotCQl1aW50NjRfdCBs
ZW5lcnI6MTsKLQkJdWludDY0X3QgcmN2ZXJyOjE7Ci0JCXVpbnQ2NF90IHNrcGVycjoxOwotCQl1
aW50NjRfdCBuaWJlcnI6MTsKLQkJdWludDY0X3Qgb3ZyZXJyOjE7Ci0JCXVpbnQ2NF90IHBjdGVy
cjoxOwotCQl1aW50NjRfdCByc3ZlcnI6MTsKLQkJdWludDY0X3QgZmFsZXJyOjE7Ci0JCXVpbnQ2
NF90IGNvbGRldDoxOwotCQl1aW50NjRfdCBpZmdlcnI6MTsKLQkJdWludDY0X3QgcGh5X2xpbms6
MTsKLQkJdWludDY0X3QgcGh5X3NwZDoxOwotCQl1aW50NjRfdCBwaHlfZHVweDoxOwotCQl1aW50
NjRfdCBwYXVzZV9kcnA6MTsKLQkJdWludDY0X3QgcmVzZXJ2ZWRfMjBfNjM6NDQ7Ci0JfSBjbjU4
eHg7Ci0Jc3RydWN0IGN2bXhfZ214eF9yeHhfaW50X3JlZ19jbjYxeHggewotCQl1aW50NjRfdCBt
aW5lcnI6MTsKLQkJdWludDY0X3QgY2FyZXh0OjE7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzJfMjox
OwotCQl1aW50NjRfdCBqYWJiZXI6MTsKLQkJdWludDY0X3QgZmNzZXJyOjE7Ci0JCXVpbnQ2NF90
IHJlc2VydmVkXzVfNjoyOwotCQl1aW50NjRfdCByY3ZlcnI6MTsKLQkJdWludDY0X3Qgc2twZXJy
OjE7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzlfOToxOwotCQl1aW50NjRfdCBvdnJlcnI6MTsKLQkJ
dWludDY0X3QgcGN0ZXJyOjE7Ci0JCXVpbnQ2NF90IHJzdmVycjoxOwotCQl1aW50NjRfdCBmYWxl
cnI6MTsKLQkJdWludDY0X3QgY29sZGV0OjE7Ci0JCXVpbnQ2NF90IGlmZ2VycjoxOwotCQl1aW50
NjRfdCByZXNlcnZlZF8xNl8xODozOwotCQl1aW50NjRfdCBwYXVzZV9kcnA6MTsKLQkJdWludDY0
X3QgbG9jX2ZhdWx0OjE7Ci0JCXVpbnQ2NF90IHJlbV9mYXVsdDoxOwotCQl1aW50NjRfdCBiYWRf
c2VxOjE7Ci0JCXVpbnQ2NF90IGJhZF90ZXJtOjE7Ci0JCXVpbnQ2NF90IHVuc29wOjE7Ci0JCXVp
bnQ2NF90IHVuZW9wOjE7Ci0JCXVpbnQ2NF90IHVuZGF0OjE7Ci0JCXVpbnQ2NF90IGhnMmZsZDox
OwotCQl1aW50NjRfdCBoZzJjYzoxOwotCQl1aW50NjRfdCByZXNlcnZlZF8yOV82MzozNTsKLQl9
IGNuNjF4eDsKLX07Ci0KLXVuaW9uIGN2bXhfZ214eF9wcnR4X2NmZyB7Ci0JdWludDY0X3QgdTY0
OwotCXN0cnVjdCBjdm14X2dteHhfcHJ0eF9jZmdfcyB7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzIy
XzYzOjQyOwotCQl1aW50NjRfdCBwa25kOjY7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzE0XzE1OjI7
Ci0JCXVpbnQ2NF90IHR4X2lkbGU6MTsKLQkJdWludDY0X3QgcnhfaWRsZToxOwotCQl1aW50NjRf
dCByZXNlcnZlZF85XzExOjM7Ci0JCXVpbnQ2NF90IHNwZWVkX21zYjoxOwotCQl1aW50NjRfdCBy
ZXNlcnZlZF80Xzc6NDsKLQkJdWludDY0X3Qgc2xvdHRpbWU6MTsKLQkJdWludDY0X3QgZHVwbGV4
OjE7Ci0JCXVpbnQ2NF90IHNwZWVkOjE7Ci0JCXVpbnQ2NF90IGVuOjE7Ci0JfSBzOwotCXN0cnVj
dCBjdm14X2dteHhfcHJ0eF9jZmdfY24zMHh4IHsKLQkJdWludDY0X3QgcmVzZXJ2ZWRfNF82Mzo2
MDsKLQkJdWludDY0X3Qgc2xvdHRpbWU6MTsKLQkJdWludDY0X3QgZHVwbGV4OjE7Ci0JCXVpbnQ2
NF90IHNwZWVkOjE7Ci0JCXVpbnQ2NF90IGVuOjE7Ci0JfSBjbjMweHg7Ci0Jc3RydWN0IGN2bXhf
Z214eF9wcnR4X2NmZ19jbjUyeHggewotCQl1aW50NjRfdCByZXNlcnZlZF8xNF82Mzo1MDsKLQkJ
dWludDY0X3QgdHhfaWRsZToxOwotCQl1aW50NjRfdCByeF9pZGxlOjE7Ci0JCXVpbnQ2NF90IHJl
c2VydmVkXzlfMTE6MzsKLQkJdWludDY0X3Qgc3BlZWRfbXNiOjE7Ci0JCXVpbnQ2NF90IHJlc2Vy
dmVkXzRfNzo0OwotCQl1aW50NjRfdCBzbG90dGltZToxOwotCQl1aW50NjRfdCBkdXBsZXg6MTsK
LQkJdWludDY0X3Qgc3BlZWQ6MTsKLQkJdWludDY0X3QgZW46MTsKLQl9IGNuNTJ4eDsKLX07Ci0K
LXVuaW9uIGN2bXhfZ214eF9yeHhfYWRyX2N0bCB7Ci0JdWludDY0X3QgdTY0OwotCXN0cnVjdCBj
dm14X2dteHhfcnh4X2Fkcl9jdGxfcyB7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzRfNjM6NjA7Ci0J
CXVpbnQ2NF90IGNhbV9tb2RlOjE7Ci0JCXVpbnQ2NF90IG1jc3Q6MjsKLQkJdWludDY0X3QgYmNz
dDoxOwotCX0gczsKLX07Ci0KLXVuaW9uIGN2bXhfcGlwX3BydF90YWd4IHsKLQl1aW50NjRfdCB1
NjQ7Ci0Jc3RydWN0IGN2bXhfcGlwX3BydF90YWd4X3MgewotCQl1aW50NjRfdCByZXNlcnZlZF81
NF82MzoxMDsKLQkJdWludDY0X3QgcG9ydGFkZF9lbjoxOwotCQl1aW50NjRfdCBpbmNfaHdjaGs6
MTsKLQkJdWludDY0X3QgcmVzZXJ2ZWRfNTBfNTE6MjsKLQkJdWludDY0X3QgZ3JwdGFnYmFzZV9t
c2I6MjsKLQkJdWludDY0X3QgcmVzZXJ2ZWRfNDZfNDc6MjsKLQkJdWludDY0X3QgZ3JwdGFnbWFz
a19tc2I6MjsKLQkJdWludDY0X3QgcmVzZXJ2ZWRfNDJfNDM6MjsKLQkJdWludDY0X3QgZ3JwX21z
YjoyOwotCQl1aW50NjRfdCBncnB0YWdiYXNlOjQ7Ci0JCXVpbnQ2NF90IGdycHRhZ21hc2s6NDsK
LQkJdWludDY0X3QgZ3JwdGFnOjE7Ci0JCXVpbnQ2NF90IGdycHRhZ19tc2tpcDoxOwotCQl1aW50
NjRfdCB0YWdfbW9kZToyOwotCQl1aW50NjRfdCBpbmNfdnM6MjsKLQkJdWludDY0X3QgaW5jX3Zs
YW46MTsKLQkJdWludDY0X3QgaW5jX3BydF9mbGFnOjE7Ci0JCXVpbnQ2NF90IGlwNl9kcHJ0X2Zs
YWc6MTsKLQkJdWludDY0X3QgaXA0X2RwcnRfZmxhZzoxOwotCQl1aW50NjRfdCBpcDZfc3BydF9m
bGFnOjE7Ci0JCXVpbnQ2NF90IGlwNF9zcHJ0X2ZsYWc6MTsKLQkJdWludDY0X3QgaXA2X254dGhf
ZmxhZzoxOwotCQl1aW50NjRfdCBpcDRfcGN0bF9mbGFnOjE7Ci0JCXVpbnQ2NF90IGlwNl9kc3Rf
ZmxhZzoxOwotCQl1aW50NjRfdCBpcDRfZHN0X2ZsYWc6MTsKLQkJdWludDY0X3QgaXA2X3NyY19m
bGFnOjE7Ci0JCXVpbnQ2NF90IGlwNF9zcmNfZmxhZzoxOwotCQl1aW50NjRfdCB0Y3A2X3RhZ190
eXBlOjI7Ci0JCXVpbnQ2NF90IHRjcDRfdGFnX3R5cGU6MjsKLQkJdWludDY0X3QgaXA2X3RhZ190
eXBlOjI7Ci0JCXVpbnQ2NF90IGlwNF90YWdfdHlwZToyOwotCQl1aW50NjRfdCBub25fdGFnX3R5
cGU6MjsKLQkJdWludDY0X3QgZ3JwOjQ7Ci0JfSBzOwotCXN0cnVjdCBjdm14X3BpcF9wcnRfdGFn
eF9jbjMweHggewotCQl1aW50NjRfdCByZXNlcnZlZF80MF82MzoyNDsKLQkJdWludDY0X3QgZ3Jw
dGFnYmFzZTo0OwotCQl1aW50NjRfdCBncnB0YWdtYXNrOjQ7Ci0JCXVpbnQ2NF90IGdycHRhZzox
OwotCQl1aW50NjRfdCByZXNlcnZlZF8zMF8zMDoxOwotCQl1aW50NjRfdCB0YWdfbW9kZToyOwot
CQl1aW50NjRfdCBpbmNfdnM6MjsKLQkJdWludDY0X3QgaW5jX3ZsYW46MTsKLQkJdWludDY0X3Qg
aW5jX3BydF9mbGFnOjE7Ci0JCXVpbnQ2NF90IGlwNl9kcHJ0X2ZsYWc6MTsKLQkJdWludDY0X3Qg
aXA0X2RwcnRfZmxhZzoxOwotCQl1aW50NjRfdCBpcDZfc3BydF9mbGFnOjE7Ci0JCXVpbnQ2NF90
IGlwNF9zcHJ0X2ZsYWc6MTsKLQkJdWludDY0X3QgaXA2X254dGhfZmxhZzoxOwotCQl1aW50NjRf
dCBpcDRfcGN0bF9mbGFnOjE7Ci0JCXVpbnQ2NF90IGlwNl9kc3RfZmxhZzoxOwotCQl1aW50NjRf
dCBpcDRfZHN0X2ZsYWc6MTsKLQkJdWludDY0X3QgaXA2X3NyY19mbGFnOjE7Ci0JCXVpbnQ2NF90
IGlwNF9zcmNfZmxhZzoxOwotCQl1aW50NjRfdCB0Y3A2X3RhZ190eXBlOjI7Ci0JCXVpbnQ2NF90
IHRjcDRfdGFnX3R5cGU6MjsKLQkJdWludDY0X3QgaXA2X3RhZ190eXBlOjI7Ci0JCXVpbnQ2NF90
IGlwNF90YWdfdHlwZToyOwotCQl1aW50NjRfdCBub25fdGFnX3R5cGU6MjsKLQkJdWludDY0X3Qg
Z3JwOjQ7Ci0JfSBjbjMweHg7Ci0Jc3RydWN0IGN2bXhfcGlwX3BydF90YWd4X2NuNTB4eCB7Ci0J
CXVpbnQ2NF90IHJlc2VydmVkXzQwXzYzOjI0OwotCQl1aW50NjRfdCBncnB0YWdiYXNlOjQ7Ci0J
CXVpbnQ2NF90IGdycHRhZ21hc2s6NDsKLQkJdWludDY0X3QgZ3JwdGFnOjE7Ci0JCXVpbnQ2NF90
IGdycHRhZ19tc2tpcDoxOwotCQl1aW50NjRfdCB0YWdfbW9kZToyOwotCQl1aW50NjRfdCBpbmNf
dnM6MjsKLQkJdWludDY0X3QgaW5jX3ZsYW46MTsKLQkJdWludDY0X3QgaW5jX3BydF9mbGFnOjE7
Ci0JCXVpbnQ2NF90IGlwNl9kcHJ0X2ZsYWc6MTsKLQkJdWludDY0X3QgaXA0X2RwcnRfZmxhZzox
OwotCQl1aW50NjRfdCBpcDZfc3BydF9mbGFnOjE7Ci0JCXVpbnQ2NF90IGlwNF9zcHJ0X2ZsYWc6
MTsKLQkJdWludDY0X3QgaXA2X254dGhfZmxhZzoxOwotCQl1aW50NjRfdCBpcDRfcGN0bF9mbGFn
OjE7Ci0JCXVpbnQ2NF90IGlwNl9kc3RfZmxhZzoxOwotCQl1aW50NjRfdCBpcDRfZHN0X2ZsYWc6
MTsKLQkJdWludDY0X3QgaXA2X3NyY19mbGFnOjE7Ci0JCXVpbnQ2NF90IGlwNF9zcmNfZmxhZzox
OwotCQl1aW50NjRfdCB0Y3A2X3RhZ190eXBlOjI7Ci0JCXVpbnQ2NF90IHRjcDRfdGFnX3R5cGU6
MjsKLQkJdWludDY0X3QgaXA2X3RhZ190eXBlOjI7Ci0JCXVpbnQ2NF90IGlwNF90YWdfdHlwZToy
OwotCQl1aW50NjRfdCBub25fdGFnX3R5cGU6MjsKLQkJdWludDY0X3QgZ3JwOjQ7Ci0JfSBjbjUw
eHg7Ci19OwotCi11bmlvbiBjdm14X3NweHhfaW50X3JlZyB7Ci0JdWludDY0X3QgdTY0OwotCXN0
cnVjdCBjdm14X3NweHhfaW50X3JlZ19zIHsKLQkJdWludDY0X3QgcmVzZXJ2ZWRfMzJfNjM6MzI7
Ci0JCXVpbnQ2NF90IHNwZjoxOwotCQl1aW50NjRfdCByZXNlcnZlZF8xMl8zMDoxOTsKLQkJdWlu
dDY0X3QgY2FsZXJyOjE7Ci0JCXVpbnQ2NF90IHN5bmNlcnI6MTsKLQkJdWludDY0X3QgZGlwZXJy
OjE7Ci0JCXVpbnQ2NF90IHRwYW92cjoxOwotCQl1aW50NjRfdCByc3ZlcnI6MTsKLQkJdWludDY0
X3QgZHJ3bm5nOjE7Ci0JCXVpbnQ2NF90IGNsc2VycjoxOwotCQl1aW50NjRfdCBzcGlvdnI6MTsK
LQkJdWludDY0X3QgcmVzZXJ2ZWRfMl8zOjI7Ci0JCXVpbnQ2NF90IGFibm9ybToxOwotCQl1aW50
NjRfdCBwcnRueGE6MTsKLQl9IHM7Ci19OwotCi11bmlvbiBjdm14X3NweHhfaW50X21zayB7Ci0J
dWludDY0X3QgdTY0OwotCXN0cnVjdCBjdm14X3NweHhfaW50X21za19zIHsKLQkJdWludDY0X3Qg
cmVzZXJ2ZWRfMTJfNjM6NTI7Ci0JCXVpbnQ2NF90IGNhbGVycjoxOwotCQl1aW50NjRfdCBzeW5j
ZXJyOjE7Ci0JCXVpbnQ2NF90IGRpcGVycjoxOwotCQl1aW50NjRfdCB0cGFvdnI6MTsKLQkJdWlu
dDY0X3QgcnN2ZXJyOjE7Ci0JCXVpbnQ2NF90IGRyd25uZzoxOwotCQl1aW50NjRfdCBjbHNlcnI6
MTsKLQkJdWludDY0X3Qgc3Bpb3ZyOjE7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzJfMzoyOwotCQl1
aW50NjRfdCBhYm5vcm06MTsKLQkJdWludDY0X3QgcHJ0bnhhOjE7Ci0JfSBzOwotfTsKLQotdW5p
b24gY3ZteF9wb3dfd3FfaW50IHsKLQl1aW50NjRfdCB1NjQ7Ci0Jc3RydWN0IGN2bXhfcG93X3dx
X2ludF9zIHsKLQkJdWludDY0X3Qgd3FfaW50OjE2OwotCQl1aW50NjRfdCBpcV9kaXM6MTY7Ci0J
CXVpbnQ2NF90IHJlc2VydmVkXzMyXzYzOjMyOwotCX0gczsKLX07Ci0KLXVuaW9uIGN2bXhfc3Nv
X3dxX2ludF90aHJ4IHsKLQl1aW50NjRfdCB1NjQ7Ci0Jc3RydWN0IHsKLQkJdWludDY0X3QgaXFf
dGhyOjEyOwotCQl1aW50NjRfdCByZXNlcnZlZF8xMl8xMzoyOwotCQl1aW50NjRfdCBkc190aHI6
MTI7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzI2XzI3OjI7Ci0JCXVpbnQ2NF90IHRjX3Rocjo0Owot
CQl1aW50NjRfdCB0Y19lbjoxOwotCQl1aW50NjRfdCByZXNlcnZlZF8zM182MzozMTsKLQl9IHM7
Ci19OwotCi11bmlvbiBjdm14X3N0eHhfaW50X3JlZyB7Ci0JdWludDY0X3QgdTY0OwotCXN0cnVj
dCBjdm14X3N0eHhfaW50X3JlZ19zIHsKLQkJdWludDY0X3QgcmVzZXJ2ZWRfOV82Mzo1NTsKLQkJ
dWludDY0X3Qgc3luY2VycjoxOwotCQl1aW50NjRfdCBmcm1lcnI6MTsKLQkJdWludDY0X3QgdW54
ZnJtOjE7Ci0JCXVpbnQ2NF90IG5vc3luYzoxOwotCQl1aW50NjRfdCBkaXBlcnI6MTsKLQkJdWlu
dDY0X3QgZGF0b3ZyOjE7Ci0JCXVpbnQ2NF90IG92cmJzdDoxOwotCQl1aW50NjRfdCBjYWxwYXIx
OjE7Ci0JCXVpbnQ2NF90IGNhbHBhcjA6MTsKLQl9IHM7Ci19OwotCi11bmlvbiBjdm14X3N0eHhf
aW50X21zayB7Ci0JdWludDY0X3QgdTY0OwotCXN0cnVjdCBjdm14X3N0eHhfaW50X21za19zIHsK
LQkJdWludDY0X3QgcmVzZXJ2ZWRfOF82Mzo1NjsKLQkJdWludDY0X3QgZnJtZXJyOjE7Ci0JCXVp
bnQ2NF90IHVueGZybToxOwotCQl1aW50NjRfdCBub3N5bmM6MTsKLQkJdWludDY0X3QgZGlwZXJy
OjE7Ci0JCXVpbnQ2NF90IGRhdG92cjoxOwotCQl1aW50NjRfdCBvdnJic3Q6MTsKLQkJdWludDY0
X3QgY2FscGFyMToxOwotCQl1aW50NjRfdCBjYWxwYXIwOjE7Ci0JfSBzOwotfTsKLQotdW5pb24g
Y3ZteF9wb3dfd3FfaW50X3BjIHsKLQl1aW50NjRfdCB1NjQ7Ci0Jc3RydWN0IGN2bXhfcG93X3dx
X2ludF9wY19zIHsKLQkJdWludDY0X3QgcmVzZXJ2ZWRfMF83Ojg7Ci0JCXVpbnQ2NF90IHBjX3Ro
cjoyMDsKLQkJdWludDY0X3QgcmVzZXJ2ZWRfMjhfMzE6NDsKLQkJdWludDY0X3QgcGM6Mjg7Ci0J
CXVpbnQ2NF90IHJlc2VydmVkXzYwXzYzOjQ7Ci0JfSBzOwotfTsKLQotdW5pb24gY3ZteF9wb3df
d3FfaW50X3RocnggewotCXVpbnQ2NF90IHU2NDsKLQlzdHJ1Y3QgY3ZteF9wb3dfd3FfaW50X3Ro
cnhfcyB7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzI5XzYzOjM1OwotCQl1aW50NjRfdCB0Y19lbjox
OwotCQl1aW50NjRfdCB0Y190aHI6NDsKLQkJdWludDY0X3QgcmVzZXJ2ZWRfMjNfMjM6MTsKLQkJ
dWludDY0X3QgZHNfdGhyOjExOwotCQl1aW50NjRfdCByZXNlcnZlZF8xMV8xMToxOwotCQl1aW50
NjRfdCBpcV90aHI6MTE7Ci0JfSBzOwotCXN0cnVjdCBjdm14X3Bvd193cV9pbnRfdGhyeF9jbjMw
eHggewotCQl1aW50NjRfdCByZXNlcnZlZF8yOV82MzozNTsKLQkJdWludDY0X3QgdGNfZW46MTsK
LQkJdWludDY0X3QgdGNfdGhyOjQ7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzE4XzIzOjY7Ci0JCXVp
bnQ2NF90IGRzX3Rocjo2OwotCQl1aW50NjRfdCByZXNlcnZlZF82XzExOjY7Ci0JCXVpbnQ2NF90
IGlxX3Rocjo2OwotCX0gY24zMHh4OwotCXN0cnVjdCBjdm14X3Bvd193cV9pbnRfdGhyeF9jbjMx
eHggewotCQl1aW50NjRfdCByZXNlcnZlZF8yOV82MzozNTsKLQkJdWludDY0X3QgdGNfZW46MTsK
LQkJdWludDY0X3QgdGNfdGhyOjQ7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzIwXzIzOjQ7Ci0JCXVp
bnQ2NF90IGRzX3Rocjo4OwotCQl1aW50NjRfdCByZXNlcnZlZF84XzExOjQ7Ci0JCXVpbnQ2NF90
IGlxX3Rocjo4OwotCX0gY24zMXh4OwotCXN0cnVjdCBjdm14X3Bvd193cV9pbnRfdGhyeF9jbjUy
eHggewotCQl1aW50NjRfdCByZXNlcnZlZF8yOV82MzozNTsKLQkJdWludDY0X3QgdGNfZW46MTsK
LQkJdWludDY0X3QgdGNfdGhyOjQ7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzIxXzIzOjM7Ci0JCXVp
bnQ2NF90IGRzX3Rocjo5OwotCQl1aW50NjRfdCByZXNlcnZlZF85XzExOjM7Ci0JCXVpbnQ2NF90
IGlxX3Rocjo5OwotCX0gY241Mnh4OwotCXN0cnVjdCBjdm14X3Bvd193cV9pbnRfdGhyeF9jbjYz
eHggewotCQl1aW50NjRfdCByZXNlcnZlZF8yOV82MzozNTsKLQkJdWludDY0X3QgdGNfZW46MTsK
LQkJdWludDY0X3QgdGNfdGhyOjQ7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzIyXzIzOjI7Ci0JCXVp
bnQ2NF90IGRzX3RocjoxMDsKLQkJdWludDY0X3QgcmVzZXJ2ZWRfMTBfMTE6MjsKLQkJdWludDY0
X3QgaXFfdGhyOjEwOwotCX0gY242M3h4OwotfTsKLQotdW5pb24gY3ZteF9ucGlfcnNsX2ludF9i
bG9ja3MgewotCXVpbnQ2NF90IHU2NDsKLQlzdHJ1Y3QgY3ZteF9ucGlfcnNsX2ludF9ibG9ja3Nf
cyB7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzMyXzYzOjMyOwotCQl1aW50NjRfdCByaW50XzMxOjE7
Ci0JCXVpbnQ2NF90IGlvYjoxOwotCQl1aW50NjRfdCByZXNlcnZlZF8yOF8yOToyOwotCQl1aW50
NjRfdCByaW50XzI3OjE7Ci0JCXVpbnQ2NF90IHJpbnRfMjY6MTsKLQkJdWludDY0X3QgcmludF8y
NToxOwotCQl1aW50NjRfdCByaW50XzI0OjE7Ci0JCXVpbnQ2NF90IGFzeDE6MTsKLQkJdWludDY0
X3QgYXN4MDoxOwotCQl1aW50NjRfdCByaW50XzIxOjE7Ci0JCXVpbnQ2NF90IHBpcDoxOwotCQl1
aW50NjRfdCBzcHgxOjE7Ci0JCXVpbnQ2NF90IHNweDA6MTsKLQkJdWludDY0X3QgbG1jOjE7Ci0J
CXVpbnQ2NF90IGwyYzoxOwotCQl1aW50NjRfdCByaW50XzE1OjE7Ci0JCXVpbnQ2NF90IHJlc2Vy
dmVkXzEzXzE0OjI7Ci0JCXVpbnQ2NF90IHBvdzoxOwotCQl1aW50NjRfdCB0aW06MTsKLQkJdWlu
dDY0X3QgcGtvOjE7Ci0JCXVpbnQ2NF90IGlwZDoxOwotCQl1aW50NjRfdCByaW50Xzg6MTsKLQkJ
dWludDY0X3QgemlwOjE7Ci0JCXVpbnQ2NF90IGRmYToxOwotCQl1aW50NjRfdCBmcGE6MTsKLQkJ
dWludDY0X3Qga2V5OjE7Ci0JCXVpbnQ2NF90IG5waToxOwotCQl1aW50NjRfdCBnbXgxOjE7Ci0J
CXVpbnQ2NF90IGdteDA6MTsKLQkJdWludDY0X3QgbWlvOjE7Ci0JfSBzOwotCXN0cnVjdCBjdm14
X25waV9yc2xfaW50X2Jsb2Nrc19jbjMweHggewotCQl1aW50NjRfdCByZXNlcnZlZF8zMl82Mzoz
MjsKLQkJdWludDY0X3QgcmludF8zMToxOwotCQl1aW50NjRfdCBpb2I6MTsKLQkJdWludDY0X3Qg
cmludF8yOToxOwotCQl1aW50NjRfdCByaW50XzI4OjE7Ci0JCXVpbnQ2NF90IHJpbnRfMjc6MTsK
LQkJdWludDY0X3QgcmludF8yNjoxOwotCQl1aW50NjRfdCByaW50XzI1OjE7Ci0JCXVpbnQ2NF90
IHJpbnRfMjQ6MTsKLQkJdWludDY0X3QgYXN4MToxOwotCQl1aW50NjRfdCBhc3gwOjE7Ci0JCXVp
bnQ2NF90IHJpbnRfMjE6MTsKLQkJdWludDY0X3QgcGlwOjE7Ci0JCXVpbnQ2NF90IHNweDE6MTsK
LQkJdWludDY0X3Qgc3B4MDoxOwotCQl1aW50NjRfdCBsbWM6MTsKLQkJdWludDY0X3QgbDJjOjE7
Ci0JCXVpbnQ2NF90IHJpbnRfMTU6MTsKLQkJdWludDY0X3QgcmludF8xNDoxOwotCQl1aW50NjRf
dCB1c2I6MTsKLQkJdWludDY0X3QgcG93OjE7Ci0JCXVpbnQ2NF90IHRpbToxOwotCQl1aW50NjRf
dCBwa286MTsKLQkJdWludDY0X3QgaXBkOjE7Ci0JCXVpbnQ2NF90IHJpbnRfODoxOwotCQl1aW50
NjRfdCB6aXA6MTsKLQkJdWludDY0X3QgZGZhOjE7Ci0JCXVpbnQ2NF90IGZwYToxOwotCQl1aW50
NjRfdCBrZXk6MTsKLQkJdWludDY0X3QgbnBpOjE7Ci0JCXVpbnQ2NF90IGdteDE6MTsKLQkJdWlu
dDY0X3QgZ214MDoxOwotCQl1aW50NjRfdCBtaW86MTsKLQl9IGNuMzB4eDsKLQlzdHJ1Y3QgY3Zt
eF9ucGlfcnNsX2ludF9ibG9ja3NfY24zOHh4IHsKLQkJdWludDY0X3QgcmVzZXJ2ZWRfMzJfNjM6
MzI7Ci0JCXVpbnQ2NF90IHJpbnRfMzE6MTsKLQkJdWludDY0X3QgaW9iOjE7Ci0JCXVpbnQ2NF90
IHJpbnRfMjk6MTsKLQkJdWludDY0X3QgcmludF8yODoxOwotCQl1aW50NjRfdCByaW50XzI3OjE7
Ci0JCXVpbnQ2NF90IHJpbnRfMjY6MTsKLQkJdWludDY0X3QgcmludF8yNToxOwotCQl1aW50NjRf
dCByaW50XzI0OjE7Ci0JCXVpbnQ2NF90IGFzeDE6MTsKLQkJdWludDY0X3QgYXN4MDoxOwotCQl1
aW50NjRfdCByaW50XzIxOjE7Ci0JCXVpbnQ2NF90IHBpcDoxOwotCQl1aW50NjRfdCBzcHgxOjE7
Ci0JCXVpbnQ2NF90IHNweDA6MTsKLQkJdWludDY0X3QgbG1jOjE7Ci0JCXVpbnQ2NF90IGwyYzox
OwotCQl1aW50NjRfdCByaW50XzE1OjE7Ci0JCXVpbnQ2NF90IHJpbnRfMTQ6MTsKLQkJdWludDY0
X3QgcmludF8xMzoxOwotCQl1aW50NjRfdCBwb3c6MTsKLQkJdWludDY0X3QgdGltOjE7Ci0JCXVp
bnQ2NF90IHBrbzoxOwotCQl1aW50NjRfdCBpcGQ6MTsKLQkJdWludDY0X3QgcmludF84OjE7Ci0J
CXVpbnQ2NF90IHppcDoxOwotCQl1aW50NjRfdCBkZmE6MTsKLQkJdWludDY0X3QgZnBhOjE7Ci0J
CXVpbnQ2NF90IGtleToxOwotCQl1aW50NjRfdCBucGk6MTsKLQkJdWludDY0X3QgZ214MToxOwot
CQl1aW50NjRfdCBnbXgwOjE7Ci0JCXVpbnQ2NF90IG1pbzoxOwotCX0gY24zOHh4OwotCXN0cnVj
dCBjdm14X25waV9yc2xfaW50X2Jsb2Nrc19jbjUweHggewotCQl1aW50NjRfdCByZXNlcnZlZF8z
MV82MzozMzsKLQkJdWludDY0X3QgaW9iOjE7Ci0JCXVpbnQ2NF90IGxtYzE6MTsKLQkJdWludDY0
X3QgYWdsOjE7Ci0JCXVpbnQ2NF90IHJlc2VydmVkXzI0XzI3OjQ7Ci0JCXVpbnQ2NF90IGFzeDE6
MTsKLQkJdWludDY0X3QgYXN4MDoxOwotCQl1aW50NjRfdCByZXNlcnZlZF8yMV8yMToxOwotCQl1
aW50NjRfdCBwaXA6MTsKLQkJdWludDY0X3Qgc3B4MToxOwotCQl1aW50NjRfdCBzcHgwOjE7Ci0J
CXVpbnQ2NF90IGxtYzoxOwotCQl1aW50NjRfdCBsMmM6MTsKLQkJdWludDY0X3QgcmVzZXJ2ZWRf
MTVfMTU6MTsKLQkJdWludDY0X3QgcmFkOjE7Ci0JCXVpbnQ2NF90IHVzYjoxOwotCQl1aW50NjRf
dCBwb3c6MTsKLQkJdWludDY0X3QgdGltOjE7Ci0JCXVpbnQ2NF90IHBrbzoxOwotCQl1aW50NjRf
dCBpcGQ6MTsKLQkJdWludDY0X3QgcmVzZXJ2ZWRfOF84OjE7Ci0JCXVpbnQ2NF90IHppcDoxOwot
CQl1aW50NjRfdCBkZmE6MTsKLQkJdWludDY0X3QgZnBhOjE7Ci0JCXVpbnQ2NF90IGtleToxOwot
CQl1aW50NjRfdCBucGk6MTsKLQkJdWludDY0X3QgZ214MToxOwotCQl1aW50NjRfdCBnbXgwOjE7
Ci0JCXVpbnQ2NF90IG1pbzoxOwotCX0gY241MHh4OwotfTsKLQotdW5pb24gY3ZteF9wa29fY29t
bWFuZF93b3JkMCB7Ci0JdWludDY0X3QgdTY0OwotCXN0cnVjdCB7Ci0JCXVpbnQ2NF90IHRvdGFs
X2J5dGVzOjE2OwotCQl1aW50NjRfdCBzZWdzOjY7Ci0JCXVpbnQ2NF90IGRvbnRmcmVlOjE7Ci0J
CXVpbnQ2NF90IGlnbm9yZV9pOjE7Ci0JCXVpbnQ2NF90IGlwb2ZmcDE6NzsKLQkJdWludDY0X3Qg
Z2F0aGVyOjE7Ci0JCXVpbnQ2NF90IHJzcDoxOwotCQl1aW50NjRfdCB3cXA6MTsKLQkJdWludDY0
X3QgbjI6MTsKLQkJdWludDY0X3QgbGU6MTsKLQkJdWludDY0X3QgcmVnMDoxMTsKLQkJdWludDY0
X3Qgc3Vib25lMDoxOwotCQl1aW50NjRfdCByZWcxOjExOwotCQl1aW50NjRfdCBzdWJvbmUxOjE7
Ci0JCXVpbnQ2NF90IHNpemUwOjI7Ci0JCXVpbnQ2NF90IHNpemUxOjI7Ci0JfSBzOwotfTsKLQot
dW5pb24gY3ZteF9jaXVfdGlteCB7Ci0JdWludDY0X3QgdTY0OwotCXN0cnVjdCBjdm14X2NpdV90
aW14X3MgewotCQl1aW50NjRfdCByZXNlcnZlZF8zN182MzoyNzsKLQkJdWludDY0X3Qgb25lX3No
b3Q6MTsKLQkJdWludDY0X3QgbGVuOjM2OwotCX0gczsKLX07Ci0KLXVuaW9uIGN2bXhfZ214eF9y
eHhfcnhfaW5ibmQgewotCXVpbnQ2NF90IHU2NDsKLQlzdHJ1Y3QgY3ZteF9nbXh4X3J4eF9yeF9p
bmJuZF9zIHsKLQkJdWludDY0X3Qgc3RhdHVzOjE7Ci0JCXVpbnQ2NF90IHNwZWVkOjI7Ci0JCXVp
bnQ2NF90IGR1cGxleDoxOwotCQl1aW50NjRfdCByZXNlcnZlZF80XzYzOjYwOwotCX0gczsKLX07
Ci0KLXN0YXRpYyBpbmxpbmUgaW50MzJfdCBjdm14X2ZhdV9mZXRjaF9hbmRfYWRkMzIoZW51bSBj
dm14X2ZhdV9yZWdfMzIgcmVnLAotCQkJCQkgICAgICAgaW50MzJfdCB2YWx1ZSkKLXsKLQlyZXR1
cm4gdmFsdWU7Ci19Ci0KLXN0YXRpYyBpbmxpbmUgdm9pZCBjdm14X2ZhdV9hdG9taWNfYWRkMzIo
ZW51bSBjdm14X2ZhdV9yZWdfMzIgcmVnLAotCQkJCQkgaW50MzJfdCB2YWx1ZSkKLXsgfQotCi1z
dGF0aWMgaW5saW5lIHZvaWQgY3ZteF9mYXVfYXRvbWljX3dyaXRlMzIoZW51bSBjdm14X2ZhdV9y
ZWdfMzIgcmVnLAotCQkJCQkgICBpbnQzMl90IHZhbHVlKQoteyB9Ci0KLXN0YXRpYyBpbmxpbmUg
dWludDY0X3QgY3ZteF9zY3JhdGNoX3JlYWQ2NCh1aW50NjRfdCBhZGRyZXNzKQotewotCXJldHVy
biAwOwotfQotCi1zdGF0aWMgaW5saW5lIHZvaWQgY3ZteF9zY3JhdGNoX3dyaXRlNjQodWludDY0
X3QgYWRkcmVzcywgdWludDY0X3QgdmFsdWUpCi17IH0KLQotc3RhdGljIGlubGluZSBpbnQgY3Zt
eF93cWVfZ2V0X2dycChzdHJ1Y3QgY3ZteF93cWUgKndvcmspCi17Ci0JcmV0dXJuIDA7Ci19Ci0K
LXN0YXRpYyBpbmxpbmUgdm9pZCAqY3ZteF9waHlzX3RvX3B0cih1aW50NjRfdCBwaHlzaWNhbF9h
ZGRyZXNzKQotewotCXJldHVybiAodm9pZCAqKSh1aW50cHRyX3QpKHBoeXNpY2FsX2FkZHJlc3Mp
OwotfQotCi1zdGF0aWMgaW5saW5lIHVpbnQ2NF90IGN2bXhfcHRyX3RvX3BoeXModm9pZCAqcHRy
KQotewotCXJldHVybiAodW5zaWduZWQgbG9uZylwdHI7Ci19Ci0KLXN0YXRpYyBpbmxpbmUgaW50
IGN2bXhfaGVscGVyX2dldF9pbnRlcmZhY2VfbnVtKGludCBpcGRfcG9ydCkKLXsKLQlyZXR1cm4g
aXBkX3BvcnQ7Ci19Ci0KLXN0YXRpYyBpbmxpbmUgaW50IGN2bXhfaGVscGVyX2dldF9pbnRlcmZh
Y2VfaW5kZXhfbnVtKGludCBpcGRfcG9ydCkKLXsKLQlyZXR1cm4gaXBkX3BvcnQ7Ci19Ci0KLXN0
YXRpYyBpbmxpbmUgdm9pZCBjdm14X2ZwYV9lbmFibGUodm9pZCkKLXsgfQotCi1zdGF0aWMgaW5s
aW5lIHVpbnQ2NF90IGN2bXhfcmVhZF9jc3IodWludDY0X3QgY3NyX2FkZHIpCi17Ci0JcmV0dXJu
IDA7Ci19Ci0KLXN0YXRpYyBpbmxpbmUgdm9pZCBjdm14X3dyaXRlX2Nzcih1aW50NjRfdCBjc3Jf
YWRkciwgdWludDY0X3QgdmFsKQoteyB9Ci0KLXN0YXRpYyBpbmxpbmUgaW50IGN2bXhfaGVscGVy
X3NldHVwX3JlZChpbnQgcGFzc190aHJlc2gsIGludCBkcm9wX3RocmVzaCkKLXsKLQlyZXR1cm4g
MDsKLX0KLQotc3RhdGljIGlubGluZSB2b2lkICpjdm14X2ZwYV9hbGxvYyh1aW50NjRfdCBwb29s
KQotewotCXJldHVybiBOVUxMOwotfQotCi1zdGF0aWMgaW5saW5lIHZvaWQgY3ZteF9mcGFfZnJl
ZSh2b2lkICpwdHIsIHVpbnQ2NF90IHBvb2wsCi0JCQkJIHVpbnQ2NF90IG51bV9jYWNoZV9saW5l
cykKLXsgfQotCi1zdGF0aWMgaW5saW5lIGludCBvY3Rlb25faXNfc2ltdWxhdGlvbih2b2lkKQot
ewotCXJldHVybiAxOwotfQotCi1zdGF0aWMgaW5saW5lIHZvaWQgY3ZteF9waXBfZ2V0X3BvcnRf
c3RhdHVzKHVpbnQ2NF90IHBvcnRfbnVtLCB1aW50NjRfdCBjbGVhciwKLQkJCQkJICAgIGN2bXhf
cGlwX3BvcnRfc3RhdHVzX3QgKnN0YXR1cykKLXsgfQotCi1zdGF0aWMgaW5saW5lIHZvaWQgY3Zt
eF9wa29fZ2V0X3BvcnRfc3RhdHVzKHVpbnQ2NF90IHBvcnRfbnVtLCB1aW50NjRfdCBjbGVhciwK
LQkJCQkJICAgIGN2bXhfcGtvX3BvcnRfc3RhdHVzX3QgKnN0YXR1cykKLXsgfQotCi1zdGF0aWMg
aW5saW5lIGN2bXhfaGVscGVyX2ludGVyZmFjZV9tb2RlX3QgY3ZteF9oZWxwZXJfaW50ZXJmYWNl
X2dldF9tb2RlKGludAotCQkJCQkJCQkgICBpbnRlcmZhY2UpCi17Ci0JcmV0dXJuIDA7Ci19Ci0K
LXN0YXRpYyBpbmxpbmUgdW5pb24gY3ZteF9oZWxwZXJfbGlua19pbmZvIGN2bXhfaGVscGVyX2xp
bmtfZ2V0KGludCBpcGRfcG9ydCkKLXsKLQl1bmlvbiBjdm14X2hlbHBlcl9saW5rX2luZm8gcmV0
ID0geyAudTY0ID0gMCB9OwotCi0JcmV0dXJuIHJldDsKLX0KLQotc3RhdGljIGlubGluZSBpbnQg
Y3ZteF9oZWxwZXJfbGlua19zZXQoaW50IGlwZF9wb3J0LAotCQkJCSAgICAgICB1bmlvbiBjdm14
X2hlbHBlcl9saW5rX2luZm8gbGlua19pbmZvKQotewotCXJldHVybiAwOwotfQotCi1zdGF0aWMg
aW5saW5lIGludCBjdm14X2hlbHBlcl9pbml0aWFsaXplX3BhY2tldF9pb19nbG9iYWwodm9pZCkK
LXsKLQlyZXR1cm4gMDsKLX0KLQotc3RhdGljIGlubGluZSBpbnQgY3ZteF9oZWxwZXJfZ2V0X251
bWJlcl9vZl9pbnRlcmZhY2VzKHZvaWQpCi17Ci0JcmV0dXJuIDI7Ci19Ci0KLXN0YXRpYyBpbmxp
bmUgaW50IGN2bXhfaGVscGVyX3BvcnRzX29uX2ludGVyZmFjZShpbnQgaW50ZXJmYWNlKQotewot
CXJldHVybiAxOwotfQotCi1zdGF0aWMgaW5saW5lIGludCBjdm14X2hlbHBlcl9nZXRfaXBkX3Bv
cnQoaW50IGludGVyZmFjZSwgaW50IHBvcnQpCi17Ci0JcmV0dXJuIDA7Ci19Ci0KLXN0YXRpYyBp
bmxpbmUgaW50IGN2bXhfaGVscGVyX2lwZF9hbmRfcGFja2V0X2lucHV0X2VuYWJsZSh2b2lkKQot
ewotCXJldHVybiAwOwotfQotCi1zdGF0aWMgaW5saW5lIHZvaWQgY3ZteF9pcGRfZGlzYWJsZSh2
b2lkKQoteyB9Ci0KLXN0YXRpYyBpbmxpbmUgdm9pZCBjdm14X2lwZF9mcmVlX3B0cih2b2lkKQot
eyB9Ci0KLXN0YXRpYyBpbmxpbmUgdm9pZCBjdm14X3Brb19kaXNhYmxlKHZvaWQpCi17IH0KLQot
c3RhdGljIGlubGluZSB2b2lkIGN2bXhfcGtvX3NodXRkb3duKHZvaWQpCi17IH0KLQotc3RhdGlj
IGlubGluZSBpbnQgY3ZteF9wa29fZ2V0X2Jhc2VfcXVldWVfcGVyX2NvcmUoaW50IHBvcnQsIGlu
dCBjb3JlKQotewotCXJldHVybiBwb3J0OwotfQotCi1zdGF0aWMgaW5saW5lIGludCBjdm14X3Br
b19nZXRfYmFzZV9xdWV1ZShpbnQgcG9ydCkKLXsKLQlyZXR1cm4gcG9ydDsKLX0KLQotc3RhdGlj
IGlubGluZSBpbnQgY3ZteF9wa29fZ2V0X251bV9xdWV1ZXMoaW50IHBvcnQpCi17Ci0JcmV0dXJu
IHBvcnQ7Ci19Ci0KLXN0YXRpYyBpbmxpbmUgdW5zaWduZWQgaW50IGN2bXhfZ2V0X2NvcmVfbnVt
KHZvaWQpCi17Ci0JcmV0dXJuIDA7Ci19Ci0KLXN0YXRpYyBpbmxpbmUgdm9pZCBjdm14X3Bvd193
b3JrX3JlcXVlc3RfYXN5bmNfbm9jaGVjayhpbnQgc2NyX2FkZHIsCi0JCQkJCQkgICAgICAgY3Zt
eF9wb3dfd2FpdF90IHdhaXQpCi17IH0KLQotc3RhdGljIGlubGluZSB2b2lkIGN2bXhfcG93X3dv
cmtfcmVxdWVzdF9hc3luYyhpbnQgc2NyX2FkZHIsCi0JCQkJCQkgICAgICAgY3ZteF9wb3dfd2Fp
dF90IHdhaXQpCi17IH0KLQotc3RhdGljIGlubGluZSBzdHJ1Y3QgY3ZteF93cWUgKmN2bXhfcG93
X3dvcmtfcmVzcG9uc2VfYXN5bmMoaW50IHNjcl9hZGRyKQotewotCXN0cnVjdCBjdm14X3dxZSAq
d3FlID0gKHZvaWQgKikodW5zaWduZWQgbG9uZylzY3JfYWRkcjsKLQotCXJldHVybiB3cWU7Ci19
Ci0KLXN0YXRpYyBpbmxpbmUgc3RydWN0IGN2bXhfd3FlICpjdm14X3Bvd193b3JrX3JlcXVlc3Rf
c3luYyhjdm14X3Bvd193YWl0X3Qgd2FpdCkKLXsKLQlyZXR1cm4gKHZvaWQgKikodW5zaWduZWQg
bG9uZyl3YWl0OwotfQotCi1zdGF0aWMgaW5saW5lIGludCBjdm14X3NwaV9yZXN0YXJ0X2ludGVy
ZmFjZShpbnQgaW50ZXJmYWNlLAotCQkJCQljdm14X3NwaV9tb2RlX3QgbW9kZSwgaW50IHRpbWVv
dXQpCi17Ci0JcmV0dXJuIDA7Ci19Ci0KLXN0YXRpYyBpbmxpbmUgdm9pZCBjdm14X2ZhdV9hc3lu
Y19mZXRjaF9hbmRfYWRkMzIodWludDY0X3Qgc2NyYWRkciwKLQkJCQkJCSAgZW51bSBjdm14X2Zh
dV9yZWdfMzIgcmVnLAotCQkJCQkJICBpbnQzMl90IHZhbHVlKQoteyB9Ci0KLXN0YXRpYyBpbmxp
bmUgdW5pb24gY3ZteF9nbXh4X3J4eF9yeF9pbmJuZCBjdm14X3NwaTQwMDBfY2hlY2tfc3BlZWQo
Ci0JaW50IGludGVyZmFjZSwKLQlpbnQgcG9ydCkKLXsKLQl1bmlvbiBjdm14X2dteHhfcnh4X3J4
X2luYm5kIHI7Ci0KLQlyLnU2NCA9IDA7Ci0JcmV0dXJuIHI7Ci19Ci0KLXN0YXRpYyBpbmxpbmUg
dm9pZCBjdm14X3Brb19zZW5kX3BhY2tldF9wcmVwYXJlKHVpbnQ2NF90IHBvcnQsIHVpbnQ2NF90
IHF1ZXVlLAotCQkJCQkJY3ZteF9wa29fbG9ja190IHVzZV9sb2NraW5nKQoteyB9Ci0KLXN0YXRp
YyBpbmxpbmUgY3ZteF9wa29fc3RhdHVzX3QgY3ZteF9wa29fc2VuZF9wYWNrZXRfZmluaXNoKHVp
bnQ2NF90IHBvcnQsCi0JCXVpbnQ2NF90IHF1ZXVlLCB1bmlvbiBjdm14X3Brb19jb21tYW5kX3dv
cmQwIHBrb19jb21tYW5kLAotCQl1bmlvbiBjdm14X2J1Zl9wdHIgcGFja2V0LCBjdm14X3Brb19s
b2NrX3QgdXNlX2xvY2tpbmcpCi17Ci0JcmV0dXJuIDA7Ci19Ci0KLXN0YXRpYyBpbmxpbmUgdm9p
ZCBjdm14X3dxZV9zZXRfcG9ydChzdHJ1Y3QgY3ZteF93cWUgKndvcmssIGludCBwb3J0KQoteyB9
Ci0KLXN0YXRpYyBpbmxpbmUgdm9pZCBjdm14X3dxZV9zZXRfcW9zKHN0cnVjdCBjdm14X3dxZSAq
d29yaywgaW50IHFvcykKLXsgfQotCi1zdGF0aWMgaW5saW5lIGludCBjdm14X3dxZV9nZXRfcW9z
KHN0cnVjdCBjdm14X3dxZSAqd29yaykKLXsKLQlyZXR1cm4gMDsKLX0KLQotc3RhdGljIGlubGlu
ZSB2b2lkIGN2bXhfd3FlX3NldF9ncnAoc3RydWN0IGN2bXhfd3FlICp3b3JrLCBpbnQgZ3JwKQot
eyB9Ci0KLXN0YXRpYyBpbmxpbmUgdm9pZCBjdm14X3Bvd193b3JrX3N1Ym1pdChzdHJ1Y3QgY3Zt
eF93cWUgKndxcCwgdWludDMyX3QgdGFnLAotCQkJCQllbnVtIGN2bXhfcG93X3RhZ190eXBlIHRh
Z190eXBlLAotCQkJCQl1aW50NjRfdCBxb3MsIHVpbnQ2NF90IGdycCkKLXsgfQotCi0jZGVmaW5l
IENWTVhfQVNYWF9SWF9DTEtfU0VUWChhLCBiKQkoKGEpKyhiKSkKLSNkZWZpbmUgQ1ZNWF9BU1hY
X1RYX0NMS19TRVRYKGEsIGIpCSgoYSkrKGIpKQotI2RlZmluZSBDVk1YX0NJVV9USU1YKGEpCQko
YSkKLSNkZWZpbmUgQ1ZNWF9HTVhYX1JYWF9BRFJfQ0FNMChhLCBiKQkoKGEpKyhiKSkKLSNkZWZp
bmUgQ1ZNWF9HTVhYX1JYWF9BRFJfQ0FNMShhLCBiKQkoKGEpKyhiKSkKLSNkZWZpbmUgQ1ZNWF9H
TVhYX1JYWF9BRFJfQ0FNMihhLCBiKQkoKGEpKyhiKSkKLSNkZWZpbmUgQ1ZNWF9HTVhYX1JYWF9B
RFJfQ0FNMyhhLCBiKQkoKGEpKyhiKSkKLSNkZWZpbmUgQ1ZNWF9HTVhYX1JYWF9BRFJfQ0FNNChh
LCBiKQkoKGEpKyhiKSkKLSNkZWZpbmUgQ1ZNWF9HTVhYX1JYWF9BRFJfQ0FNNShhLCBiKQkoKGEp
KyhiKSkKLSNkZWZpbmUgQ1ZNWF9HTVhYX1JYWF9GUk1fQ1RMKGEsIGIpCSgoYSkrKGIpKQotI2Rl
ZmluZSBDVk1YX0dNWFhfUlhYX0lOVF9SRUcoYSwgYikJKChhKSsoYikpCi0jZGVmaW5lIENWTVhf
R01YWF9TTUFDWChhLCBiKQkJKChhKSsoYikpCi0jZGVmaW5lIENWTVhfUElQX1BSVF9UQUdYKGEp
CQkoYSkKLSNkZWZpbmUgQ1ZNWF9QT1dfUFBfR1JQX01TS1goYSkJCShhKQotI2RlZmluZSBDVk1Y
X1BPV19XUV9JTlRfVEhSWChhKQkJKGEpCi0jZGVmaW5lIENWTVhfU1BYWF9JTlRfTVNLKGEpCQko
YSkKLSNkZWZpbmUgQ1ZNWF9TUFhYX0lOVF9SRUcoYSkJCShhKQotI2RlZmluZSBDVk1YX1NTT19Q
UFhfR1JQX01TSyhhKQkJKGEpCi0jZGVmaW5lIENWTVhfU1NPX1dRX0lOVF9USFJYKGEpCQkoYSkK
LSNkZWZpbmUgQ1ZNWF9TVFhYX0lOVF9NU0soYSkJCShhKQotI2RlZmluZSBDVk1YX1NUWFhfSU5U
X1JFRyhhKQkJKGEpCi0tIAoyLjI0LjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCmRldmVsIG1haWxpbmcgbGlzdApkZXZlbEBsaW51eGRyaXZlcnByb2pl
Y3Qub3JnCmh0dHA6Ly9kcml2ZXJkZXYubGludXhkcml2ZXJwcm9qZWN0Lm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2RyaXZlcmRldi1kZXZlbAo=
