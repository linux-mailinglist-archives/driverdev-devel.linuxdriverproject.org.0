Return-Path: <driverdev-devel-bounces@linuxdriverproject.org>
X-Original-To: lists+driverdev-devel@lfdr.de
Delivered-To: lists+driverdev-devel@lfdr.de
Received: from fraxinus.osuosl.org (smtp4.osuosl.org [140.211.166.137])
	by mail.lfdr.de (Postfix) with ESMTPS id 3251232F91
	for <lists+driverdev-devel@lfdr.de>; Mon,  3 Jun 2019 14:27:53 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by fraxinus.osuosl.org (Postfix) with ESMTP id C7AF185D68;
	Mon,  3 Jun 2019 12:27:51 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from fraxinus.osuosl.org ([127.0.0.1])
	by localhost (.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id eXNSACmyxZ7N; Mon,  3 Jun 2019 12:27:40 +0000 (UTC)
Received: from ash.osuosl.org (ash.osuosl.org [140.211.166.34])
	by fraxinus.osuosl.org (Postfix) with ESMTP id 61F9D85CFF;
	Mon,  3 Jun 2019 12:27:34 +0000 (UTC)
X-Original-To: devel@linuxdriverproject.org
Delivered-To: driverdev-devel@osuosl.org
Received: from fraxinus.osuosl.org (smtp4.osuosl.org [140.211.166.137])
 by ash.osuosl.org (Postfix) with ESMTP id ED5781BF4E6
 for <devel@linuxdriverproject.org>; Mon,  3 Jun 2019 12:27:31 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by fraxinus.osuosl.org (Postfix) with ESMTP id EA29885C92
 for <devel@linuxdriverproject.org>; Mon,  3 Jun 2019 12:27:31 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from fraxinus.osuosl.org ([127.0.0.1])
 by localhost (.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id AAaYWph0wh2q for <devel@linuxdriverproject.org>;
 Mon,  3 Jun 2019 12:27:21 +0000 (UTC)
X-Greylist: delayed 00:05:04 by SQLgrey-1.7.6
Received: from mout.web.de (mout.web.de [217.72.192.78])
 by fraxinus.osuosl.org (Postfix) with ESMTPS id B254E85C43
 for <devel@driverdev.osuosl.org>; Mon,  3 Jun 2019 12:27:10 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=web.de;
 s=dbaedf251592; t=1559564827;
 bh=/eQ95LpGYN6ssdyeQO7P3QDNFxd7n6uJ+Wb0LzndARY=;
 h=X-UI-Sender-Class:From:To:Cc:Subject:Date:In-Reply-To:References;
 b=k8Kf6zj98Lw2dvdLfO8DjSEIdQBAl4aw6/W33FBDJgYQcbvQRZqLanEfTBOp0E1l8
 DkGzGPlcEi5SHiB0r6EN+0zPsQB69F/d94zLDtOtEmeXLUMZdPDoS72rjlij146ttw
 u27yd8EO+W8aIBQ4EN7VgBTsmfzEZPLo6Rorr1f8=
X-UI-Sender-Class: c548c8c5-30a9-4db5-a2e7-cb6cb037b8f9
Received: from lab-pc08.sra.uni-hannover.de ([130.75.33.87]) by smtp.web.de
 (mrweb102 [213.165.67.124]) with ESMTPSA (Nemesis) id
 0LbrUu-1goqqA3ljQ-00jMIW; Mon, 03 Jun 2019 14:21:27 +0200
From: =?UTF-8?q?Christian=20M=C3=BCller?= <muellerch-privat@web.de>
To: gregkh@linuxfoundation.org
Subject: [PATCH 2/3] drivers/staging/rtl8192u: Remove comment-out code
Date: Mon,  3 Jun 2019 14:21:03 +0200
Message-Id: <20190603122104.2564-3-muellerch-privat@web.de>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190603122104.2564-1-muellerch-privat@web.de>
References: <20190603122104.2564-1-muellerch-privat@web.de>
MIME-Version: 1.0
X-Provags-ID: V03:K1:4iFATFFZVO/MGV4esxoYcW9LbhGCigJsHCfS49YiFcbQLGl1rUC
 iLwq+EYfNhC4uyM7K+XA05V7f0xJiinI+exQQXa1dgjgITNErSnwMUwBK+20p6mX2aH8hLX
 HnMRtV4DSpZtPTCraKHqG0WnmRYwQg3hh2Vy0qcG1fWHHW52lmsHxITFz6Q+6qyDaZMzrUj
 3FMxqWSRAvuaj4EEFkTfA==
X-UI-Out-Filterresults: notjunk:1;V03:K0:NtyjAoLBg70=:rIoJeLkyfgBUHDLsGSVgkz
 dSvrO6RzTLt7eQddWLvKER0TNXec/thJgigeDynlaVsT45/13ZykY1RNs9D26jfg/rrvv0twf
 yrBxfADXtNmu6Nq202LWHQOp72DZKI+NbJMb/5RkeqRS4FJLfQHFms4yd5BFjruP4cMcuatX1
 UrcqurZqZVqKjz6wS5dpzk//Myhy6yENMK/m4HI9JCam2Sduz9QP+gLcFkDSLbgsHF8LBH3X3
 6k6lbLRY+EGrFbljnGtQcIx6urizwHiDWjaDrB1DUkAwkHBPK9JZk4XCuFuVf0XLfAZkexl1c
 TeqYD/ctmeA8Uy4lXpLs08MkO1nQUAi4DQ17Jz2PgKGlkb6k8wHY68+volxqeqRp9XinJWs7P
 5EC+8BCKx6hCnG2gpCgGB3wlc2ZNcziqyzLdHxDB6iApKrn95QaHnEJDDQ+jV0JcU35QGbLo7
 Zsob18u6bC0NUisVocASa4Z/2n3yudRSsKFXgZ3gXA4MkuZ18UsHFhymwOztwitmJxUa6vGr2
 Bk4tkeyrE6QrrsK1v1HoRWlOfume3ln82j3PjTVi8LP9DPjQUoMg9j5YNHCm4aL9WyMnWGuM9
 5v1C8hBbrPgGIu2wGHzll9ImhRuIIa4plCl+Qge7E/TWFYLypABF/R0+q48K2wYAED0odHtZR
 wqBV9qcQVZgV2oecmGYNZY6EoKVggJWO7VUIhAdAwfS46EYLARu1MNHduVHCid30tykQFTaIQ
 276Xcgoe4s9gafPOZxf4w+sp8X/A9ywQNOrQJ/X97jYDuJKKWwmMsBsYj2R3CYcCzES0/v6Kj
 6O++OJ+3m3L/VMdK4NLTRfGbRjQBv1FVgg2QzC0nKwci3KiLwS8LlnI6O7n9E0o/6h4rq2KbJ
 iF55b1CAjXOPtwyARFk8H1hzTzOGcuXgZWZApWsZQpqIMkjDMS7TZmUGZ3wknMK0tH6TC76kT
 tA/Y05K5AXTwzqdn1WKfJJU+oJILWJf3cpVFgbddVF663bxs/afjV
X-BeenThere: driverdev-devel@linuxdriverproject.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Linux Driver Project Developer List
 <driverdev-devel.linuxdriverproject.org>
List-Unsubscribe: <http://driverdev.linuxdriverproject.org/mailman/options/driverdev-devel>, 
 <mailto:driverdev-devel-request@linuxdriverproject.org?subject=unsubscribe>
List-Archive: <http://driverdev.linuxdriverproject.org/pipermail/driverdev-devel/>
List-Post: <mailto:driverdev-devel@linuxdriverproject.org>
List-Help: <mailto:driverdev-devel-request@linuxdriverproject.org?subject=help>
List-Subscribe: <http://driverdev.linuxdriverproject.org/mailman/listinfo/driverdev-devel>, 
 <mailto:driverdev-devel-request@linuxdriverproject.org?subject=subscribe>
Cc: devel@driverdev.osuosl.org, felix.trommer@hotmail.de,
 linux-kernel@i4.cs.fau.de, linux-kernel@vger.kernel.org,
 johnfwhitmore@gmail.com,
 =?UTF-8?q?Christian=20M=C3=BCller?= <muellerch-privat@web.de>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: driverdev-devel-bounces@linuxdriverproject.org
Sender: "devel" <driverdev-devel-bounces@linuxdriverproject.org>

RnJvbTogRmVsaXggVHJvbW1lciA8ZmVsaXgudHJvbW1lckBob3RtYWlsLmRlPgoKUmVtb3ZlIHRo
ZSBtYWpvcml0eSBvZiBhbGwgY29tbWVudGVkLW91dCBjb2RlLiBDb21tZW50ZWQgb3V0IGNvZGUs
IHRoYXQKd2FzIGFkcmVzc2VkIGJ5IGEgY29tbWVudCBpdHNlbGYgaXMgbm90IHJlbW92ZWQuIFRo
ZSBjb2RlIHRoYXQgd2UgbGVmdAppbiBhcyBjb21tZW50cyB3YXMgbW9zdGx5IGR1ZSB0byB0aGUg
InBzZXVkby1jb2RlIi1saWtlIG5hdHVyZSBvZiB0aGUKY29kZSB0aGF0IGhlbHBlZCB0byBjbGFy
aWZ5IGNlcnRhaW4gZnVuY3Rpb25hbGl0aWVzLgoKU2lnbmVkLW9mZi1ieTogRmVsaXggVHJvbW1l
ciA8ZmVsaXgudHJvbW1lckBob3RtYWlsLmRlPgpTaWduZWQtb2ZmLWJ5OiBDaHJpc3RpYW4gTcO8
bGxlciA8bXVlbGxlcmNoLXByaXZhdEB3ZWIuZGU+Ci0tLQogZHJpdmVycy9zdGFnaW5nL3J0bDgx
OTJ1L2llZWU4MDIxMS9kb3QxMWQuaCAgIHwgIDIgKy0KIC4uLi9zdGFnaW5nL3J0bDgxOTJ1L2ll
ZWU4MDIxMS9pZWVlODAyMTEuaCAgICB8IDM1ICsrLS0tLS0KIC4uLi9ydGw4MTkydS9pZWVlODAy
MTEvaWVlZTgwMjExX2NyeXB0X2NjbXAuYyB8ICAxIC0KIC4uLi9ydGw4MTkydS9pZWVlODAyMTEv
aWVlZTgwMjExX2NyeXB0X3RraXAuYyB8ICAxIC0KIC4uLi9ydGw4MTkydS9pZWVlODAyMTEvaWVl
ZTgwMjExX21vZHVsZS5jICAgICB8ICAyIC0KIC4uLi9zdGFnaW5nL3J0bDgxOTJ1L2llZWU4MDIx
MS9pZWVlODAyMTFfcnguYyB8IDUwICstLS0tLS0tLS0KIC4uLi9ydGw4MTkydS9pZWVlODAyMTEv
aWVlZTgwMjExX3NvZnRtYWMuYyAgICB8IDkzICsrKy0tLS0tLS0tLS0tLS0tLS0KIC4uLi9ydGw4
MTkydS9pZWVlODAyMTEvaWVlZTgwMjExX3NvZnRtYWNfd3guYyB8IDEzICstLQogLi4uL3N0YWdp
bmcvcnRsODE5MnUvaWVlZTgwMjExL2llZWU4MDIxMV90eC5jIHwgIDMgKy0KIC4uLi9zdGFnaW5n
L3J0bDgxOTJ1L2llZWU4MDIxMS9pZWVlODAyMTFfd3guYyB8IDE5ICstLS0KIC4uLi9ydGw4MTky
dS9pZWVlODAyMTEvcnRsODE5eF9CQVByb2MuYyAgICAgICB8ICAzIC0KIC4uLi9zdGFnaW5nL3J0
bDgxOTJ1L2llZWU4MDIxMS9ydGw4MTl4X0hULmggICB8ICAyIC0KIC4uLi9ydGw4MTkydS9pZWVl
ODAyMTEvcnRsODE5eF9IVFByb2MuYyAgICAgICB8IDU0ICsrLS0tLS0tLS0tCiAuLi4vc3RhZ2lu
Zy9ydGw4MTkydS9pZWVlODAyMTEvcnRsODE5eF9Rb3MuaCAgfCAgNCArLQogLi4uL3J0bDgxOTJ1
L2llZWU4MDIxMS9ydGw4MTl4X1RTUHJvYy5jICAgICAgIHwgMTEgLS0tCiBkcml2ZXJzL3N0YWdp
bmcvcnRsODE5MnUvcjgxOTBfcnRsODI1Ni5jICAgICAgfCAgMyAtCiBkcml2ZXJzL3N0YWdpbmcv
cnRsODE5MnUvcjgxOTJVX2NvcmUuYyAgICAgICAgfCAgNSArLQogZHJpdmVycy9zdGFnaW5nL3J0
bDgxOTJ1L3I4MTkyVV9kbS5jICAgICAgICAgIHwgNjAgLS0tLS0tLS0tLS0tCiBkcml2ZXJzL3N0
YWdpbmcvcnRsODE5MnUvcjgxOTJVX3d4LmMgICAgICAgICAgfCAgMiAtCiBkcml2ZXJzL3N0YWdp
bmcvcnRsODE5MnUvcjgxOXhVX2Zpcm13YXJlLmMgICAgfCAgMSAtCiAyMCBmaWxlcyBjaGFuZ2Vk
LCAzOCBpbnNlcnRpb25zKCspLCAzMjYgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9zdGFnaW5nL3J0bDgxOTJ1L2llZWU4MDIxMS9kb3QxMWQuaCBiL2RyaXZlcnMvc3RhZ2luZy9y
dGw4MTkydS9pZWVlODAyMTEvZG90MTFkLmgKaW5kZXggOGI0ODVmYTE4MDg5Li5mMjcyNjczMDdi
M2YgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvc3RhZ2luZy9ydGw4MTkydS9pZWVlODAyMTEvZG90MTFk
LmgKKysrIGIvZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1L2llZWU4MDIxMS9kb3QxMWQuaApAQCAt
NTQsNCArNTQsNCBAQCB2b2lkIGRvdDExZF9zY2FuX2NvbXBsZXRlKHN0cnVjdCBpZWVlODAyMTFf
ZGV2aWNlICpkZXYpOwogaW50IGlzX2xlZ2FsX2NoYW5uZWwoc3RydWN0IGllZWU4MDIxMV9kZXZp
Y2UgKmRldiwgdTggY2hhbm5lbCk7CiBpbnQgdG9fbGVnYWxfY2hhbm5lbChzdHJ1Y3QgaWVlZTgw
MjExX2RldmljZSAqZGV2LCB1OCBjaGFubmVsKTsKCi0jZW5kaWYgLyogI2lmbmRlZiBfX0lOQ19E
T1QxMURfSCAqLworI2VuZGlmCmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcvcnRsODE5MnUv
aWVlZTgwMjExL2llZWU4MDIxMS5oIGIvZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1L2llZWU4MDIx
MS9pZWVlODAyMTEuaAppbmRleCA4YmU4YTk0YTIyNTMuLmQxMTBlOTMzMzc5OSAxMDA2NDQKLS0t
IGEvZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1L2llZWU4MDIxMS9pZWVlODAyMTEuaAorKysgYi9k
cml2ZXJzL3N0YWdpbmcvcnRsODE5MnUvaWVlZTgwMjExL2llZWU4MDIxMS5oCkBAIC0xMDYsMTcg
KzEwNiwxMyBAQCBzdHJ1Y3QgY2JfZGVzYyB7CiAJdTggYlJUU1VzZVNob3J0R0k6MTsKIAl1OCBi
TXVsdGljYXN0OjE7CiAJdTggYkJyb2FkY2FzdDoxOwotCS8qIHU4IHJlc2VydmVkMjoyOyAqLwog
CXU4IGRydl9hZ2dfZW5hYmxlOjE7CiAJdTggcmVzZXJ2ZWQyOjE7CgogCS8qIFR4IERlc2MgcmVs
YXRlZCBlbGVtZW50KDEyLTE5KSAqLwogCXU4IHJhdGFfaW5kZXg7CiAJdTggcXVldWVfaW5kZXg7
Ci0JLyogdTggcmVzZXJ2ZWQzOyAqLwotCS8qIHU4IHJlc2VydmVkNDsgKi8KIAl1MTYgdHhidWZf
c2l6ZTsKLQkvKiB1OCByZXNlcnZlZDU7ICovCiAJdTggUkFUUkluZGV4OwogCXU4IHJlc2VydmVk
NjsKIAl1OCByZXNlcnZlZDc7CkBAIC0xMjcsOSArMTIzLDYgQEAgc3RydWN0IGNiX2Rlc2Mgewog
CXU4IHJ0c19yYXRlOwogCXU4IGFtcGR1X2ZhY3RvcjsKIAl1OCBhbXBkdV9kZW5zaXR5OwotCS8q
IHU4IHJlc2VydmVkOTsgKi8KLQkvKiB1OCByZXNlcnZlZDEwOyAqLwotCS8qIHU4IHJlc2VydmVk
MTE7ICovCiAJdTggRHJ2QWdnck51bTsKIAl1MTYgcGt0X3NpemU7CiAJdTggcmVzZXJ2ZWQxMjsK
QEAgLTg4Myw3ICs4NzYsOCBAQCBlbnVtIGllZWU4MDIxMV9tZmllIHsKIAlNRklFX1RZUEVfUU9T
X1BBUkFNRVRFUiA9IDIyMiwKIH07CgotLyogTWluaW1hbCBoZWFkZXI7IGNhbiBiZSB1c2VkIGZv
ciBwYXNzaW5nIDgwMi4xMSBmcmFtZXMgd2l0aCBzdWZmaWNpZW50CisvKgorICogTWluaW1hbCBo
ZWFkZXI7IGNhbiBiZSB1c2VkIGZvciBwYXNzaW5nIDgwMi4xMSBmcmFtZXMgd2l0aCBzdWZmaWNp
ZW50CiAgKiBpbmZvcm1hdGlvbiB0byBkZXRlcm1pbmUgd2hhdCB0eXBlIG9mIHVuZGVybHlpbmcg
ZGF0YSB0eXBlIGlzIGFjdHVhbGx5CiAgKiBzdG9yZWQgaW4gdGhlIGRhdGEuCiAgKi8KQEAgLTEx
NDQsNyArMTEzOCw2IEBAIHN0cnVjdCBpZWVlODAyMTFfdGltX3BhcmFtZXRlcnMgewogCXU4IHRp
bV9wZXJpb2Q7CiB9IF9fcGFja2VkOwoKLS8vI2Vsc2UKIHN0cnVjdCBpZWVlODAyMTFfd21tX3Rz
X2luZm8gewogCXU4IGFjX2Rpcl90aWQ7CiAJdTggYWNfdXBfcHNiOwpAQCAtMTI3NCw3ICsxMjY3
LDYgQEAgZW51bSB7V01NX2FsbF9mcmFtZSwgV01NX3R3b19mcmFtZSwgV01NX2ZvdXJfZnJhbWUs
IFdNTV9zaXhfZnJhbWV9OwogI2RlZmluZSBJRUVFODAyMTFfUFNfTUJDQVNUIElFRUU4MDIxMV9E
VElNX01CQ0FTVAoKIC8qIGFkZGVkIGJ5IERhdmlkIGZvciBRb1MgMjAwNi82LzMwICovCi0vLyNk
ZWZpbmUgV01NX0hhbmdfODE4NwogI2lmZGVmIFdNTV9IYW5nXzgxODcKICN1bmRlZiBXTU1fSGFu
Z184MTg3CiAjZW5kaWYKQEAgLTEyOTAsNyArMTI4Miw2IEBAIGVudW0ge1dNTV9hbGxfZnJhbWUs
IFdNTV90d29fZnJhbWUsIFdNTV9mb3VyX2ZyYW1lLCBXTU1fc2l4X2ZyYW1lfTsKICNkZWZpbmUg
TUFYX1JFQ0VJVkVfQlVGRkVSX1NJWkUgOTEwMAoKIC8qIFVQIE1hcHBpbmcgdG8gQUMsIHVzaW5n
IGluIE1nbnRRdWVyeV9TZXF1ZW5jZU51bWJlcigpIGFuZCBtYXliZSBmb3IgRFNDUCAqLwotLy8j
ZGVmaW5lIFVQMkFDKHVwKQkoKHVwPDMpID8gKCh1cD09MCk/MTowKSA6ICh1cD4+MSkpCiAjZGVm
aW5lIFVQMkFDKHVwKSAoCQkgICBcCiAJKCh1cCkgPCAxKSA/IFdNRV9BQ19CRSA6IFwKIAkoKHVw
KSA8IDMpID8gV01FX0FDX0JLIDogXApAQCAtMTM5Miw3ICsxMzgzLDYgQEAgc3RydWN0IGllZWU4
MDIxMV9uZXR3b3JrIHsKIAlib29sIGF0aGVyb3NfY2FwX2V4aXN0OwogCWJvb2wgY2lzY29fY2Fw
X2V4aXN0OwogCWJvb2wgdW5rbm93bl9jYXBfZXhpc3Q7Ci0vLwl1OAliZXJwX2luZm87CiAJYm9v
bAliZXJwX2luZm9fdmFsaWQ7CiAJYm9vbCBidXNlcHJvdGVjdGlvbjsKIAkvKiBwdXQgYXQgdGhl
IGVuZCBvZiB0aGUgc3RydWN0dXJlLiAqLwpAQCAtMTYwNyw3ICsxNTk3LDcgQEAgc3RydWN0IGll
ZWU4MDIxMV9kZXZpY2UgewogCXN0cnVjdCBpZWVlODAyMTFfc2VjdXJpdHkgc2VjOwoKIAkvKiBo
dyBzZWN1cml0eSByZWxhdGVkICovCi0vLwl1OCBod3NlY19zdXBwb3J0OyAvL3N1cHBvcnQ/CisJ
LyogdTggaHdzZWNfc3VwcG9ydDsgLy9zdXBwb3J0PyAqLwogCXU4IGh3c2VjX2FjdGl2ZTsgIC8q
IGh3IHNlY3VyaXR5IGFjdGl2ZS4gKi8KIAlib29sIGlzX3NpbGVudF9yZXNldDsKIAlib29sIGll
ZWVfdXA7CkBAIC0xNjIzLDggKzE2MTMsNiBAQCBzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSB7Cgog
CS8qIDExbiBIVCBiZWxvdyAqLwogCVBSVF9ISUdIX1RIUk9VR0hQVVQJcEhUSW5mbzsKLQkvL3N0
cnVjdCB0aW1lcl9saXN0CQlTd0J3VGltZXI7Ci0vLwlzcGlubG9ja190IGNobmxvcF9zcGlubG9j
azsKIAlzcGlubG9ja190IGJ3X3NwaW5sb2NrOwoKIAlzcGlubG9ja190IHJlb3JkZXJfc3Bpbmxv
Y2s7CkBAIC0xNjQwLDggKzE2MjgsNiBAQCBzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSB7CiAJdTgJ
YlR4VXNlRHJpdmVyQXNzaW5nZWRSYXRlOwogCWF0b21pY190CWF0bV9jaG5sb3A7CiAJYXRvbWlj
X3QJYXRtX3N3Ync7Ci0vLwl1OAlIVEhpZ2hlc3RPcGVyYVJhdGU7Ci0vLwl1OAlIVEN1cnJlbnRP
cGVyYVJhdGU7CgogCS8qIDgwMi4xMWUgYW5kIFdNTSBUcmFmZmljIFN0cmVhbSBJbmZvIChUWCkg
Ki8KIAlzdHJ1Y3QgbGlzdF9oZWFkCQlUeF9UU19BZG1pdF9MaXN0OwpAQCAtMTY1MywxMiArMTYz
OSwxMCBAQCBzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSB7CiAJc3RydWN0IGxpc3RfaGVhZAkJUnhf
VFNfUGVuZGluZ19MaXN0OwogCXN0cnVjdCBsaXN0X2hlYWQJCVJ4X1RTX1VudXNlZF9MaXN0Owog
CXN0cnVjdCByeF90c19yZWNvcmQJCVJ4VHNSZWNvcmRbVE9UQUxfVFNfTlVNXTsKLS8vI2lmZGVm
IFRPX0RPX0xJU1QKIAlzdHJ1Y3QgcnhfcmVvcmRlcl9lbnRyeQlSeFJlb3JkZXJFbnRyeVsxMjhd
OwogCXN0cnVjdCBsaXN0X2hlYWQJCVJ4UmVvcmRlcl9VbnVzZWRfTGlzdDsKLS8vI2VuZGlmCiAJ
LyogUW9zIHJlbGF0ZWQuIEFkZGVkIGJ5IEFubmllLCAyMDA1LTExLTAxLiAqLwotLy8JUFNUQV9R
T1MJCQlwU3RhUW9zOworCS8qIFBTVEFfUU9TCQkJcFN0YVFvczsgKi8KIAl1OAkJCQlGb3JjZWRQ
cmlvcml0eTsJCS8qIEZvcmNlIHBlci1wYWNrZXQgcHJpb3JpdHkgMX43LiAoZGVmYXVsdDogMCwg
bm90IHRvIGZvcmNlIGl0LikgKi8KCgpAQCAtMTg5OCw5ICsxODgyLDYgQEAgc3RydWN0IGllZWU4
MDIxMV9kZXZpY2UgewogCS8qIFFvcyByZWxhdGVkLiBBZGRlZCBieSBBbm5pZSwgMjAwNS0xMS0w
MS4gKi8KIAkvKiBTVEFfUU9TICBTdGFRb3M7ICovCgotCS8qIHUzMiBTVEFfRURDQV9QQVJBTVs0
XTsgKi8KLQkvKiBDSEFOTkVMX0FDQ0VTU19TRVRUSU5HIENoYW5uZWxBY2Nlc3NTZXR0aW5nOyAq
LwotCiAJc3RydWN0IGllZWU4MDIxMV9yeGIgKnN0YXRzX0luZGljYXRlQXJyYXlbUkVPUkRFUl9X
SU5fU0laRV07CgogCS8qIENhbGxiYWNrIGZ1bmN0aW9ucyAqLwpAQCAtMjAwMiwxNSArMTk4Mywx
NiBAQCBzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSB7CiAJLyogY2hlY2sgd2hldGhlciBUeCBodyBy
ZXNvdXJjZSBhdmFpbGFibGUgKi8KIAlzaG9ydCAoKmNoZWNrX25pY19lbm91Z2hfZGVzYykoc3Ry
dWN0IG5ldF9kZXZpY2UgKmRldiwgaW50IHF1ZXVlX2luZGV4KTsKIAkvKiBhZGRlZCBieSB3YiBm
b3IgSFQgcmVsYXRlZCAqLwotLy8Jdm9pZCAoKlN3Q2hubEJ5VGltZXJIYW5kbGVyKShzdHJ1Y3Qg
bmV0X2RldmljZSAqZGV2LCBpbnQgY2hhbm5lbCk7CisJLyogdm9pZCAoKlN3Q2hubEJ5VGltZXJI
YW5kbGVyKShzdHJ1Y3QgbmV0X2RldmljZSAqZGV2LCBpbnQgY2hhbm5lbCk7ICovCiAJdm9pZCAo
KlNldEJXTW9kZUhhbmRsZXIpKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsIGVudW0gaHRfY2hhbm5l
bF93aWR0aCBCYW5kd2lkdGgsIGVudW0gaHRfZXh0ZW5zaW9uX2NoYW5fb2Zmc2V0IE9mZnNldCk7
Ci0vLwl2b2lkICgqVXBkYXRlSGFsUkFUUlRhYmxlSGFuZGxlcikoc3RydWN0IG5ldF9kZXZpY2Uq
IGRldiwgdTgqIHBNY3NSYXRlKTsKKwkvKiB2b2lkICgqVXBkYXRlSGFsUkFUUlRhYmxlSGFuZGxl
cikoc3RydWN0IG5ldF9kZXZpY2UqIGRldiwgdTgqIHBNY3NSYXRlKTsgKi8KIAlib29sICgqR2V0
Tm1vZGVTdXBwb3J0QnlTZWNDZmcpKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpOwogCXZvaWQgKCpT
ZXRXaXJlbGVzc01vZGUpKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsIHU4IHdpcmVsZXNzX21vZGUp
OwogCWJvb2wgKCpHZXRIYWxmTm1vZGVTdXBwb3J0QnlBUHNIYW5kbGVyKShzdHJ1Y3QgbmV0X2Rl
dmljZSAqZGV2KTsKIAl2b2lkICgqSW5pdGlhbEdhaW5IYW5kbGVyKShzdHJ1Y3QgbmV0X2Rldmlj
ZSAqZGV2LCB1OCBPcGVyYXRpb24pOwoKLQkvKiBUaGlzIG11c3QgYmUgdGhlIGxhc3QgaXRlbSBz
byB0aGF0IGl0IHBvaW50cyB0byB0aGUgZGF0YQorCS8qCisJICogVGhpcyBtdXN0IGJlIHRoZSBs
YXN0IGl0ZW0gc28gdGhhdCBpdCBwb2ludHMgdG8gdGhlIGRhdGEKIAkgKiBhbGxvY2F0ZWQgYmV5
b25kIHRoaXMgc3RydWN0dXJlIGJ5IGFsbG9jX2llZWU4MDIxMQogCSAqLwogCXU4IHByaXZbMF07
CkBAIC0yMzI2LDcgKzIzMDgsNiBAQCBpbnQgaWVlZTgwMjExX3d4X2dldF9mcmVxKHN0cnVjdCBp
ZWVlODAyMTFfZGV2aWNlICppZWVlLAogaW50IGllZWU4MDIxMV9kZWJ1Z19pbml0KHZvaWQpOwog
dm9pZCBpZWVlODAyMTFfZGVidWdfZXhpdCh2b2lkKTsKCi0vL2V4dGVybiB2b2lkIGllZWU4MDIx
MV93eF9zeW5jX3NjYW5fd3Eoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUpOwogdm9pZCBp
ZWVlODAyMTFfd3hfc3luY19zY2FuX3dxKHN0cnVjdCB3b3JrX3N0cnVjdCAqd29yayk7CgoKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9ydGw4MTkydS9pZWVlODAyMTEvaWVlZTgwMjExX2Ny
eXB0X2NjbXAuYyBiL2RyaXZlcnMvc3RhZ2luZy9ydGw4MTkydS9pZWVlODAyMTEvaWVlZTgwMjEx
X2NyeXB0X2NjbXAuYwppbmRleCBhZDBiOTE4ZWNmMGQuLjdlYzI0MTIwZDg3MSAxMDA2NDQKLS0t
IGEvZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1L2llZWU4MDIxMS9pZWVlODAyMTFfY3J5cHRfY2Nt
cC5jCisrKyBiL2RyaXZlcnMvc3RhZ2luZy9ydGw4MTkydS9pZWVlODAyMTEvaWVlZTgwMjExX2Ny
eXB0X2NjbXAuYwpAQCAtMjAxLDcgKzIwMSw2IEBAIHN0YXRpYyBpbnQgaWVlZTgwMjExX2NjbXBf
ZW5jcnlwdChzdHJ1Y3Qgc2tfYnVmZiAqc2tiLCBpbnQgaGRyX2xlbiwgdm9pZCAqcHJpdikKIAlw
b3MgPSBza2JfcHVzaChza2IsIENDTVBfSERSX0xFTik7CiAJbWVtbW92ZShwb3MsIHBvcyArIEND
TVBfSERSX0xFTiwgaGRyX2xlbik7CiAJcG9zICs9IGhkcl9sZW47Ci0JLyogbWljID0gc2tiX3B1
dChza2IsIENDTVBfTUlDX0xFTik7ICovCgogCWkgPSBDQ01QX1BOX0xFTiAtIDE7CiAJd2hpbGUg
KGkgPj0gMCkgewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1L2llZWU4MDIx
MS9pZWVlODAyMTFfY3J5cHRfdGtpcC5jIGIvZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1L2llZWU4
MDIxMS9pZWVlODAyMTFfY3J5cHRfdGtpcC5jCmluZGV4IGRiNGI2NDBkMWQ4Yy4uNTY0YTZkNjdk
ZTg4IDEwMDY0NAotLS0gYS9kcml2ZXJzL3N0YWdpbmcvcnRsODE5MnUvaWVlZTgwMjExL2llZWU4
MDIxMV9jcnlwdF90a2lwLmMKKysrIGIvZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1L2llZWU4MDIx
MS9pZWVlODAyMTFfY3J5cHRfdGtpcC5jCkBAIC03NzMsNiArNzczLDUgQEAgdm9pZCBfX2V4aXQg
aWVlZTgwMjExX2NyeXB0b190a2lwX2V4aXQodm9pZCkKCiB2b2lkIGllZWU4MDIxMV90a2lwX251
bGwodm9pZCkKIHsKLS8vICAgIHByaW50aygiPT09PT09PT09PT09PiVzKClcbiIsIF9fZnVuY19f
KTsKIAlyZXR1cm47CiB9CmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcvcnRsODE5MnUvaWVl
ZTgwMjExL2llZWU4MDIxMV9tb2R1bGUuYyBiL2RyaXZlcnMvc3RhZ2luZy9ydGw4MTkydS9pZWVl
ODAyMTEvaWVlZTgwMjExX21vZHVsZS5jCmluZGV4IGRkN2ZmN2U4NGJkMC4uOTU0ZTQzYWY0OTRi
IDEwMDY0NAotLS0gYS9kcml2ZXJzL3N0YWdpbmcvcnRsODE5MnUvaWVlZTgwMjExL2llZWU4MDIx
MV9tb2R1bGUuYworKysgYi9kcml2ZXJzL3N0YWdpbmcvcnRsODE5MnUvaWVlZTgwMjExL2llZWU4
MDIxMV9tb2R1bGUuYwpAQCAtMTk0LDggKzE5NCw2IEBAIHZvaWQgZnJlZV9pZWVlODAyMTEoc3Ry
dWN0IG5ldF9kZXZpY2UgKmRldikKIHsKIAlzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSA9
IG5ldGRldl9wcml2KGRldik7CiAJaW50IGk7Ci0JLyogc3RydWN0IGxpc3RfaGVhZCAqcCwgKnE7
ICovCi0vLwlkZWxfdGltZXJfc3luYygmaWVlZS0+U3dCd1RpbWVyKTsKIAlrZnJlZShpZWVlLT5w
SFRJbmZvKTsKIAlpZWVlLT5wSFRJbmZvID0gTlVMTDsKIAlSZW1vdmVBbGxUUyhpZWVlKTsKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9ydGw4MTkydS9pZWVlODAyMTEvaWVlZTgwMjExX3J4
LmMgYi9kcml2ZXJzL3N0YWdpbmcvcnRsODE5MnUvaWVlZTgwMjExL2llZWU4MDIxMV9yeC5jCmlu
ZGV4IGVlYmQ4ZGViMDA4Ny4uYWY4NTQ2YWQxMmFmIDEwMDY0NAotLS0gYS9kcml2ZXJzL3N0YWdp
bmcvcnRsODE5MnUvaWVlZTgwMjExL2llZWU4MDIxMV9yeC5jCisrKyBiL2RyaXZlcnMvc3RhZ2lu
Zy9ydGw4MTkydS9pZWVlODAyMTEvaWVlZTgwMjExX3J4LmMKQEAgLTMyOSw3ICszMjksNiBAQCBz
dGF0aWMgaW50IGllZWU4MDIxMV9pc19lYXBvbF9mcmFtZShzdHJ1Y3QgaWVlZTgwMjExX2Rldmlj
ZSAqaWVlZSwKIAkJcmV0dXJuIDA7CgogCS8qIGNoZWNrIGZvciBwb3J0IGFjY2VzcyBlbnRpdHkg
RXRoZXJuZXQgdHlwZSAqLwotLy8JcG9zID0gc2tiLT5kYXRhICsgMjQ7CiAJcG9zID0gc2tiLT5k
YXRhICsgaGRybGVuOwogCWV0aGVydHlwZSA9IChwb3NbNl0gPDwgOCkgfCBwb3NbN107CiAJaWYg
KGV0aGVydHlwZSA9PSBFVEhfUF9QQUUpCkBAIC00OTAsOSArNDg5LDYgQEAgc3RhdGljIGludCBp
c19kdXBsaWNhdGVfcGFja2V0KHN0cnVjdCBpZWVlODAyMTFfZGV2aWNlICppZWVlLAogCQlyZXR1
cm4gMDsKIAl9CgotLy8JaWYodGlkICE9IDApIHsKLS8vCQlwcmludGsoS0VSTl9XQVJOSU5HICI6
KSkpKSkpKSkpKSkleCAleCAleCwgZmMoJXgpXG4iLCB0aWQsICpsYXN0X3NlcSwgc2VxLCBoZWFk
ZXItPmZyYW1lX2N0bCk7Ci0vLwl9CiAJaWYgKCgqbGFzdF9zZXEgPT0gc2VxKSAmJgogCSAgICB0
aW1lX2FmdGVyKCpsYXN0X3RpbWUgKyBJRUVFX1BBQ0tFVF9SRVRSWV9USU1FLCBqaWZmaWVzKSkg
ewogCQlpZiAoKmxhc3RfZnJhZyA9PSBmcmFnKQpAQCAtNTA4LDggKzUwNCw2IEBAIHN0YXRpYyBp
bnQgaXNfZHVwbGljYXRlX3BhY2tldChzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSwKIAly
ZXR1cm4gMDsKCiBkcm9wOgotLy8JQlVHX09OKCEoZmMgJiBJRUVFODAyMTFfRkNUTF9SRVRSWSkp
OwotCiAJcmV0dXJuIDE7CiB9CgpAQCAtNTM3LDggKzUzMSw2IEBAIHZvaWQgaWVlZTgwMjExX2lu
ZGljYXRlX3BhY2tldHMoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUsIHN0cnVjdCBpZWVl
ODAyMTFfCiB7CiAJdTggaSA9IDAgLCBqPTA7CiAJdTE2IGV0aGVydHlwZTsKLS8vCWlmKGluZGV4
ID4gMSkKLS8vCQlJRUVFODAyMTFfREVCVUcoSUVFRTgwMjExX0RMX1JFT1JERVIsIiVzKCk6IGhh
aGFoYWhoaGgsIFdlIGluZGljYXRlIHBhY2tldCBmcm9tIHJlb3JkZXIgbGlzdCwgaW5kZXggaXMg
JXVcbiIsX19mdW5jX18saW5kZXgpOwogCWZvcihqID0gMDsgajxpbmRleDsgaisrKQogCXsKIC8q
IGFkZGVkIGJ5IGFteSBmb3IgcmVvcmRlciAqLwpAQCAtNTY1LDggKzU1Nyw2IEBAIHZvaWQgaWVl
ZTgwMjExX2luZGljYXRlX3BhY2tldHMoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUsIHN0
cnVjdCBpZWVlODAyMTFfCiAJCQkJbWVtY3B5KHNrYl9wdXNoKHN1Yl9za2IsIEVUSF9BTEVOKSwg
cHJ4Yi0+c3JjLCBFVEhfQUxFTik7CiAJCQkJbWVtY3B5KHNrYl9wdXNoKHN1Yl9za2IsIEVUSF9B
TEVOKSwgcHJ4Yi0+ZHN0LCBFVEhfQUxFTik7CiAJCQl9Ci0JCQkvL3N0YXRzLT5yeF9wYWNrZXRz
Kys7Ci0JCQkvL3N0YXRzLT5yeF9ieXRlcyArPSBzdWJfc2tiLT5sZW47CgogCQkvKiBJbmRpY2F0
IHRoZSBwYWNrZXRzIHRvIHVwcGVyIGxheWVyICovCiAJCQlpZiAoc3ViX3NrYikgewpAQCAtNjU4
LDExICs2NDgsOSBAQCBzdGF0aWMgdm9pZCBSeFJlb3JkZXJJbmRpY2F0ZVBhY2tldChzdHJ1Y3Qg
aWVlZTgwMjExX2RldmljZSAqaWVlZSwKIAkJSUVFRTgwMjExX0RFQlVHKElFRUU4MDIxMV9ETF9S
RU9SREVSLCAiUGFja2V0cyBpbmRpY2F0aW9uISEgSW5kaWNhdGVTZXE6ICVkLCBOZXdTZXE6ICVk
XG4iLFwKIAkJCQlwVFMtPnJ4X2luZGljYXRlX3NlcSwgU2VxTnVtKTsKIAkJcHJ4YkluZGljYXRl
QXJyYXlbMF0gPSBwcnhiOwotLy8JCXByaW50aygiPT09PT09PT09PT09PT09PT09PT09PT09PiVz
KCk6IFNlcU51bSBpcyAlZFxuIixfX2Z1bmNfXyxTZXFOdW0pOwogCQlpbmRleCA9IDE7CiAJfSBl
bHNlIHsKIAkJLyogQ3VycmVudCBwYWNrZXQgaXMgZ29pbmcgdG8gYmUgaW5zZXJ0ZWQgaW50byBw
ZW5kaW5nIGxpc3QuKi8KLQkJLyogSUVFRTgwMjExX0RFQlVHKElFRUU4MDIxMV9ETF9SRU9SREVS
LCIlcygpOiBXZSBSWCBubyBvcmRlcmVkIHBhY2tlZCwgaW5zZXJ0IHRvIG9yZGVyZWQgbGlzdFxu
IixfX2Z1bmNfXyk7ICovCiAJCWlmKCFsaXN0X2VtcHR5KCZpZWVlLT5SeFJlb3JkZXJfVW51c2Vk
X0xpc3QpKSB7CiAJCQlwUmVvcmRlckVudHJ5ID0gbGlzdF9lbnRyeShpZWVlLT5SeFJlb3JkZXJf
VW51c2VkX0xpc3QubmV4dCwgc3RydWN0IHJ4X3Jlb3JkZXJfZW50cnksIExpc3QpOwogCQkJbGlz
dF9kZWxfaW5pdCgmcFJlb3JkZXJFbnRyeS0+TGlzdCk7CkBAIC02NzAsNyArNjU4LDYgQEAgc3Rh
dGljIHZvaWQgUnhSZW9yZGVySW5kaWNhdGVQYWNrZXQoc3RydWN0IGllZWU4MDIxMV9kZXZpY2Ug
KmllZWUsCiAJCQkvKiBNYWtlIGEgcmVvcmRlciBlbnRyeSBhbmQgaW5zZXJ0IGludG8gYSB0aGUg
cGFja2V0IGxpc3QuKi8KIAkJCXBSZW9yZGVyRW50cnktPlNlcU51bSA9IFNlcU51bTsKIAkJCXBS
ZW9yZGVyRW50cnktPnByeGIgPSBwcnhiOwotCS8vCQlJRUVFODAyMTFfREVCVUcoSUVFRTgwMjEx
X0RMX1JFT1JERVIsIiVzKCk6IHBSRW9yZGVyRW50cnktPlNlcU51bSBpcyAlZFxuIixfX2Z1bmNf
XyxwUmVvcmRlckVudHJ5LT5TZXFOdW0pOwoKIAkJCWlmKCFBZGRSZW9yZGVyRW50cnkocFRTLCBw
UmVvcmRlckVudHJ5KSkgewogCQkJCUlFRUU4MDIxMV9ERUJVRyhJRUVFODAyMTFfRExfUkVPUkRF
UiwgIiVzKCk6IER1cGxpY2F0ZSBwYWNrZXQgaXMgZHJvcHBlZCEhIEluZGljYXRlU2VxOiAlZCwg
TmV3U2VxOiAlZFxuIiwKQEAgLTcyOCw3ICs3MTUsNiBAQCBzdGF0aWMgdm9pZCBSeFJlb3JkZXJJ
bmRpY2F0ZVBhY2tldChzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSwKCiAJCQlJRUVFODAy
MTFfREVCVUcoSUVFRTgwMjExX0RMX1JFT1JERVIsIlBhY2tldHMgaW5kaWNhdGlvbiEhIEluZGlj
YXRlU2VxOiAlZCwgTmV3U2VxOiAlZFxuIixwVFMtPnJ4X2luZGljYXRlX3NlcSwgU2VxTnVtKTsK
IAkJCXByeGJJbmRpY2F0ZUFycmF5W2luZGV4XSA9IHBSZW9yZGVyRW50cnktPnByeGI7Ci0JCS8v
CXByaW50aygiPT09PT09PT09PT09PT09PT09PT09PT09PiVzKCk6IHBSZW9yZGVyRW50cnktPlNl
cU51bSBpcyAlZFxuIixfX2Z1bmNfXyxwUmVvcmRlckVudHJ5LT5TZXFOdW0pOwogCQkJaW5kZXgr
KzsKCiAJCQlsaXN0X2FkZF90YWlsKCZwUmVvcmRlckVudHJ5LT5MaXN0LCZpZWVlLT5SeFJlb3Jk
ZXJfVW51c2VkX0xpc3QpOwpAQCAtNzQxLDcgKzcyNyw2IEBAIHN0YXRpYyB2b2lkIFJ4UmVvcmRl
ckluZGljYXRlUGFja2V0KHN0cnVjdCBpZWVlODAyMTFfZGV2aWNlICppZWVlLAogCS8qIEhhbmRs
aW5nIHBlbmRpbmcgdGltZXIuIFNldCB0aGlzIHRpbWVyIHRvIHByZXZlbnQgZnJvbSBsb25nIHRp
bWUgUnggYnVmZmVyaW5nLiovCiAJaWYgKGluZGV4PjApIHsKIAkJLyogQ2FuY2VsIHByZXZpb3Vz
IHBlbmRpbmcgdGltZXIuICovCi0JLy8JZGVsX3RpbWVyX3N5bmMoJnBUUy0+cnhfcGt0X3BlbmRp
bmdfdGltZXIpOwogCQlwVFMtPnJ4X3RpbWVvdXRfaW5kaWNhdGVfc2VxID0gMHhmZmZmOwoKIAkJ
LyogSW5kaWNhdGUgcGFja2V0cyAqLwpAQCAtNzk4LDcgKzc4Myw3IEBAIHN0YXRpYyB1OCBwYXJz
ZV9zdWJmcmFtZShzdHJ1Y3Qgc2tfYnVmZiAqc2tiLAogCQlMTENPZmZzZXQgKz0gSFRDTE5HOwog
CX0KIAkvKiBOdWxsIHBhY2tldCwgZG9uJ3QgaW5kaWNhdGUgaXQgdG8gdXBwZXIgbGF5ZXIgKi8K
LQlDaGtMZW5ndGggPSBMTENPZmZzZXQ7LyogKyAoRnJhbWVfV0VQKGZyYW1lKSE9MCA/QWRhcHRl
ci0+TWdudEluZm8uU2VjdXJpdHlJbmZvLkVuY3J5cHRpb25IZWFkT3ZlcmhlYWQ6MCk7Ki8KKwlD
aGtMZW5ndGggPSBMTENPZmZzZXQ7CgogCWlmIChza2ItPmxlbiA8PSBDaGtMZW5ndGgpCiAJCXJl
dHVybiAwOwpAQCAtODE1LDcgKzgwMCw2IEBAIHN0YXRpYyB1OCBwYXJzZV9zdWJmcmFtZShzdHJ1
Y3Qgc2tfYnVmZiAqc2tiLAoKIAkJbWVtY3B5KHJ4Yi0+c3JjLHNyYyxFVEhfQUxFTik7CiAJCW1l
bWNweShyeGItPmRzdCxkc3QsRVRIX0FMRU4pOwotCQkvL0lFRUU4MDIxMV9ERUJVR19EQVRBKElF
RUU4MDIxMV9ETF9SWCxza2ItPmRhdGEsc2tiLT5sZW4pOwogCQlyZXR1cm4gMTsKIAl9IGVsc2Ug
ewogCQlyeGItPm5yX3N1YmZyYW1lcyA9IDA7CkBAIC04OTEsNyArODc1LDYgQEAgaW50IGllZWU4
MDIxMV9yeChzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSwgc3RydWN0IHNrX2J1ZmYgKnNr
YiwKIHsKIAlzdHJ1Y3QgbmV0X2RldmljZSAqZGV2ID0gaWVlZS0+ZGV2OwogCXN0cnVjdCBydGxf
ODAyMTFfaGRyXzRhZGRyICpoZHI7Ci0JLy9zdHJ1Y3QgcnRsXzgwMjExX2hkcl8zYWRkcnFvcyAq
aGRyOwoKIAlzaXplX3QgaGRybGVuOwogCXUxNiBmYywgdHlwZSwgc3R5cGUsIHNjOwpAQCAtOTAy
LDcgKzg4NSw2IEBAIGludCBpZWVlODAyMTFfcngoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmll
ZWUsIHN0cnVjdCBza19idWZmICpza2IsCiAJdTgJVElEID0gMDsKIAl1MTYJU2VxTnVtID0gMDsK
IAlzdHJ1Y3QgcnhfdHNfcmVjb3JkICpwVFMgPSBOVUxMOwotCS8vYm9vbCBiSXNBZ2dyZWdhdGVG
cmFtZSA9IGZhbHNlOwogCS8qIGFkZGVkIGJ5IGFteSBmb3IgcmVvcmRlciAqLwogI2lmZGVmIE5P
VF9ZRVQKIAlzdHJ1Y3QgbmV0X2RldmljZSAqd2RzID0gTlVMTDsKQEAgLTkxMCw3ICs4OTIsNiBA
QCBpbnQgaWVlZTgwMjExX3J4KHN0cnVjdCBpZWVlODAyMTFfZGV2aWNlICppZWVlLCBzdHJ1Y3Qg
c2tfYnVmZiAqc2tiLAogCWludCBmcm9tX2Fzc29jX2FwID0gMDsKIAl2b2lkICpzdGEgPSBOVUxM
OwogI2VuZGlmCi0vLwl1MTYgcW9zX2N0bCA9IDA7CiAJdTggZHN0W0VUSF9BTEVOXTsKIAl1OCBz
cmNbRVRIX0FMRU5dOwogCXU4IGJzc2lkW0VUSF9BTEVOXTsKQEAgLTk0NSw3ICs5MjYsNiBAQCBp
bnQgaWVlZTgwMjExX3J4KHN0cnVjdCBpZWVlODAyMTFfZGV2aWNlICppZWVlLCBzdHJ1Y3Qgc2tf
YnVmZiAqc2tiLAogCQlyeF9zdGF0cy0+YkNvbnRhaW5IVEMgPSB0cnVlOwogCX0KCi0JLy9JRUVF
ODAyMTFfREVCVUdfREFUQShJRUVFODAyMTFfRExfREFUQSwgc2tiLT5kYXRhLCBza2ItPmxlbik7
CiAjaWZkZWYgTk9UX1lFVAogCS8qCiAJICogUHV0IHRoaXMgY29kZSBoZXJlIHNvIHRoYXQgd2Ug
YXZvaWQgZHVwbGljYXRpbmcgaXQgaW4gYWxsCkBAIC0xMDI4LDcgKzEwMDgsNiBAQCBpbnQgaWVl
ZTgwMjExX3J4KHN0cnVjdCBpZWVlODAyMTFfZGV2aWNlICppZWVlLCBzdHJ1Y3Qgc2tfYnVmZiAq
c2tiLAogCWVsc2UKIAl7CiAJCXN0cnVjdCByeF90c19yZWNvcmQgKnBSeFRTID0gTlVMTDsKLQkJ
CS8vSUVFRTgwMjExX0RFQlVHKElFRUU4MDIxMV9ETF9SRU9SREVSLCIlcygpOiBRT1MgRU5BQkxF
IEFORCBSRUNFSVZFIFFPUyBEQVRBICwgd2Ugd2lsbCBnZXQgVHMsIHRpZDolZFxuIixfX2Z1bmNf
XywgdGlkKTsKIAkJaWYoR2V0VHMoCiAJCQkJaWVlZSwKIAkJCQkoc3RydWN0IHRzX2NvbW1vbl9p
bmZvICoqKSAmcFJ4VFMsCkBAIC0xMDM4LDcgKzEwMTcsNiBAQCBpbnQgaWVlZTgwMjExX3J4KHN0
cnVjdCBpZWVlODAyMTFfZGV2aWNlICppZWVlLCBzdHJ1Y3Qgc2tfYnVmZiAqc2tiLAogCQkJCXRy
dWUpKQogCQl7CgotCQkvLwlJRUVFODAyMTFfREVCVUcoSUVFRTgwMjExX0RMX1JFT1JERVIsIiVz
KCk6IHBSeFRTLT5yeF9sYXN0X2ZyYWdfbnVtIGlzICVkLGZyYWcgaXMgJWQscFJ4VFMtPnJ4X2xh
c3Rfc2VxX251bSBpcyAlZCxzZXEgaXMgJWRcbiIsX19mdW5jX18scFJ4VFMtPnJ4X2xhc3RfZnJh
Z19udW0sZnJhZyxwUnhUUy0+cnhfbGFzdF9zZXFfbnVtLFdMQU5fR0VUX1NFUV9TRVEoc2MpKTsK
IAkJCWlmICgoZmMgJiAoMTw8MTEpKSAmJgogCQkJICAgIChmcmFnID09IHBSeFRTLT5yeF9sYXN0
X2ZyYWdfbnVtKSAmJgogCQkJICAgIChXTEFOX0dFVF9TRVFfU0VRKHNjKSA9PSBwUnhUUy0+cnhf
bGFzdF9zZXFfbnVtKSkgewpAQCAtMTA1OSw3ICsxMDM3LDYgQEAgaW50IGllZWU4MDIxMV9yeChz
dHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSwgc3RydWN0IHNrX2J1ZmYgKnNrYiwKIAlpZiAo
dHlwZSA9PSBJRUVFODAyMTFfRlRZUEVfTUdNVCkgewoKCi0JLy9JRUVFODAyMTFfREVCVUdfREFU
QShJRUVFODAyMTFfRExfREFUQSwgc2tiLT5kYXRhLCBza2ItPmxlbik7CiAJCWlmIChpZWVlODAy
MTFfcnhfZnJhbWVfbWdtdChpZWVlLCBza2IsIHJ4X3N0YXRzLCB0eXBlLCBzdHlwZSkpCiAJCQln
b3RvIHJ4X2Ryb3BwZWQ7CiAJCWVsc2UKQEAgLTExMjUsNyArMTEwMiw2IEBAIGludCBpZWVlODAy
MTFfcngoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUsIHN0cnVjdCBza19idWZmICpza2Is
CiAJCX0KIAl9CiAjZW5kaWYKLQkvL0lFRUU4MDIxMV9ERUJVR19EQVRBKElFRUU4MDIxMV9ETF9E
QVRBLCBza2ItPmRhdGEsIHNrYi0+bGVuKTsKIAkvKgogCSAqIE51bGxmdW5jIGZyYW1lcyBtYXkg
aGF2ZSBQUy1iaXQgc2V0LCBzbyB0aGV5IG11c3QgYmUgcGFzc2VkIHRvCiAJICogaG9zdGFwX2hh
bmRsZV9zdGFfcngoKSBiZWZvcmUgYmVpbmcgZHJvcHBlZCBoZXJlLgpAQCAtMTQ4Nyw4ICsxNDYz
LDYgQEAgc3RhdGljIGludCBpZWVlODAyMTFfcW9zX2NvbnZlcnRfYWNfdG9fcGFyYW1ldGVycyhz
dHJ1Y3QKIAlpbnQgaTsKIAlzdHJ1Y3QgaWVlZTgwMjExX3Fvc19hY19wYXJhbWV0ZXIgKmFjX3Bh
cmFtczsKIAl1OCBhY2k7Ci0JLy91OCBjd19taW47Ci0JLy91OCBjd19tYXg7CgogCWZvciAoaSA9
IDA7IGkgPCBRT1NfUVVFVUVfTlVNOyBpKyspIHsKIAkJYWNfcGFyYW1zID0gJihwYXJhbV9lbG0t
PmFjX3BhcmFtc19yZWNvcmRbaV0pOwpAQCAtMTU4Myw3ICsxNTU3LDYgQEAgc3RhdGljIGNvbnN0
IGNoYXIgKmdldF9pbmZvX2VsZW1lbnRfc3RyaW5nKHUxNiBpZCkKIAkJTUZJRV9TVFJJTkcoTUVB
U1VSRV9SRVBPUlQpOwogCQlNRklFX1NUUklORyhRVUlFVCk7CiAJCU1GSUVfU1RSSU5HKElCU1Nf
REZTKTsKLQkgICAgICAgLy8gTUZJRV9TVFJJTkcoRVJQX0lORk8pOwogCQlNRklFX1NUUklORyhS
U04pOwogCQlNRklFX1NUUklORyhSQVRFU19FWCk7CiAJCU1GSUVfU1RSSU5HKEdFTkVSSUMpOwpA
QCAtMTYzOSw3ICsxNjEyLDYgQEAgaW50IGllZWU4MDIxMV9wYXJzZV9pbmZvX3BhcmFtKHN0cnVj
dCBpZWVlODAyMTFfZGV2aWNlICppZWVlLAogCXUxNgl0bXBfaHRpbmZvX2xlbj0wOwogCXUxNiBo
dF9yZWFsdGVrX2FnZ19sZW49MDsKIAl1OCAgaHRfcmVhbHRla19hZ2dfYnVmW01BWF9JRV9MRU5d
OwotLy8JdTE2IGJyb2FkY29tX2xlbiA9IDA7CiAjaWZkZWYgQ09ORklHX0lFRUU4MDIxMV9ERUJV
RwogCWNoYXIgcmF0ZXNfc3RyWzY0XTsKIAljaGFyICpwOwpAQCAtMTc3NywxMiArMTc0OSwxMSBA
QCBpbnQgaWVlZTgwMjExX3BhcnNlX2luZm9fcGFyYW0oc3RydWN0IGllZWU4MDIxMV9kZXZpY2Ug
KmllZWUsCgogCQkJCWJyZWFrOwoKLQkJCW9mZnNldCA9IChpZWVlLT5hc3NvY19pZCAvIDgpIC0g
b2Zmc2V0Oy8vICsgKChhaWQgJSA4KT8gMCA6IDEpIDsKKwkJCW9mZnNldCA9IChpZWVlLT5hc3Nv
Y19pZCAvIDgpIC0gb2Zmc2V0OwoKIAkJCWlmKGluZm9fZWxlbWVudC0+ZGF0YVszK29mZnNldF0g
JiAoMTw8KGllZWUtPmFzc29jX2lkJTgpKSkKIAkJCQluZXR3b3JrLT5kdGltX2RhdGEgfD0gSUVF
RTgwMjExX0RUSU1fVUNBU1Q7CgotCQkJLy9JRUVFODAyMTFfREVCVUdfTUdNVCgiTUZJRV9UWVBF
X1RJTTogcGFydGlhbGx5IGlnbm9yZWRcbiIpOwogCQkJYnJlYWs7CgogCQljYXNlIE1GSUVfVFlQ
RV9FUlA6CkBAIC0yMTYyLDEyICsyMTMzLDkgQEAgc3RhdGljIGlubGluZSB1OCBpZWVlODAyMTFf
U2lnbmFsU3RyZW5ndGhUcmFuc2xhdGUoCiAJewogCQlSZXRTUyA9IEN1cnJTUzsKIAl9Ci0JLy9S
VF9UUkFDRShDT01QX0RCRywgREJHX0xPVUQsICgiIyMjIyMgQWZ0ZXIgTWFwcGluZzogIExhc3RT
UzogJWQsIEN1cnJTUzogJWQsIFJldFNTOiAlZFxuIiwgTGFzdFNTLCBDdXJyU1MsIFJldFNTKSk7
CgogCS8qIFN0ZXAgMi4gU21vb3RoaW5nLiAqLwoKLQkvL1JUX1RSQUNFKENPTVBfREJHLCBEQkdf
TE9VRCwgKCIkJCQkJCBBZnRlciBTbW9vdGhpbmc6ICBMYXN0U1M6ICVkLCBDdXJyU1M6ICVkLCBS
ZXRTUzogJWRcbiIsIExhc3RTUywgQ3VyclNTLCBSZXRTUykpOwotCiAJcmV0dXJuIFJldFNTOwog
fQoKQEAgLTIxODksMTAgKzIxNTcsNiBAQCBzdGF0aWMgaW5saW5lIGludCBpZWVlODAyMTFfbmV0
d29ya19pbml0KAogCXN0cnVjdCBpZWVlODAyMTFfbmV0d29yayAqbmV0d29yaywKIAlzdHJ1Y3Qg
aWVlZTgwMjExX3J4X3N0YXRzICpzdGF0cykKIHsKLSNpZmRlZiBDT05GSUdfSUVFRTgwMjExX0RF
QlVHCi0JLy9jaGFyIHJhdGVzX3N0cls2NF07Ci0JLy9jaGFyICpwOwotI2VuZGlmCgogCW5ldHdv
cmstPnFvc19kYXRhLmFjdGl2ZSA9IDA7CiAJbmV0d29yay0+cW9zX2RhdGEuc3VwcG9ydGVkID0g
MDsKQEAgLTIyMjYsOCArMjE5MCw3IEBAIHN0YXRpYyBpbmxpbmUgaW50IGllZWU4MDIxMV9uZXR3
b3JrX2luaXQoCiAjZW5kaWYKIAluZXR3b3JrLT5Db3VudHJ5SWVMZW4gPSAwOwogCW1lbXNldChu
ZXR3b3JrLT5Db3VudHJ5SWVCdWYsIDAsIE1BWF9JRV9MRU4pOwotLyogSW5pdGlhbGl6ZSBIVCBw
YXJhbWV0ZXJzICovCi0JLy9pZWVlODAyMTFfaHRfaW5pdGlhbGl6ZSgmbmV0d29yay0+YnNzaHQp
OworCS8qIEluaXRpYWxpemUgSFQgcGFyYW1ldGVycyAqLwogCUhUSW5pdGlhbGl6ZUJzc0Rlc2Mo
Jm5ldHdvcmstPmJzc2h0KTsKIAlpZiAoc3RhdHMtPmZyZXEgPT0gSUVFRTgwMjExXzUyR0haX0JB
TkQpIHsKIAkJLyogZm9yIEEgYmFuZCAoTm8gRFMgaW5mbykgKi8KQEAgLTIyNzEsNyArMjIzNCw2
IEBAIHN0YXRpYyBpbmxpbmUgaW50IGllZWU4MDIxMV9uZXR3b3JrX2luaXQoCiAJCW5ldHdvcmst
PmZsYWdzIHw9IE5FVFdPUktfRU1QVFlfRVNTSUQ7CgogCXN0YXRzLT5zaWduYWwgPSAzMCArIChz
dGF0cy0+U2lnbmFsU3RyZW5ndGggKiA3MCkgLyAxMDA7Ci0JLy9zdGF0cy0+c2lnbmFsID0gaWVl
ZTgwMjExX1NpZ25hbFN0cmVuZ3RoVHJhbnNsYXRlKHN0YXRzLT5zaWduYWwpOwogCXN0YXRzLT5u
b2lzZSA9IGllZWU4MDIxMV90cmFuc2xhdGVfdG9kYm0oKHU4KSgxMDAtc3RhdHMtPnNpZ25hbCkp
IC0yNTsKCiAJbWVtY3B5KCZuZXR3b3JrLT5zdGF0cywgc3RhdHMsIHNpemVvZihuZXR3b3JrLT5z
dGF0cykpOwpAQCAtMjM1Niw5ICsyMzE4LDcgQEAgc3RhdGljIGlubGluZSB2b2lkIHVwZGF0ZV9u
ZXR3b3JrKHN0cnVjdCBpZWVlODAyMTFfbmV0d29yayAqZHN0LAoKIAlkc3QtPmxhc3Rfc2Nhbm5l
ZCA9IGppZmZpZXM7CiAJLyogcW9zIHJlbGF0ZWQgcGFyYW1ldGVycyAqLwotCS8vcW9zX2FjdGl2
ZSA9IHNyYy0+cW9zX2RhdGEuYWN0aXZlOwogCXFvc19hY3RpdmUgPSBkc3QtPnFvc19kYXRhLmFj
dGl2ZTsKLQkvL29sZF9wYXJhbSA9IGRzdC0+cW9zX2RhdGEub2xkX3BhcmFtX2NvdW50OwogCW9s
ZF9wYXJhbSA9IGRzdC0+cW9zX2RhdGEucGFyYW1fY291bnQ7CiAJaWYoZHN0LT5mbGFncyAmIE5F
VFdPUktfSEFTX1FPU19NQVNLKQogCQltZW1jcHkoJmRzdC0+cW9zX2RhdGEsICZzcmMtPnFvc19k
YXRhLApAQCAtMjM4OSw3ICsyMzQ5LDYgQEAgc3RhdGljIGlubGluZSB2b2lkIHVwZGF0ZV9uZXR3
b3JrKHN0cnVjdCBpZWVlODAyMTFfbmV0d29yayAqZHN0LAogCSAgIHNyYy0+d21tX3BhcmFtWzNd
LmFjaV9haWZzbikgewogCSAgbWVtY3B5KGRzdC0+d21tX3BhcmFtLCBzcmMtPndtbV9wYXJhbSwg
V01FX0FDX1BSQU1fTEVOKTsKIAl9Ci0JLy9kc3QtPlFvU19FbmFibGUgPSBzcmMtPlFvU19FbmFi
bGU7CiAjaWZkZWYgVEhPTUFTX1RVUkJPCiAJZHN0LT5UdXJib19FbmFibGUgPSBzcmMtPlR1cmJv
X0VuYWJsZTsKICNlbmRpZgpAQCAtMjQzMCw3ICsyMzg5LDYgQEAgc3RhdGljIGlubGluZSB2b2lk
IGllZWU4MDIxMV9wcm9jZXNzX3Byb2JlX3Jlc3BvbnNlKAogCXVuc2lnbmVkIGxvbmcgZmxhZ3M7
CiAJc2hvcnQgcmVuZXc7CiAJdTE2IGNhcGFiaWxpdHk7Ci0JLy91OCB3bW1faW5mbzsKCiAJbmV0
d29yayA9IGt6YWxsb2Moc2l6ZW9mKCpuZXR3b3JrKSwgR0ZQX0FUT01JQyk7CiAJaWYgKCFuZXR3
b3JrKQpAQCAtMjYxNyw4ICsyNTc1LDYgQEAgc3RhdGljIGlubGluZSB2b2lkIGllZWU4MDIxMV9w
cm9jZXNzX3Byb2JlX3Jlc3BvbnNlKAogCQkvKiBZSixhZGQsMDgwODE5LGZvciBoaWRkZW4gYXAg
Ki8KIAkJaWYoaXNfYmVhY29uKGJlYWNvbi0+aGVhZGVyLmZyYW1lX2N0bCkgPT0gMCkKIAkJCW5l
dHdvcmstPmZsYWdzID0gKH5ORVRXT1JLX0VNUFRZX0VTU0lEICYgbmV0d29yay0+ZmxhZ3MpfChO
RVRXT1JLX0VNUFRZX0VTU0lEICYgdGFyZ2V0LT5mbGFncyk7Ci0JCS8vaWYoc3RybmNtcChuZXR3
b3JrLT5zc2lkLCAibGlua3N5cy1jIiw5KSA9PSAwKQotCQkvLwlwcmludGsoIj09PT0+MiBuZXR3
b3JrLT5zc2lkPSVzIEZMQUc9JWQgdGFyZ2V0LnNzaWQ9JXMgRkxBRz0lZFxuIiwgbmV0d29yay0+
c3NpZCwgbmV0d29yay0+ZmxhZ3MsIHRhcmdldC0+c3NpZCwgdGFyZ2V0LT5mbGFncyk7CiAJCWlm
KCgobmV0d29yay0+ZmxhZ3MgJiBORVRXT1JLX0VNUFRZX0VTU0lEKSA9PSBORVRXT1JLX0VNUFRZ
X0VTU0lEKSBcCiAJCSAgICAmJiAoKChuZXR3b3JrLT5zc2lkX2xlbiA+IDApICYmIChzdHJuY21w
KHRhcmdldC0+c3NpZCwgbmV0d29yay0+c3NpZCwgbmV0d29yay0+c3NpZF9sZW4pKSlcCiAJCSAg
ICB8fCgoaWVlZS0+Y3VycmVudF9uZXR3b3JrLnNzaWRfbGVuID09IG5ldHdvcmstPnNzaWRfbGVu
KSYmKHN0cm5jbXAoaWVlZS0+Y3VycmVudF9uZXR3b3JrLnNzaWQsIG5ldHdvcmstPnNzaWQsIG5l
dHdvcmstPnNzaWRfbGVuKSA9PSAwKSYmKGllZWUtPnN0YXRlID09IElFRUU4MDIxMV9OT0xJTksp
KSkpCmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcvcnRsODE5MnUvaWVlZTgwMjExL2llZWU4
MDIxMV9zb2Z0bWFjLmMgYi9kcml2ZXJzL3N0YWdpbmcvcnRsODE5MnUvaWVlZTgwMjExL2llZWU4
MDIxMV9zb2Z0bWFjLmMKaW5kZXggMjdlODFhMWRlNTFlLi40ZjY0OWZjYzdjMWQgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvc3RhZ2luZy9ydGw4MTkydS9pZWVlODAyMTEvaWVlZTgwMjExX3NvZnRtYWMu
YworKysgYi9kcml2ZXJzL3N0YWdpbmcvcnRsODE5MnUvaWVlZTgwMjExL2llZWU4MDIxMV9zb2Z0
bWFjLmMKQEAgLTE1Myw3ICsxNTMsNiBAQCBzdGF0aWMgdm9pZCBlbnF1ZXVlX21nbXQoc3RydWN0
IGllZWU4MDIxMV9kZXZpY2UgKmllZWUsIHN0cnVjdCBza19idWZmICpza2IpCiAJaWVlZS0+bWdt
dF9xdWV1ZV9oZWFkID0gbmg7CiAJaWVlZS0+bWdtdF9xdWV1ZV9yaW5nW25oXSA9IHNrYjsKCi0J
Ly9yZXR1cm4gMDsKIH0KCiBzdGF0aWMgc3RydWN0IHNrX2J1ZmYgKmRlcXVldWVfbWdtdChzdHJ1
Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSkKQEAgLTI0NSw3ICsyNDQsNiBAQCBpbmxpbmUgdm9p
ZCBzb2Z0bWFjX21nbXRfeG1pdChzdHJ1Y3Qgc2tfYnVmZiAqc2tiLCBzdHJ1Y3QgaWVlZTgwMjEx
X2RldmljZSAqaWVlZQogCQkJLyogYXZvaWQgd2F0Y2hkb2cgdHJpZ2dlcnMgKi8KIAkJCW5ldGlm
X3RyYW5zX3VwZGF0ZShpZWVlLT5kZXYpOwogCQkJaWVlZS0+c29mdG1hY19kYXRhX2hhcmRfc3Rh
cnRfeG1pdChza2IsIGllZWUtPmRldiwgaWVlZS0+YmFzaWNfcmF0ZSk7Ci0JCQkvL2Rldl9rZnJl
ZV9za2JfYW55KHNrYik7Ly9lZGl0IGJ5IHRob21hcwogCQl9CgogCQlzcGluX3VubG9ja19pcnFy
ZXN0b3JlKCZpZWVlLT5sb2NrLCBmbGFncyk7CkBAIC0yNzMsNyArMjcxLDYgQEAgaW5saW5lIHZv
aWQgc29mdG1hY19tZ210X3htaXQoc3RydWN0IHNrX2J1ZmYgKnNrYiwgc3RydWN0IGllZWU4MDIx
MV9kZXZpY2UgKmllZWUKIAkJCXNrYl9xdWV1ZV90YWlsKCZpZWVlLT5za2Jfd2FpdFFbdGNiX2Rl
c2MtPnF1ZXVlX2luZGV4XSwgc2tiKTsKIAkJfSBlbHNlIHsKIAkJCWllZWUtPnNvZnRtYWNfaGFy
ZF9zdGFydF94bWl0KHNrYiwgaWVlZS0+ZGV2KTsKLQkJCS8vZGV2X2tmcmVlX3NrYl9hbnkoc2ti
KTsvL2VkaXQgYnkgdGhvbWFzCiAJCX0KIAkJc3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgmaWVlZS0+
bWdtdF90eF9sb2NrLCBmbGFncyk7CiAJfQpAQCAtMzA3LDcgKzMwNCw2IEBAIHNvZnRtYWNfcHNf
bWdtdF94bWl0KHN0cnVjdCBza19idWZmICpza2IsIHN0cnVjdCBpZWVlODAyMTFfZGV2aWNlICpp
ZWVlKQoKIAkJaWVlZS0+c29mdG1hY19oYXJkX3N0YXJ0X3htaXQoc2tiLCBpZWVlLT5kZXYpOwog
CX0KLQkvL2Rldl9rZnJlZV9za2JfYW55KHNrYik7Ly9lZGl0IGJ5IHRob21hcwogfQoKIHN0YXRp
YyBpbmxpbmUgc3RydWN0IHNrX2J1ZmYgKmllZWU4MDIxMV9wcm9iZV9yZXEoc3RydWN0IGllZWU4
MDIxMV9kZXZpY2UgKmllZWUpCkBAIC0zNTYsMjUgKzM1MiwxNyBAQCBzdGF0aWMgdm9pZCBpZWVl
ODAyMTFfc2VuZF9iZWFjb24oc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUpCgogCWlmICgh
aWVlZS0+aWVlZV91cCkKIAkJcmV0dXJuOwotCS8vdW5zaWduZWQgbG9uZyBmbGFnczsKIAlza2Ig
PSBpZWVlODAyMTFfZ2V0X2JlYWNvbl8oaWVlZSk7CgogCWlmIChza2IpIHsKIAkJc29mdG1hY19t
Z210X3htaXQoc2tiLCBpZWVlKTsKIAkJaWVlZS0+c29mdG1hY19zdGF0cy50eF9iZWFjb25zKys7
Ci0JCS8vZGV2X2tmcmVlX3NrYl9hbnkoc2tiKTsvL2VkaXQgYnkgdGhvbWFzCiAJfQotLy8JaWVl
ZS0+YmVhY29uX3RpbWVyLmV4cGlyZXMgPSBqaWZmaWVzICsKLS8vCQkoTVNFQ1MoIGllZWUtPmN1
cnJlbnRfbmV0d29yay5iZWFjb25faW50ZXJ2YWwgLTUpKTsKCi0JLy9zcGluX2xvY2tfaXJxc2F2
ZSgmaWVlZS0+YmVhY29uX2xvY2ssZmxhZ3MpOwogCWlmIChpZWVlLT5iZWFjb25fdHhpbmcgJiYg
aWVlZS0+aWVlZV91cCkgewotLy8JCWlmKCF0aW1lcl9wZW5kaW5nKCZpZWVlLT5iZWFjb25fdGlt
ZXIpKQotLy8JCQlhZGRfdGltZXIoJmllZWUtPmJlYWNvbl90aW1lcik7CiAJCW1vZF90aW1lcigm
aWVlZS0+YmVhY29uX3RpbWVyLAogCQkJICBqaWZmaWVzICsgbXNlY3NfdG9famlmZmllcyhpZWVl
LT5jdXJyZW50X25ldHdvcmsuYmVhY29uX2ludGVydmFsIC0gNSkpOwogCX0KLQkvL3NwaW5fdW5s
b2NrX2lycXJlc3RvcmUoJmllZWUtPmJlYWNvbl9sb2NrLGZsYWdzKTsKIH0KCiBzdGF0aWMgdm9p
ZCBpZWVlODAyMTFfc2VuZF9iZWFjb25fY2Ioc3RydWN0IHRpbWVyX2xpc3QgKnQpCkBAIC0zOTYs
NyArMzg0LDYgQEAgc3RhdGljIHZvaWQgaWVlZTgwMjExX3NlbmRfcHJvYmUoc3RydWN0IGllZWU4
MDIxMV9kZXZpY2UgKmllZWUpCiAJaWYgKHNrYikgewogCQlzb2Z0bWFjX21nbXRfeG1pdChza2Is
IGllZWUpOwogCQlpZWVlLT5zb2Z0bWFjX3N0YXRzLnR4X3Byb2JlX3JxKys7Ci0JCS8vZGV2X2tm
cmVlX3NrYl9hbnkoc2tiKTsvL2VkaXQgYnkgdGhvbWFzCiAJfQogfQoKQEAgLTU1OSwxMiArNTQ2
LDcgQEAgRVhQT1JUX1NZTUJPTChpZWVlODAyMTFfc3RhcnRfc2VuZF9iZWFjb25zKTsKCiBzdGF0
aWMgdm9pZCBpZWVlODAyMTFfc29mdG1hY19zdG9wX3NjYW4oc3RydWN0IGllZWU4MDIxMV9kZXZp
Y2UgKmllZWUpCiB7Ci0vLwl1bnNpZ25lZCBsb25nIGZsYWdzOwotCi0JLy9pZWVlLT5zeW5jX3Nj
YW5faHVycnl1cCA9IDE7Ci0KIAltdXRleF9sb2NrKCZpZWVlLT5zY2FuX211dGV4KTsKLS8vCXNw
aW5fbG9ja19pcnFzYXZlKCZpZWVlLT5sb2NrLCBmbGFncyk7CgogCWlmIChpZWVlLT5zY2Fubmlu
ZyA9PSAxKSB7CiAJCWllZWUtPnNjYW5uaW5nID0gMDsKQEAgLTU3Miw3ICs1NTQsNiBAQCBzdGF0
aWMgdm9pZCBpZWVlODAyMTFfc29mdG1hY19zdG9wX3NjYW4oc3RydWN0IGllZWU4MDIxMV9kZXZp
Y2UgKmllZWUpCiAJCWNhbmNlbF9kZWxheWVkX3dvcmsoJmllZWUtPnNvZnRtYWNfc2Nhbl93cSk7
CiAJfQoKLS8vCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoJmllZWUtPmxvY2ssIGZsYWdzKTsKIAlt
dXRleF91bmxvY2soJmllZWUtPnNjYW5fbXV0ZXgpOwogfQoKQEAgLTY0NCw3ICs2MjUsNiBAQCBp
ZWVlODAyMTFfYXV0aGVudGljYXRpb25fcmVxKHN0cnVjdCBpZWVlODAyMTFfbmV0d29yayAqYmVh
Y29uLAogCW1lbWNweShhdXRoLT5oZWFkZXIuYWRkcjIsIGllZWUtPmRldi0+ZGV2X2FkZHIsIEVU
SF9BTEVOKTsKIAltZW1jcHkoYXV0aC0+aGVhZGVyLmFkZHIzLCBiZWFjb24tPmJzc2lkLCBFVEhf
QUxFTik7CgotCS8vYXV0aC0+YWxnb3JpdGhtID0gaWVlZS0+b3Blbl93ZXAgPyBXTEFOX0FVVEhf
T1BFTiA6IFdMQU5fQVVUSF9TSEFSRURfS0VZOwogCWlmIChpZWVlLT5hdXRoX21vZGUgPT0gMCkK
IAkJYXV0aC0+YWxnb3JpdGhtID0gV0xBTl9BVVRIX09QRU47CiAJZWxzZSBpZiAoaWVlZS0+YXV0
aF9tb2RlID09IDEpCkBAIC03MTUsNyArNjk1LDYgQEAgc3RhdGljIHN0cnVjdCBza19idWZmICpp
ZWVlODAyMTFfcHJvYmVfcmVzcChzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSwgdTggKmQK
IAkJdG1wX2dlbmVyaWNfaWVfbGVuID0gc2l6ZW9mKGllZWUtPnBIVEluZm8tPnN6UlQyUlRBZ2dC
dWZmZXIpOwogCQlIVENvbnN0cnVjdFJUMlJUQWdnRWxlbWVudChpZWVlLCB0bXBfZ2VuZXJpY19p
ZV9idWYsICZ0bXBfZ2VuZXJpY19pZV9sZW4pOwogCX0KLS8vCXByaW50aygiPT09PT09PT09PT09
PT09PnRtcF9odF9jYXBfbGVuIGlzICVkLHRtcF9odF9pbmZvX2xlbiBpcyAlZCwgdG1wX2dlbmVy
aWNfaWVfbGVuIGlzICVkXG4iLHRtcF9odF9jYXBfbGVuLHRtcF9odF9pbmZvX2xlbix0bXBfZ2Vu
ZXJpY19pZV9sZW4pOwogCWJlYWNvbl9zaXplID0gc2l6ZW9mKHN0cnVjdCBpZWVlODAyMTFfcHJv
YmVfcmVzcG9uc2UpICsgMgogCQkrIHNzaWRfbGVuCiAJCSsgMyAvKiBjaGFubmVsICovCkBAIC04
MDIsNyArNzgxLDYgQEAgc3RhdGljIHN0cnVjdCBza19idWZmICppZWVlODAyMTFfcHJvYmVfcmVz
cChzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSwgdTggKmQKIAkJdGFnICs9IHdwYV9pZV9s
ZW47CiAJfQoKLQkvL3NrYi0+ZGV2ID0gaWVlZS0+ZGV2OwogCXJldHVybiBza2I7CiB9CgpAQCAt
OTQzLDE1ICs5MjEsOSBAQCBpZWVlODAyMTFfYXNzb2NpYXRpb25fcmVxKHN0cnVjdCBpZWVlODAy
MTFfbmV0d29yayAqYmVhY29uLAogCQkJICBzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSkK
IHsKIAlzdHJ1Y3Qgc2tfYnVmZiAqc2tiOwotCS8vdW5zaWduZWQgbG9uZyBmbGFnczsKCiAJc3Ry
dWN0IGllZWU4MDIxMV9hc3NvY19yZXF1ZXN0X2ZyYW1lICpoZHI7Ci0JdTggKnRhZzsvLywqcnNu
X2llOwotCS8vc2hvcnQgaW5mb19hZGRyID0gMDsKLQkvL2ludCBpOwotCS8vdTE2IHN1aXRlX2Nv
dW50ID0gMDsKLQkvL3U4IHN1aXRfc2VsZWN0ID0gMDsKLQkvL3Vuc2lnbmVkIGludCB3cGFfbGVu
ID0gYmVhY29uLT53cGFfaWVfbGVuOworCXU4ICp0YWc7CiAJLyogZm9yIEhUICovCiAJdTggKmh0
X2NhcF9idWYgPSBOVUxMOwogCXU4IGh0X2NhcF9sZW4gPSAwOwpAQCAtMTE1OSw4ICsxMTMxLDcg
QEAgaWVlZTgwMjExX2Fzc29jaWF0aW9uX3JlcShzdHJ1Y3QgaWVlZTgwMjExX25ldHdvcmsgKmJl
YWNvbiwKIAkJCW1lbWNweSh0YWcsIHJlYWx0ZWtfaWVfYnVmLCByZWFsdGVrX2llX2xlbiAtIDIp
OwogCQl9CiAJfQotLy8JcHJpbnRrKCI8PT09PT0lcygpLCAlcCwgJXBcbiIsIF9fZnVuY19fLCBp
ZWVlLT5kZXYsIGllZWUtPmRldi0+ZGV2X2FkZHIpOwotLy8JSUVFRTgwMjExX0RFQlVHX0RBVEEo
SUVFRTgwMjExX0RMX0RBVEEsIHNrYi0+ZGF0YSwgc2tiLT5sZW4pOworCiAJcmV0dXJuIHNrYjsK
IH0KCkBAIC0xMjIyLDcgKzExOTMsNiBAQCBzdGF0aWMgdm9pZCBpZWVlODAyMTFfYXNzb2NpYXRl
X3N0ZXAxKHN0cnVjdCBpZWVlODAyMTFfZGV2aWNlICppZWVlKQogCQkJaWVlZS0+YXNzb2NpYXRl
X3RpbWVyLmV4cGlyZXMgPSBqaWZmaWVzICsgKEhaIC8gMik7CiAJCQlhZGRfdGltZXIoJmllZWUt
PmFzc29jaWF0ZV90aW1lcik7CiAJCX0KLQkJLy9kZXZfa2ZyZWVfc2tiX2FueShza2IpOy8vZWRp
dCBieSB0aG9tYXMKIAl9CiB9CgpAQCAtMTIzMyw3ICsxMjAzLDYgQEAgc3RhdGljIHZvaWQgaWVl
ZTgwMjExX2F1dGhfY2hhbGxlbmdlKHN0cnVjdCBpZWVlODAyMTFfZGV2aWNlICppZWVlLAogCXU4
ICpjOwogCXN0cnVjdCBza19idWZmICpza2I7CiAJc3RydWN0IGllZWU4MDIxMV9uZXR3b3JrICpi
ZWFjb24gPSAmaWVlZS0+Y3VycmVudF9uZXR3b3JrOwotLy8JaW50IGhsZW4gPSBzaXplb2Yoc3Ry
dWN0IGllZWU4MDIxMV9hdXRoZW50aWNhdGlvbik7CgogCWllZWUtPmFzc29jaWF0ZV9zZXErKzsK
IAlpZWVlLT5zb2Z0bWFjX3N0YXRzLnR4X2F1dGhfcnErKzsKQEAgLTEyNTMsNyArMTIyMiw2IEBA
IHN0YXRpYyB2b2lkIGllZWU4MDIxMV9hdXRoX2NoYWxsZW5nZShzdHJ1Y3QgaWVlZTgwMjExX2Rl
dmljZSAqaWVlZSwKCiAJCXNvZnRtYWNfbWdtdF94bWl0KHNrYiwgaWVlZSk7CiAJCW1vZF90aW1l
cigmaWVlZS0+YXNzb2NpYXRlX3RpbWVyLCBqaWZmaWVzICsgKEhaIC8gMikpOwotCQkvL2Rldl9r
ZnJlZV9za2JfYW55KHNrYik7Ly9lZGl0IGJ5IHRob21hcwogCX0KIAlrZnJlZShjaGFsbGVuZ2Up
OwogfQpAQCAtMTI3NCw3ICsxMjQyLDYgQEAgc3RhdGljIHZvaWQgaWVlZTgwMjExX2Fzc29jaWF0
ZV9zdGVwMihzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSkKIAl9IGVsc2UgewogCQlzb2Z0
bWFjX21nbXRfeG1pdChza2IsIGllZWUpOwogCQltb2RfdGltZXIoJmllZWUtPmFzc29jaWF0ZV90
aW1lciwgamlmZmllcyArIChIWiAvIDIpKTsKLQkJLy9kZXZfa2ZyZWVfc2tiX2FueShza2IpOy8v
ZWRpdCBieSB0aG9tYXMKIAl9CiB9CiBzdGF0aWMgdm9pZCBpZWVlODAyMTFfYXNzb2NpYXRlX2Nv
bXBsZXRlX3dxKHN0cnVjdCB3b3JrX3N0cnVjdCAqd29yaykKQEAgLTEyOTUsNyArMTI2Miw2IEBA
IHN0YXRpYyB2b2lkIGllZWU4MDIxMV9hc3NvY2lhdGVfY29tcGxldGVfd3Eoc3RydWN0IHdvcmtf
c3RydWN0ICp3b3JrKQogCX0gZWxzZSB7CiAJCXByaW50aygiU3VjY2Vzc2Z1bGx5IGFzc29jaWF0
ZWQsIGh0IG5vdCBlbmFibGVkKCVkLCAlZClcbiIsIGllZWUtPnBIVEluZm8tPmJDdXJyZW50SFRT
dXBwb3J0LCBpZWVlLT5wSFRJbmZvLT5iRW5hYmxlSFQpOwogCQltZW1zZXQoaWVlZS0+ZG90MTFI
VE9wZXJhdGlvbmFsUmF0ZVNldCwgMCwgMTYpOwotCQkvL0hUU2V0Q29ubmVjdEJ3TW9kZShpZWVl
LCBIVF9DSEFOTkVMX1dJRFRIXzIwLCBIVF9FWFRDSE5MX09GRlNFVF9OT19FWFQpOwogCX0KIAlp
ZWVlLT5MaW5rRGV0ZWN0SW5mby5TbG90TnVtID0gMiAqICgxICsgaWVlZS0+Y3VycmVudF9uZXR3
b3JrLmJlYWNvbl9pbnRlcnZhbCAvIDUwMCk7CiAJLyogVG8gcHJldmVudCB0aGUgaW1tZWRpYXRl
bHkgY2FsbGluZyB3YXRjaF9kb2cgYWZ0ZXIgYXNzb2NpYXRpb24uICovCkBAIC0xMzE5LDEyICsx
Mjg1LDkgQEAgc3RhdGljIHZvaWQgaWVlZTgwMjExX2Fzc29jaWF0ZV9jb21wbGV0ZV93cShzdHJ1
Y3Qgd29ya19zdHJ1Y3QgKndvcmspCgogc3RhdGljIHZvaWQgaWVlZTgwMjExX2Fzc29jaWF0ZV9j
b21wbGV0ZShzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSkKIHsKLS8vCWludCBpOwotLy8J
c3RydWN0IG5ldF9kZXZpY2UqIGRldiA9IGllZWUtPmRldjsKIAlkZWxfdGltZXJfc3luYygmaWVl
ZS0+YXNzb2NpYXRlX3RpbWVyKTsKCiAJaWVlZS0+c3RhdGUgPSBJRUVFODAyMTFfTElOS0VEOwot
CS8vaWVlZS0+VXBkYXRlSGFsUkFUUlRhYmxlSGFuZGxlcihkZXYsIGllZWUtPmRvdDExSFRPcGVy
YXRpb25hbFJhdGVTZXQpOwogCXNjaGVkdWxlX3dvcmsoJmllZWUtPmFzc29jaWF0ZV9jb21wbGV0
ZV93cSk7CiB9CgpAQCAtMTMzOSw3ICsxMzAyLDYgQEAgc3RhdGljIHZvaWQgaWVlZTgwMjExX2Fz
c29jaWF0ZV9wcm9jZWR1cmVfd3Eoc3RydWN0IHdvcmtfc3RydWN0ICp3b3JrKQoKIAlpZWVlODAy
MTFfc3RvcF9zY2FuKGllZWUpOwogCXByaW50aygiPT09PiVzKCksIGNoYW46JWRcbiIsIF9fZnVu
Y19fLCBpZWVlLT5jdXJyZW50X25ldHdvcmsuY2hhbm5lbCk7Ci0JLy9pZWVlLT5zZXRfY2hhbihp
ZWVlLT5kZXYsIGllZWUtPmN1cnJlbnRfbmV0d29yay5jaGFubmVsKTsKIAlIVFNldENvbm5lY3RC
d01vZGUoaWVlZSwgSFRfQ0hBTk5FTF9XSURUSF8yMCwgSFRfRVhUQ0hOTF9PRkZTRVRfTk9fRVhU
KTsKCiAJaWVlZS0+YXNzb2NpYXRlX3NlcSA9IDE7CkBAIC0xMzc0LDggKzEzMzYsOCBAQCBpbmxp
bmUgdm9pZCBpZWVlODAyMTFfc29mdG1hY19uZXdfbmV0KHN0cnVjdCBpZWVlODAyMTFfZGV2aWNl
ICppZWVlLCBzdHJ1Y3QgaWVlZQogCQkgKiBUaGlzIGNvdWxkIGJlIG9idGFpbmVkIGJ5IGJlYWNv
bnMgb3IsIGlmIHRoZSBuZXR3b3JrIGRvZXMgbm90CiAJCSAqIGJyb2FkY2FzdCBpdCwgaXQgY2Fu
IGJlIHB1dCBtYW51YWxseS4KIAkJICovCi0JCWFwc2V0ID0gaWVlZS0+d2FwX3NldDsvLyhtZW1j
bXAoaWVlZS0+Y3VycmVudF9uZXR3b3JrLmJzc2lkLCB6ZXJvLEVUSF9BTEVOKSE9MCApOwotCQlz
c2lkc2V0ID0gaWVlZS0+c3NpZF9zZXQ7Ly9pZWVlLT5jdXJyZW50X25ldHdvcmsuc3NpZFswXSAh
PSAnXDAnOworCQlhcHNldCA9IGllZWUtPndhcF9zZXQ7CisJCXNzaWRzZXQgPSBpZWVlLT5zc2lk
X3NldDsKIAkJc3NpZGJyb2FkID0gICEobmV0LT5zc2lkX2xlbiA9PSAwIHx8IG5ldC0+c3NpZFsw
XSA9PSAnXDAnKTsKIAkJYXBtYXRjaCA9IChtZW1jbXAoaWVlZS0+Y3VycmVudF9uZXR3b3JrLmJz
c2lkLCBuZXQtPmJzc2lkLCBFVEhfQUxFTikgPT0gMCk7CiAJCXNzaWRtYXRjaCA9IChpZWVlLT5j
dXJyZW50X25ldHdvcmsuc3NpZF9sZW4gPT0gbmV0LT5zc2lkX2xlbikgJiYKQEAgLTE0MTMsNyAr
MTM3NSw2IEBAIGlubGluZSB2b2lkIGllZWU4MDIxMV9zb2Z0bWFjX25ld19uZXQoc3RydWN0IGll
ZWU4MDIxMV9kZXZpY2UgKmllZWUsIHN0cnVjdCBpZWVlCiAJCQkgICAgICAgaWVlZS0+cEhUSW5m
by0+YkVuYWJsZUhULAogCQkJICAgICAgIGllZWUtPmN1cnJlbnRfbmV0d29yay5ic3NodC5iZFN1
cHBvcnRIVCk7CgotCQkJLy9pZWVlLT5wSFRJbmZvLT5JT1RBY3Rpb24gPSAwOwogCQkJSFRSZXNl
dElPVFNldHRpbmcoaWVlZS0+cEhUSW5mbyk7CiAJCQlpZiAoaWVlZS0+aXdfbW9kZSA9PSBJV19N
T0RFX0lORlJBKSB7CiAJCQkJLyogSm9pbiB0aGUgbmV0d29yayBmb3IgdGhlIGZpcnN0IHRpbWUg
Ki8KQEAgLTE0MjIsOCArMTM4MywxMyBAQCBpbmxpbmUgdm9pZCBpZWVlODAyMTFfc29mdG1hY19u
ZXdfbmV0KHN0cnVjdCBpZWVlODAyMTFfZGV2aWNlICppZWVlLCBzdHJ1Y3QgaWVlZQogCQkJCWlm
ICgoaWVlZS0+Y3VycmVudF9uZXR3b3JrLnFvc19kYXRhLnN1cHBvcnRlZCA9PSAxKSAmJgogCQkJ
CSAgICAvLyAoaWVlZS0+cEhUSW5mby0+YkVuYWJsZUhUICYmIGllZWUtPmN1cnJlbnRfbmV0d29y
ay5ic3NodC5iZFN1cHBvcnRIVCkpCiAJCQkJICAgIGllZWUtPmN1cnJlbnRfbmV0d29yay5ic3No
dC5iZFN1cHBvcnRIVCkgewotLypXQiwgMjAwOC4wOS4wOTpiQ3VycmVudEhUU3VwcG9ydCBhbmQg
YkVuYWJsZUhUIHR3byBmbGFncyBhcmUgZ29pbmcgdG8gcHV0IHRvZ2V0aGVyIHRvIGNoZWNrIHdo
ZXRoZXIgd2UgYXJlIGluIEhUIG5vdywgc28gbmVlZG4ndCB0byBjaGVjayBiRW5hYmxlSFQgZmxh
Z3MgaGVyZS4gVGhhdCdzIGlzIHRvIHNheSB3ZSB3aWxsIHNldCB0byBIVCBzdXBwb3J0IHdoZW5l
dmVyIGpvaW5lZCBBUCBoYXMgdGhlIGFiaWxpdHkgdG8gc3VwcG9ydCBIVC4gQW5kIHdoZXRoZXIg
d2UgYXJlIGluIEhUIG9yIG5vdCwgcGxlYXNlIGNoZWNrIGJDdXJyZW50SFRTdXBwb3J0JiZiRW5h
YmxlSFQgbm93IHBsZWFzZS4qLwotCQkJCQkvLwlpZWVlLT5wSFRJbmZvLT5iQ3VycmVudEhUU3Vw
cG9ydCA9IHRydWU7CisJCQkJLyoKKwkJCQkgKiBXQiwgMjAwOC4wOS4wOTpiQ3VycmVudEhUU3Vw
cG9ydCBhbmQgYkVuYWJsZUhUIHR3byBmbGFncyBhcmUgZ29pbmcgdG8gcHV0CisJCQkJICogdG9n
ZXRoZXIgdG8gY2hlY2sgd2hldGhlciB3ZSBhcmUgaW4gSFQgbm93LAorCQkJCSAqIHNvIG5lZWRu
J3QgdG8gY2hlY2sgYkVuYWJsZUhUIGZsYWdzIGhlcmUuIFRoYXQncyBpcyB0byBzYXkgd2Ugd2ls
bCBzZXQgdG8gSFQKKwkJCQkgKiBzdXBwb3J0IHdoZW5ldmVyIGpvaW5lZCBBUCBoYXMgdGhlIGFi
aWxpdHkgdG8gc3VwcG9ydCBIVC4gQW5kIHdoZXRoZXIgd2UKKwkJCQkgKiBhcmUgaW4gSFQgb3Ig
bm90LCBwbGVhc2UgY2hlY2sgYkN1cnJlbnRIVFN1cHBvcnQmJmJFbmFibGVIVCBub3cgcGxlYXNl
LgorCQkJCSAqLwogCQkJCQlIVFJlc2V0U2VsZkFuZFNhdmVQZWVyU2V0dGluZyhpZWVlLCAmaWVl
ZS0+Y3VycmVudF9uZXR3b3JrKTsKIAkJCQl9IGVsc2UgewogCQkJCQlpZWVlLT5wSFRJbmZvLT5i
Q3VycmVudEhUU3VwcG9ydCA9IGZhbHNlOwpAQCAtMTQ0Myw3ICsxNDA5LDYgQEAgaW5saW5lIHZv
aWQgaWVlZTgwMjExX3NvZnRtYWNfbmV3X25ldChzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVl
ZSwgc3RydWN0IGllZWUKIAkJCQkJcHJpbnRrKEtFUk5fSU5GTyJVc2luZyBCIHJhdGVzXG4iKTsK
IAkJCQl9CiAJCQkJbWVtc2V0KGllZWUtPmRvdDExSFRPcGVyYXRpb25hbFJhdGVTZXQsIDAsIDE2
KTsKLQkJCQkvL0hUU2V0Q29ubmVjdEJ3TW9kZShpZWVlLCBIVF9DSEFOTkVMX1dJRFRIXzIwLCBI
VF9FWFRDSE5MX09GRlNFVF9OT19FWFQpOwogCQkJCWllZWUtPnN0YXRlID0gSUVFRTgwMjExX0xJ
TktFRDsKIAkJCX0KIAkJfQpAQCAtMTU0NSw3ICsxNTEwLDYgQEAgc3RhdGljIHNob3J0IHByb2Jl
X3JxX3BhcnNlKHN0cnVjdCBpZWVlODAyMTFfZGV2aWNlICppZWVlLCBzdHJ1Y3Qgc2tfYnVmZiAq
c2tiLAogCQl0YWcrKzsgLyogcG9pbnQgdG8gdGhlIG5leHQgdGFnICovCiAJfQoKLQkvL0lFRUU4
MDIxMURNRVNHKCJDYXJkIE1BQyBhZGRyZXNzIGlzICJNQUNTVFIsIE1BQzJTVFIoc3JjKSk7CiAJ
aWYgKHNzaWRsZW4gPT0gMCkKIAkJcmV0dXJuIDE7CgpAQCAtMTYwNCwxMSArMTU2OCw4IEBAIGll
ZWU4MDIxMV9yeF9wcm9iZV9ycShzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSwgc3RydWN0
IHNrX2J1ZmYgKnNrYikKIHsKIAl1OCBkZXN0W0VUSF9BTEVOXTsKCi0JLy9JRUVFODAyMTFETUVT
RygiUnggcHJvYmUiKTsKIAlpZWVlLT5zb2Z0bWFjX3N0YXRzLnJ4X3Byb2JlX3JxKys7Ci0JLy9E
TUVTRygiRGVzdCBpcyAiTUFDU1RSLCBNQUMyU1RSKGRlc3QpKTsKIAlpZiAocHJvYmVfcnFfcGFy
c2UoaWVlZSwgc2tiLCBkZXN0KSkgewotCQkvL0lFRUU4MDIxMURNRVNHKCJXYXMgZm9yIG1lISIp
OwogCQlpZWVlLT5zb2Z0bWFjX3N0YXRzLnR4X3Byb2JlX3JzKys7CiAJCWllZWU4MDIxMV9yZXNw
X3RvX3Byb2JlKGllZWUsIGRlc3QpOwogCX0KQEAgLTE2MTksMjAgKzE1ODAsMTcgQEAgaWVlZTgw
MjExX3J4X2F1dGhfcnEoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUsIHN0cnVjdCBza19i
dWZmICpza2IpCiB7CiAJdTggZGVzdFtFVEhfQUxFTl07CiAJaW50IHN0YXR1czsKLQkvL0lFRUU4
MDIxMURNRVNHKCJSeCBwcm9iZSIpOwogCWllZWUtPnNvZnRtYWNfc3RhdHMucnhfYXV0aF9ycSsr
OwoKIAlzdGF0dXMgPSBhdXRoX3JxX3BhcnNlKHNrYiwgZGVzdCk7CiAJaWYgKHN0YXR1cyAhPSAt
MSkKIAkJaWVlZTgwMjExX3Jlc3BfdG9fYXV0aChpZWVlLCBzdGF0dXMsIGRlc3QpOwotCS8vRE1F
U0coIkRlc3QgaXMgIk1BQ1NUUiwgTUFDMlNUUihkZXN0KSk7CiB9Cgogc3RhdGljIGlubGluZSB2
b2lkCiBpZWVlODAyMTFfcnhfYXNzb2NfcnEoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUs
IHN0cnVjdCBza19idWZmICpza2IpCiB7CiAJdTggZGVzdFtFVEhfQUxFTl07Ci0JLy91bnNpZ25l
ZCBsb25nIGZsYWdzOwoKIAlpZWVlLT5zb2Z0bWFjX3N0YXRzLnJ4X2Fzc19ycSsrOwogCWlmIChh
c3NvY19ycV9wYXJzZShza2IsIGRlc3QpICE9IC0xKQpAQCAtMTY1NywxMiArMTYxNSw3IEBAIHN0
YXRpYyBzaG9ydCBpZWVlODAyMTFfc3RhX3BzX3NsZWVwKHN0cnVjdCBpZWVlODAyMTFfZGV2aWNl
ICppZWVlLCB1MzIgKnRpbWVfaCwKIHsKIAlpbnQgdGltZW91dDsKIAl1OCBkdGltOwotCS8qaWYo
aWVlZS0+cHMgPT0gSUVFRTgwMjExX1BTX0RJU0FCTEVEIHx8Ci0JCWllZWUtPml3X21vZGUgIT0g
SVdfTU9ERV9JTkZSQSB8fAotCQlpZWVlLT5zdGF0ZSAhPSBJRUVFODAyMTFfTElOS0VEKQoKLQkJ
cmV0dXJuIDA7Ci0JKi8KIAlkdGltID0gaWVlZS0+Y3VycmVudF9uZXR3b3JrLmR0aW1fZGF0YTsK
IAlpZiAoIShkdGltICYgSUVFRTgwMjExX0RUSU1fVkFMSUQpKQogCQlyZXR1cm4gMDsKQEAgLTE3
MjgsNyArMTY4MSw2IEBAIHN0YXRpYyBpbmxpbmUgdm9pZCBpZWVlODAyMTFfc3RhX3BzKHN0cnVj
dCBpZWVlODAyMTFfZGV2aWNlICppZWVlKQogCQlpZiAoaWVlZS0+c3RhX3NsZWVwID09IDEpIHsK
IAkJCWllZWUtPmVudGVyX3NsZWVwX3N0YXRlKGllZWUtPmRldiwgdGgsIHRsKTsKIAkJfSBlbHNl
IGlmIChpZWVlLT5zdGFfc2xlZXAgPT0gMCkgewotCQkvLwlwcmludGsoInNlbmQgbnVsbCAxXG4i
KTsKIAkJCXNwaW5fbG9ja19pcnFzYXZlKCZpZWVlLT5tZ210X3R4X2xvY2ssIGZsYWdzMik7Cgog
CQkJaWYgKGllZWUtPnBzX2lzX3F1ZXVlX2VtcHR5KGllZWUtPmRldikpIHsKQEAgLTE4MTEsNyAr
MTc2Myw2IEBAIHN0YXRpYyB2b2lkIGllZWU4MDIxMV9wcm9jZXNzX2FjdGlvbihzdHJ1Y3QgaWVl
ZTgwMjExX2RldmljZSAqaWVlZSwKIAlzdHJ1Y3QgcnRsXzgwMjExX2hkciAqaGVhZGVyID0gKHN0
cnVjdCBydGxfODAyMTFfaGRyICopc2tiLT5kYXRhOwogCXU4ICphY3QgPSBpZWVlODAyMTFfZ2V0
X3BheWxvYWQoaGVhZGVyKTsKIAl1OCB0bXAgPSAwOwotLy8JSUVFRTgwMjExX0RFQlVHX0RBVEEo
SUVFRTgwMjExX0RMX0RBVEF8SUVFRTgwMjExX0RMX0JBLCBza2ItPmRhdGEsIHNrYi0+bGVuKTsK
IAlpZiAoYWN0ID09IE5VTEwpIHsKIAkJSUVFRTgwMjExX0RFQlVHKElFRUU4MDIxMV9ETF9FUlIs
ICJlcnJvciB0byBnZXQgcGF5bG9hZCBvZiBhY3Rpb24gZnJhbWVcbiIpOwogCQlyZXR1cm47CkBA
IC0xOTAxLDcgKzE4NTIsNiBAQCBpZWVlODAyMTFfcnhfZnJhbWVfc29mdG1hYyhzdHJ1Y3QgaWVl
ZTgwMjExX2RldmljZSAqaWVlZSwgc3RydWN0IHNrX2J1ZmYgKnNrYiwKIAl1MTYgZXJyY29kZTsK
IAlpbnQgYWlkOwogCXN0cnVjdCBpZWVlODAyMTFfYXNzb2NfcmVzcG9uc2VfZnJhbWUgKmFzc29j
X3Jlc3A7Ci0vLwlzdHJ1Y3QgaWVlZTgwMjExX2luZm9fZWxlbWVudCAqaW5mb19lbGVtZW50OwoK
IAlpZiAoIWllZWUtPnByb3RvX3N0YXJ0ZWQpCiAJCXJldHVybiAwOwpAQCAtMjAwNSw3ICsxOTU1
LDYgQEAgaWVlZTgwMjExX3J4X2ZyYW1lX3NvZnRtYWMoc3RydWN0IGllZWU4MDIxMV9kZXZpY2Ug
KmllZWUsIHN0cnVjdCBza19idWZmICpza2IsCiAJCQlpZWVlLT5zb2Z0bWFjX3N0YXRzLnJlYXNz
b2MrKzsKCiAJCQlub3RpZnlfd3hfYXNzb2NfZXZlbnQoaWVlZSk7Ci0JCQkvL0hUU2V0Q29ubmVj
dEJ3TW9kZShpZWVlLCBIVF9DSEFOTkVMX1dJRFRIXzIwLCBIVF9FWFRDSE5MX09GRlNFVF9OT19F
WFQpOwogCQkJUmVtb3ZlUGVlclRTKGllZWUsIGhlYWRlci0+YWRkcjIpOwogCQkJc2NoZWR1bGVf
d29yaygmaWVlZS0+YXNzb2NpYXRlX3Byb2NlZHVyZV93cSk7CiAJCX0KQEAgLTIwMTcsNyArMTk2
Niw2IEBAIGllZWU4MDIxMV9yeF9mcmFtZV9zb2Z0bWFjKHN0cnVjdCBpZWVlODAyMTFfZGV2aWNl
ICppZWVlLCBzdHJ1Y3Qgc2tfYnVmZiAqc2tiLAogCQlyZXR1cm4gLTE7CiAJfQoKLQkvL2Rldl9r
ZnJlZV9za2JfYW55KHNrYik7CiAJcmV0dXJuIDA7CiB9CgpAQCAtMjA4Myw5ICsyMDMxLDYgQEAg
dm9pZCBpZWVlODAyMTFfc29mdG1hY194bWl0KHN0cnVjdCBpZWVlODAyMTFfdHhiICp0eGIsIHN0
cnVjdCBpZWVlODAyMTFfZGV2aWNlICoKIAkJfSBlbHNlIHsKIAkJCWllZWUtPnNvZnRtYWNfZGF0
YV9oYXJkX3N0YXJ0X3htaXQodHhiLT5mcmFnbWVudHNbaV0sCiAJCQkJCQkJICAgaWVlZS0+ZGV2
LCBpZWVlLT5yYXRlKTsKLQkJCS8vaWVlZS0+c3RhdHMudHhfcGFja2V0cysrOwotCQkJLy9pZWVl
LT5zdGF0cy50eF9ieXRlcyArPSB0eGItPmZyYWdtZW50c1tpXS0+bGVuOwotCQkJLy9pZWVlLT5k
ZXYtPnRyYW5zX3N0YXJ0ID0gamlmZmllczsKIAkJfQogCX0KIAlpZWVlODAyMTFfdHhiX2ZyZWUo
dHhiKTsKQEAgLTIxMDYsNyArMjA1MSw2IEBAIHN0YXRpYyB2b2lkIGllZWU4MDIxMV9yZXN1bWVf
dHgoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUpCiAJCX0gZWxzZSB7CiAJCQlpZWVlLT5z
b2Z0bWFjX2RhdGFfaGFyZF9zdGFydF94bWl0KGllZWUtPnR4X3BlbmRpbmcudHhiLT5mcmFnbWVu
dHNbaV0sCiAJCQkJCQkJICAgaWVlZS0+ZGV2LCBpZWVlLT5yYXRlKTsKLQkJCS8vKGkrMSk8aWVl
ZS0+dHhfcGVuZGluZy50eGItPm5yX2ZyYWdzKTsKIAkJCWllZWUtPnN0YXRzLnR4X3BhY2tldHMr
KzsKIAkJCW5ldGlmX3RyYW5zX3VwZGF0ZShpZWVlLT5kZXYpOwogCQl9CkBAIC0yMTU1LDcgKzIw
OTksNiBAQCB2b2lkIGllZWU4MDIxMV93YWtlX3F1ZXVlKHN0cnVjdCBpZWVlODAyMTFfZGV2aWNl
ICppZWVlKQogCQkJCWllZWUtPnNlcV9jdHJsWzBdKys7CgogCQkJaWVlZS0+c29mdG1hY19kYXRh
X2hhcmRfc3RhcnRfeG1pdChza2IsIGllZWUtPmRldiwgaWVlZS0+YmFzaWNfcmF0ZSk7Ci0JCQkv
L2Rldl9rZnJlZV9za2JfYW55KHNrYik7Ly9lZGl0IGJ5IHRob21hcwogCQl9CiAJfQogCWlmICgh
aWVlZS0+cXVldWVfc3RvcCAmJiBpZWVlLT50eF9wZW5kaW5nLnR4YikKQEAgLTIxNzIsMTUgKzIx
MTUsMTIgQEAgRVhQT1JUX1NZTUJPTChpZWVlODAyMTFfd2FrZV9xdWV1ZSk7Cgogdm9pZCBpZWVl
ODAyMTFfc3RvcF9xdWV1ZShzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSkKIHsKLQkvL3Vu
c2lnbmVkIGxvbmcgZmxhZ3M7Ci0JLy9zcGluX2xvY2tfaXJxc2F2ZSgmaWVlZS0+bG9jayxmbGFn
cyk7CgogCWlmICghbmV0aWZfcXVldWVfc3RvcHBlZChpZWVlLT5kZXYpKSB7CiAJCW5ldGlmX3N0
b3BfcXVldWUoaWVlZS0+ZGV2KTsKIAkJaWVlZS0+c29mdG1hY19zdGF0cy5zd3R4c3RvcCsrOwog
CX0KIAlpZWVlLT5xdWV1ZV9zdG9wID0gMTsKLQkvL3NwaW5fdW5sb2NrX2lycXJlc3RvcmUoJmll
ZWUtPmxvY2ssZmxhZ3MpOwogfQogRVhQT1JUX1NZTUJPTChpZWVlODAyMTFfc3RvcF9xdWV1ZSk7
CgpAQCAtMjM4Myw3ICsyMzIzLDYgQEAgdm9pZCBpZWVlODAyMTFfZGlzYXNzb2NpYXRlKHN0cnVj
dCBpZWVlODAyMTFfZGV2aWNlICppZWVlKQogCWllZWUtPnN0YXRlID0gSUVFRTgwMjExX05PTElO
SzsKIAlpZWVlLT5pc19zZXRfa2V5ID0gZmFsc2U7CiAJaWVlZS0+bGlua19jaGFuZ2UoaWVlZS0+
ZGV2KTsKLQkvL0hUU2V0Q29ubmVjdEJ3TW9kZShpZWVlLCBIVF9DSEFOTkVMX1dJRFRIXzIwLCBI
VF9FWFRDSE5MX09GRlNFVF9OT19FWFQpOwogCW5vdGlmeV93eF9hc3NvY19ldmVudChpZWVlKTsK
IH0KIEVYUE9SVF9TWU1CT0woaWVlZTgwMjExX2Rpc2Fzc29jaWF0ZSk7CkBAIC0yNTI1LDggKzI0
NjQsNiBAQCB2b2lkIGllZWU4MDIxMV9zdGFydF9wcm90b2NvbChzdHJ1Y3QgaWVlZTgwMjExX2Rl
dmljZSAqaWVlZSkKCiAJaWYgKGllZWUtPmN1cnJlbnRfbmV0d29yay5iZWFjb25faW50ZXJ2YWwg
PT0gMCkKIAkJaWVlZS0+Y3VycmVudF9uZXR3b3JrLmJlYWNvbl9pbnRlcnZhbCA9IDEwMDsKLS8v
CXByaW50aygiPT09PiVzKCksIGNoYW46JWRcbiIsIF9fZnVuY19fLCBpZWVlLT5jdXJyZW50X25l
dHdvcmsuY2hhbm5lbCk7Ci0vLwlpZWVlLT5zZXRfY2hhbihpZWVlLT5kZXYsaWVlZS0+Y3VycmVu
dF9uZXR3b3JrLmNoYW5uZWwpOwoKIAlmb3IgKGkgPSAwOyBpIDwgMTc7IGkrKykgewogCQlpZWVl
LT5sYXN0X3J4c2VxX251bVtpXSA9IC0xOwpAQCAtMjczMiw4ICsyNjY5LDYgQEAgc3RhdGljIGlu
dCBpZWVlODAyMTFfd3BhX3NldF9hdXRoX2FsZ3Moc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmll
ZWUsIGludCB2YWx1ZSkKCiAJaWYgKGllZWUtPnNldF9zZWN1cml0eSkKIAkJaWVlZS0+c2V0X3Nl
Y3VyaXR5KGllZWUtPmRldiwgJnNlYyk7Ci0JLy9lbHNlCi0JLy8JcmV0ID0gLUVPUE5PVFNVUFA7
CgogCXJldHVybiAwOwogfQpAQCAtMjg0OSw3ICsyNzg0LDcgQEAgc3RhdGljIGludCBpZWVlODAy
MTFfd3BhX3NldF9lbmNyeXB0aW9uKHN0cnVjdCBpZWVlODAyMTFfZGV2aWNlICppZWVlLAogCQlp
ZiAoY3J5cHQpIHsKIAkJCXNlYy5lbmFibGVkID0gMDsKIAkJCS8qIEZJWE1FIEZJWE1FICovCi0J
CQkvL3NlYy5lbmNyeXB0ID0gMDsKKwkJCS8qIHNlYy5lbmNyeXB0ID0gMDsgKi8KIAkJCXNlYy5s
ZXZlbCA9IFNFQ19MRVZFTF8wOwogCQkJc2VjLmZsYWdzIHw9IFNFQ19FTkFCTEVEIHwgU0VDX0xF
VkVMOwogCQkJaWVlZTgwMjExX2NyeXB0X2RlbGF5ZWRfZGVpbml0KGllZWUsIGNyeXB0KTsKQEAg
LTI4NTgsNyArMjc5Myw3IEBAIHN0YXRpYyBpbnQgaWVlZTgwMjExX3dwYV9zZXRfZW5jcnlwdGlv
bihzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSwKIAl9CiAJc2VjLmVuYWJsZWQgPSAxOwog
LyogRklYTUUgRklYTUUgKi8KLS8vCXNlYy5lbmNyeXB0ID0gMTsKKy8qCXNlYy5lbmNyeXB0ID0g
MTsgKi8KIAlzZWMuZmxhZ3MgfD0gU0VDX0VOQUJMRUQ7CgogCS8qIElQVyBIVyBjYW5ub3QgYnVp
bGQgVEtJUCBNSUMsIGhvc3QgZGVjcnlwdGlvbiBzdGlsbCBuZWVkZWQuICovCkBAIC0zMDAwLDcg
KzI5MzUsNiBAQCBTZW5kRGlzYXNzb2NpYXRpb24oc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmll
ZWUsCiAJc2tiID0gaWVlZTgwMjExX2Rpc2Fzc29jaWF0ZV9za2IoYmVhY29uLCBpZWVlLCBhc1Jz
bik7CiAJaWYgKHNrYikgewogCQlzb2Z0bWFjX21nbXRfeG1pdChza2IsIGllZWUpOwotCQkvL2Rl
dl9rZnJlZV9za2JfYW55KHNrYik7Ly9lZGl0IGJ5IHRob21hcwogCX0KIH0KIEVYUE9SVF9TWU1C
T0woU2VuZERpc2Fzc29jaWF0aW9uKTsKQEAgLTMwMTEsNyArMjk0NSw2IEBAIGludCBpZWVlODAy
MTFfd3BhX3N1cHBsaWNhbnRfaW9jdGwoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUsIHN0
cnVjdCBpd19wb2luCiAJaW50IHJldCA9IDA7CgogCW11dGV4X2xvY2soJmllZWUtPnd4X211dGV4
KTsKLQkvL0lFRUVfREVCVUdfSU5GTygid3BhX3N1cHBsaWNhbnQ6IGxlbj0lZFxuIiwgcC0+bGVu
Z3RoKTsKCiAJaWYgKHAtPmxlbmd0aCA8IHNpemVvZihzdHJ1Y3QgaWVlZV9wYXJhbSkgfHwgIXAt
PnBvaW50ZXIpIHsKIAkJcmV0ID0gLUVJTlZBTDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvc3RhZ2lu
Zy9ydGw4MTkydS9pZWVlODAyMTEvaWVlZTgwMjExX3NvZnRtYWNfd3guYyBiL2RyaXZlcnMvc3Rh
Z2luZy9ydGw4MTkydS9pZWVlODAyMTEvaWVlZTgwMjExX3NvZnRtYWNfd3guYwppbmRleCAyYmYz
MzNjMTJiYmMuLjJmMjVlYWU1ZThjMCAxMDA2NDQKLS0tIGEvZHJpdmVycy9zdGFnaW5nL3J0bDgx
OTJ1L2llZWU4MDIxMS9pZWVlODAyMTFfc29mdG1hY193eC5jCisrKyBiL2RyaXZlcnMvc3RhZ2lu
Zy9ydGw4MTkydS9pZWVlODAyMTEvaWVlZTgwMjExX3NvZnRtYWNfd3guYwpAQCAtOTQsOCArOTQs
NiBAQCBpbnQgaWVlZTgwMjExX3d4X2dldF9mcmVxKHN0cnVjdCBpZWVlODAyMTFfZGV2aWNlICpp
ZWVlLAogCS8qIE5NIDAuNy4wIHdpbGwgbm90IGFjY2VwdCBjaGFubmVsIGFueSBtb3JlLiAqLwog
CWZ3cnEtPm0gPSBpZWVlODAyMTFfd2xhbl9mcmVxdWVuY2llc1tpZWVlLT5jdXJyZW50X25ldHdv
cmsuY2hhbm5lbC0xXSAqIDEwMDAwMDsKIAlmd3JxLT5lID0gMTsKLQkvKiBmd3JxLT5tID0gaWVl
ZS0+Y3VycmVudF9uZXR3b3JrLmNoYW5uZWw7ICovCi0JLyogZndycS0+ZSA9IDA7ICovCgogCXJl
dHVybiAwOwogfQpAQCAtMTM5LDcgKzEzNyw3IEBAIGludCBpZWVlODAyMTFfd3hfc2V0X3dhcChz
dHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSwKIAlpbnQgcmV0ID0gMDsKIAl1bnNpZ25lZCBs
b25nIGZsYWdzOwoKLQlzaG9ydCBpZnVwID0gaWVlZS0+cHJvdG9fc3RhcnRlZDsgLyogZGV2LT5m
bGFncyAmIElGRl9VUDsgKi8KKwlzaG9ydCBpZnVwID0gaWVlZS0+cHJvdG9fc3RhcnRlZDsKIAlz
dHJ1Y3Qgc29ja2FkZHIgKnRlbXAgPSAoc3RydWN0IHNvY2thZGRyICopYXdycTsKCiAJaWVlZS0+
c3luY19zY2FuX2h1cnJ5dXAgPSAxOwpAQCAtNTIyLDE2ICs1MjAsMTEgQEAgaW50IGllZWU4MDIx
MV93eF9zZXRfcG93ZXIoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUsCiAJCWdvdG8gZXhp
dDsKIAl9CiAJaWYgKHdycXUtPnBvd2VyLmZsYWdzICYgSVdfUE9XRVJfVElNRU9VVCkgewotCQkv
KiBpZWVlLT5wc19wZXJpb2QgPSB3cnF1LT5wb3dlci52YWx1ZSAvIDEwMDA7ICovCiAJCWllZWUt
PnBzX3RpbWVvdXQgPSB3cnF1LT5wb3dlci52YWx1ZSAvIDEwMDA7CiAJfQoKIAlpZiAod3JxdS0+
cG93ZXIuZmxhZ3MgJiBJV19QT1dFUl9QRVJJT0QpIHsKLQotCQkvKiBpZWVlLT5wc190aW1lb3V0
ID0gd3JxdS0+cG93ZXIudmFsdWUgLyAxMDAwOyAqLwogCQlpZWVlLT5wc19wZXJpb2QgPSB3cnF1
LT5wb3dlci52YWx1ZSAvIDEwMDA7Ci0JCS8qIHdycS0+dmFsdWUgLyAxMDI0OyAqLwotCiAJfQog
CXN3aXRjaCAod3JxdS0+cG93ZXIuZmxhZ3MgJiBJV19QT1dFUl9NT0RFKSB7CiAJY2FzZSBJV19Q
T1dFUl9VTklDQVNUX1I6CkBAIC01NDUsNyArNTM4LDYgQEAgaW50IGllZWU4MDIxMV93eF9zZXRf
cG93ZXIoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUsCiAJCWJyZWFrOwoKIAljYXNlIElX
X1BPV0VSX09OOgotCQkvKiBpZWVlLT5wcyA9IElFRUU4MDIxMV9QU19ESVNBQkxFRDsgKi8KIAkJ
YnJlYWs7CgogCWRlZmF1bHQ6CkBAIC01NzgsMTEgKzU3MCw4IEBAIGludCBpZWVlODAyMTFfd3hf
Z2V0X3Bvd2VyKHN0cnVjdCBpZWVlODAyMTFfZGV2aWNlICppZWVlLAogCQl3cnF1LT5wb3dlci5m
bGFncyA9IElXX1BPV0VSX1RJTUVPVVQ7CiAJCXdycXUtPnBvd2VyLnZhbHVlID0gaWVlZS0+cHNf
dGltZW91dCAqIDEwMDA7CiAJfSBlbHNlIHsKLQkJLyogcmV0ID0gLUVPUE5PVFNVUFA7ICovCi0J
CS8qIGdvdG8gZXhpdDsgKi8KIAkJd3JxdS0+cG93ZXIuZmxhZ3MgPSBJV19QT1dFUl9QRVJJT0Q7
CiAJCXdycXUtPnBvd2VyLnZhbHVlID0gaWVlZS0+cHNfcGVyaW9kICogMTAwMDsKLQkJLyogaWVl
ZS0+Y3VycmVudF9uZXR3b3JrLmR0aW1fcGVyaW9kICogaWVlZS0+Y3VycmVudF9uZXR3b3JrLmJl
YWNvbl9pbnRlcnZhbCAqIDEwMjQ7ICovCiAJfQoKIAlpZiAoKGllZWUtPnBzICYgKElFRUU4MDIx
MV9QU19NQkNBU1QgfCBJRUVFODAyMTFfUFNfVU5JQ0FTVCkpID09IChJRUVFODAyMTFfUFNfTUJD
QVNUIHwgSUVFRTgwMjExX1BTX1VOSUNBU1QpKQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5n
L3J0bDgxOTJ1L2llZWU4MDIxMS9pZWVlODAyMTFfdHguYyBiL2RyaXZlcnMvc3RhZ2luZy9ydGw4
MTkydS9pZWVlODAyMTEvaWVlZTgwMjExX3R4LmMKaW5kZXggZjVjOTkxZjZkMzRmLi4zMjAwMjE3
NTJmMjggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvc3RhZ2luZy9ydGw4MTkydS9pZWVlODAyMTEvaWVl
ZTgwMjExX3R4LmMKKysrIGIvZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1L2llZWU4MDIxMS9pZWVl
ODAyMTFfdHguYwpAQCAtMjE4LDcgKzIxOCw2IEBAIGludCBpZWVlODAyMTFfZW5jcnlwdF9mcmFn
bWVudCgKCgogdm9pZCBpZWVlODAyMTFfdHhiX2ZyZWUoc3RydWN0IGllZWU4MDIxMV90eGIgKnR4
YikgewotCS8vaW50IGk7CiAJaWYgKHVubGlrZWx5KCF0eGIpKQogCQlyZXR1cm47CiAJa2ZyZWUo
dHhiKTsKQEAgLTc2Nyw3ICs3NjYsNyBAQCBpbnQgaWVlZTgwMjExX3htaXQoc3RydWN0IHNrX2J1
ZmYgKnNrYiwgc3RydWN0IG5ldF9kZXZpY2UgKmRldikKIAkJCXNrYl9mcmFnID0gdHhiLT5mcmFn
bWVudHNbaV07CiAJCQl0Y2JfZGVzYyA9IChzdHJ1Y3QgY2JfZGVzYyAqKShza2JfZnJhZy0+Y2Ig
KyBNQVhfREVWX0FERFJfU0laRSk7CiAJCQlpZihxb3NfYWN0aXZlZCl7Ci0JCQkJc2tiX2ZyYWct
PnByaW9yaXR5ID0gc2tiLT5wcmlvcml0eTsvL1VQMkFDKHNrYi0+cHJpb3JpdHkpOworCQkJCXNr
Yl9mcmFnLT5wcmlvcml0eSA9IHNrYi0+cHJpb3JpdHk7CiAJCQkJdGNiX2Rlc2MtPnF1ZXVlX2lu
ZGV4ID0gIFVQMkFDKHNrYi0+cHJpb3JpdHkpOwogCQkJfSBlbHNlIHsKIAkJCQlza2JfZnJhZy0+
cHJpb3JpdHkgPSBXTUVfQUNfQks7CmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcvcnRsODE5
MnUvaWVlZTgwMjExL2llZWU4MDIxMV93eC5jIGIvZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1L2ll
ZWU4MDIxMS9pZWVlODAyMTFfd3guYwppbmRleCA2Y2Y5ZTI1ZDY2MDcuLmIwOWZkNzE3Yjc2MCAx
MDA2NDQKLS0tIGEvZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1L2llZWU4MDIxMS9pZWVlODAyMTFf
d3guYworKysgYi9kcml2ZXJzL3N0YWdpbmcvcnRsODE5MnUvaWVlZTgwMjExL2llZWU4MDIxMV93
eC5jCkBAIC02MCw3ICs2MCw2IEBAIHN0YXRpYyBpbmxpbmUgY2hhciAqcnRsODE5eF90cmFuc2xh
dGVfc2NhbihzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSwKIAkvKiBBZGQgdGhlIEVTU0lE
ICovCiAJaXdlLmNtZCA9IFNJT0NHSVdFU1NJRDsKIAlpd2UudS5kYXRhLmZsYWdzID0gMTsKLS8v
CWlmIChuZXR3b3JrLT5mbGFncyAmIE5FVFdPUktfRU1QVFlfRVNTSUQpIHsKIAlpZiAobmV0d29y
ay0+c3NpZF9sZW4gPT0gMCkgewogCQlpd2UudS5kYXRhLmxlbmd0aCA9IHNpemVvZigiPGhpZGRl
bj4iKTsKIAkJc3RhcnQgPSBpd2Vfc3RyZWFtX2FkZF9wb2ludChpbmZvLCBzdGFydCwgc3RvcCwg
Jml3ZSwgIjxoaWRkZW4+Iik7CkBAIC05Miw4ICs5MSw2IEBAIHN0YXRpYyBpbmxpbmUgY2hhciAq
cnRsODE5eF90cmFuc2xhdGVfc2NhbihzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSwKCiAJ
LyogQWRkIGZyZXF1ZW5jeS9jaGFubmVsICovCiAJaXdlLmNtZCA9IFNJT0NHSVdGUkVROwotLyoJ
aXdlLnUuZnJlcS5tID0gaWVlZTgwMjExX2ZyZXF1ZW5jeShuZXR3b3JrLT5jaGFubmVsLCBuZXR3
b3JrLT5tb2RlKTsKLQlpd2UudS5mcmVxLmUgPSAzOyAqLwogCWl3ZS51LmZyZXEubSA9IG5ldHdv
cmstPmNoYW5uZWw7CiAJaXdlLnUuZnJlcS5lID0gMDsKIAlpd2UudS5mcmVxLmkgPSAwOwpAQCAt
MTgyLDcgKzE3OSw2IEBAIHN0YXRpYyBpbmxpbmUgY2hhciAqcnRsODE5eF90cmFuc2xhdGVfc2Nh
bihzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSwKCiAJaWYgKGllZWUtPndwYV9lbmFibGVk
ICYmIG5ldHdvcmstPndwYV9pZV9sZW4pIHsKIAkJY2hhciBidWZbTUFYX1dQQV9JRV9MRU4gKiAy
ICsgMzBdOwotCS8vCXByaW50aygiV1BBIElFXG4iKTsKIAkJdTggKnAgPSBidWY7CiAJCXAgKz0g
c3ByaW50ZihwLCAid3BhX2llPSIpOwogCQlmb3IgKGkgPSAwOyBpIDwgbmV0d29yay0+d3BhX2ll
X2xlbjsgaSsrKSB7CkBAIC0yMzQsOSArMjMwLDcgQEAgaW50IGllZWU4MDIxMV93eF9nZXRfc2Nh
bihzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSwKIAl1bnNpZ25lZCBsb25nIGZsYWdzOwoK
IAljaGFyICpldiA9IGV4dHJhOwotLy8JY2hhciAqc3RvcCA9IGV2ICsgSVdfU0NBTl9NQVhfREFU
QTsKIAljaGFyICpzdG9wID0gZXYgKyB3cnF1LT5kYXRhLmxlbmd0aDsvKiBJV19TQ0FOX01BWF9E
QVRBOyAqLwotCS8vY2hhciAqc3RvcCA9IGV2ICsgSVdfU0NBTl9NQVhfREFUQTsKIAlpbnQgaSA9
IDA7CiAJaW50IGVyciA9IDA7CiAJSUVFRTgwMjExX0RFQlVHX1dYKCJHZXR0aW5nIHNjYW5cbiIp
OwpAQCAtNTQxLDcgKzUzNSw3IEBAIGludCBpZWVlODAyMTFfd3hfc2V0X2VuY29kZV9leHQoc3Ry
dWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUsCiAJCQlyZXR1cm4gLUVJTlZBTDsKIAl9CgotCXNl
Yy5mbGFncyB8PSBTRUNfRU5BQkxFRDsvLyB8IFNFQ19FTkNSWVBUOworCXNlYy5mbGFncyB8PSBT
RUNfRU5BQkxFRDsKIAlpZiAoKGVuY29kaW5nLT5mbGFncyAmIElXX0VOQ09ERV9ESVNBQkxFRCkg
fHwKIAkgICAgZXh0LT5hbGcgPT0gSVdfRU5DT0RFX0FMR19OT05FKSB7CiAJCWlmICgqY3J5cHQp
CkBAIC01NTUsNyArNTQ5LDYgQEAgaW50IGllZWU4MDIxMV93eF9zZXRfZW5jb2RlX2V4dChzdHJ1
Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSwKCiAJCWlmIChpID09IFdFUF9LRVlTKSB7CiAJCQlz
ZWMuZW5hYmxlZCA9IDA7Ci0JCSAgICAgIC8vICBzZWMuZW5jcnlwdCA9IDA7CiAJCQlzZWMubGV2
ZWwgPSBTRUNfTEVWRUxfMDsKIAkJCXNlYy5mbGFncyB8PSBTRUNfTEVWRUw7CiAJCX0KQEAgLTU2
Myw3ICs1NTYsNiBAQCBpbnQgaWVlZTgwMjExX3d4X3NldF9lbmNvZGVfZXh0KHN0cnVjdCBpZWVl
ODAyMTFfZGV2aWNlICppZWVlLAogCX0KCiAJc2VjLmVuYWJsZWQgPSAxOwotICAgIC8vICAgIHNl
Yy5lbmNyeXB0ID0gMTsKIAlzd2l0Y2ggKGV4dC0+YWxnKSB7CiAJY2FzZSBJV19FTkNPREVfQUxH
X1dFUDoKIAkJYWxnID0gIldFUCI7CkBAIC02MzEsMTkgKzYyMywxNSBAQCBpbnQgaWVlZTgwMjEx
X3d4X3NldF9lbmNvZGVfZXh0KHN0cnVjdCBpZWVlODAyMTFfZGV2aWNlICppZWVlLAogCX0KCiAJ
aWYgKGV4dC0+YWxnICE9IElXX0VOQ09ERV9BTEdfTk9ORSkgewotCQkvL21lbWNweShzZWMua2V5
c1tpZHhdLCBleHQtPmtleSwgZXh0LT5rZXlfbGVuKTsKIAkJc2VjLmtleV9zaXplc1tpZHhdID0g
ZXh0LT5rZXlfbGVuOwogCQlzZWMuZmxhZ3MgfD0gQklUKGlkeCk7CiAJCWlmIChleHQtPmFsZyA9
PSBJV19FTkNPREVfQUxHX1dFUCkgewotCQkgICAgICAvLyAgc2VjLmVuY29kZV9hbGdbaWR4XSA9
IFNFQ19BTEdfV0VQOwogCQkJc2VjLmZsYWdzIHw9IFNFQ19MRVZFTDsKIAkJCXNlYy5sZXZlbCA9
IFNFQ19MRVZFTF8xOwogCQl9IGVsc2UgaWYgKGV4dC0+YWxnID09IElXX0VOQ09ERV9BTEdfVEtJ
UCkgewotCQkgICAgICAvLyAgc2VjLmVuY29kZV9hbGdbaWR4XSA9IFNFQ19BTEdfVEtJUDsKIAkJ
CXNlYy5mbGFncyB8PSBTRUNfTEVWRUw7CiAJCQlzZWMubGV2ZWwgPSBTRUNfTEVWRUxfMjsKIAkJ
fSBlbHNlIGlmIChleHQtPmFsZyA9PSBJV19FTkNPREVfQUxHX0NDTVApIHsKLQkJICAgICAgIC8v
IHNlYy5lbmNvZGVfYWxnW2lkeF0gPSBTRUNfQUxHX0NDTVA7CiAJCQlzZWMuZmxhZ3MgfD0gU0VD
X0xFVkVMOwogCQkJc2VjLmxldmVsID0gU0VDX0xFVkVMXzM7CiAJCX0KQEAgLTc2MSw4ICs3NDks
NiBAQCBpbnQgaWVlZTgwMjExX3d4X3NldF9hdXRoKHN0cnVjdCBpZWVlODAyMTFfZGV2aWNlICpp
ZWVlLAogCQlicmVhazsKCiAJY2FzZSBJV19BVVRIXzgwMjExX0FVVEhfQUxHOgotCQkvL3ByaW50
aygiPT09PT09PiVzKCk6ZGF0YS0+dmFsdWUgaXMgJWRcbiIsX19mdW5jX18sZGF0YS0+dmFsdWUp
OwotCS8vCWllZWUtPm9wZW5fd2VwID0gKGRhdGEtPnZhbHVlJklXX0FVVEhfQUxHX09QRU5fU1lT
VEVNKT8xOjA7CiAJCWlmIChkYXRhLT52YWx1ZSAmIElXX0FVVEhfQUxHX1NIQVJFRF9LRVkpIHsK
IAkJCWllZWUtPm9wZW5fd2VwID0gMDsKIAkJCWllZWUtPmF1dGhfbW9kZSA9IDE7CkBAIC04MDAs
OCArNzg2LDcgQEAgaW50IGllZWU4MDIxMV93eF9zZXRfZ2VuX2llKHN0cnVjdCBpZWVlODAyMTFf
ZGV2aWNlICppZWVlLCB1OCAqaWUsIHNpemVfdCBsZW4pCgogCWlmIChsZW4+TUFYX1dQQV9JRV9M
RU4gfHwgKGxlbiAmJiBpZSA9PSBOVUxMKSkKIAl7Ci0JLy8JcHJpbnRrKCJyZXR1cm4gZXJyb3Ig
b3V0LCBsZW46JWRcbiIsIGxlbik7Ci0JcmV0dXJuIC1FSU5WQUw7CisJCXJldHVybiAtRUlOVkFM
OwogCX0KCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1L2llZWU4MDIxMS9y
dGw4MTl4X0JBUHJvYy5jIGIvZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1L2llZWU4MDIxMS9ydGw4
MTl4X0JBUHJvYy5jCmluZGV4IGFkZmUxODc4ZjM2ZC4uYWVkMTE0NTczZWRiIDEwMDY0NAotLS0g
YS9kcml2ZXJzL3N0YWdpbmcvcnRsODE5MnUvaWVlZTgwMjExL3J0bDgxOXhfQkFQcm9jLmMKKysr
IGIvZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1L2llZWU4MDIxMS9ydGw4MTl4X0JBUHJvYy5jCkBA
IC0xNjQsNyArMTY0LDYgQEAgc3RhdGljIHN0cnVjdCBza19idWZmICppZWVlODAyMTFfQUREQkEo
c3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUsIHU4ICpEc3QsIHMKCiAJSUVFRTgwMjExX0RF
QlVHX0RBVEEoSUVFRTgwMjExX0RMX0RBVEF8SUVFRTgwMjExX0RMX0JBLCBza2ItPmRhdGEsIHNr
Yi0+bGVuKTsKIAlyZXR1cm4gc2tiOwotCS8vcmV0dXJuIE5VTEw7CiB9CgoKQEAgLTIwNSw3ICsy
MDQsNiBAQCBzdGF0aWMgc3RydWN0IHNrX2J1ZmYgKmllZWU4MDIxMV9ERUxCQSgKIAlza2IgPSBk
ZXZfYWxsb2Nfc2tiKGxlbiArIHNpemVvZihzdHJ1Y3QgcnRsXzgwMjExX2hkcl8zYWRkcikpOyAv
KiBuZWVkIHRvIGFkZCBzb21ldGhpbmcgb3RoZXJzPyBGSVhNRSAqLwogCWlmICghc2tiKQogCQly
ZXR1cm4gTlVMTDsKLS8vCW1lbXNldChza2ItPmRhdGEsIDAsIGxlbitzaXplb2YoIHN0cnVjdCBy
dGxfODAyMTFfaGRyXzNhZGRyKSk7CiAJc2tiX3Jlc2VydmUoc2tiLCBpZWVlLT50eF9oZWFkcm9v
bSk7CgogCURlbGJhID0gc2tiX3B1dChza2IsIHNpemVvZihzdHJ1Y3QgcnRsXzgwMjExX2hkcl8z
YWRkcikpOwpAQCAtNTk4LDcgKzU5Niw2IEBAIGludCBpZWVlODAyMTFfcnhfREVMQkEoc3RydWN0
IGllZWU4MDIxMV9kZXZpY2UgKmllZWUsIHN0cnVjdCBza19idWZmICpza2IpCiAJCXBUeFRzLT5h
ZGRfYmFfcmVxX2luX3Byb2dyZXNzID0gZmFsc2U7CiAJCXBUeFRzLT5hZGRfYmFfcmVxX2RlbGF5
ZWQgPSBmYWxzZTsKIAkJZGVsX3RpbWVyX3N5bmMoJnBUeFRzLT50c19hZGRfYmFfdGltZXIpOwot
CQkvL1BsYXRmb3JtQ2FuY2VsVGltZXIoQWRhcHRlciwgJnBUeFRzLT50c19hZGRfYmFfdGltZXIp
OwogCQlUeFRzRGVsZXRlQkEoaWVlZSwgcFR4VHMpOwogCX0KIAlyZXR1cm4gMDsKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvc3RhZ2luZy9ydGw4MTkydS9pZWVlODAyMTEvcnRsODE5eF9IVC5oIGIvZHJp
dmVycy9zdGFnaW5nL3J0bDgxOTJ1L2llZWU4MDIxMS9ydGw4MTl4X0hULmgKaW5kZXggNTY5MWRl
MDNlNzQwLi43MTY2NWIzZGE2MTcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvc3RhZ2luZy9ydGw4MTky
dS9pZWVlODAyMTEvcnRsODE5eF9IVC5oCisrKyBiL2RyaXZlcnMvc3RhZ2luZy9ydGw4MTkydS9p
ZWVlODAyMTEvcnRsODE5eF9IVC5oCkBAIC0yMzMsOCArMjMzLDYgQEAgdHlwZWRlZiBzdHJ1Y3Qg
X0JTU19IVCB7CiAJdTE2CQkJCQliZEhUSW5mb0xlbjsKCiAJSFRfU1BFQ19WRVIJCQkJYmRIVFNw
ZWNWZXI7Ci0JLy9zdHJ1Y3QgaHRfY2FwYWJpbGl0eV9lbGUgICAgICAgICAgICAgIGJkSFRDYXBF
bGU7Ci0JLy9IVF9JTkZPUk1BVElPTl9FTEUJCWJkSFRJbmZvRWxlOwoKIAl1OAkJCQkJYmRSVDJS
VEFnZ3JlZ2F0aW9uOwogCXU4CQkJCQliZFJUMlJUTG9uZ1Nsb3RUaW1lOwpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1L2llZWU4MDIxMS9ydGw4MTl4X0hUUHJvYy5jIGIvZHJp
dmVycy9zdGFnaW5nL3J0bDgxOTJ1L2llZWU4MDIxMS9ydGw4MTl4X0hUUHJvYy5jCmluZGV4IDQz
NTlkNmY1NzM1Yy4uYzNiNjY4NzAyNGNkIDEwMDY0NAotLS0gYS9kcml2ZXJzL3N0YWdpbmcvcnRs
ODE5MnUvaWVlZTgwMjExL3J0bDgxOXhfSFRQcm9jLmMKKysrIGIvZHJpdmVycy9zdGFnaW5nL3J0
bDgxOTJ1L2llZWU4MDIxMS9ydGw4MTl4X0hUUHJvYy5jCkBAIC00Miw3ICs0Miw2IEBAIHN0YXRp
YyB1OCBCRUxLSU5GNUQ4MjMzNFYzX1JBTElOS1szXSA9IHsweDAwLCAweDFjLCAweGRmfTsKIHN0
YXRpYyB1OCBQQ0lfUkFMSU5LWzNdID0gezB4MDAsIDB4OTAsIDB4Y2N9Owogc3RhdGljIHU4IEVE
SU1BWF9SQUxJTktbM10gPSB7MHgwMCwgMHgwZSwgMHgyZX07CiBzdGF0aWMgdTggQUlSTElOS19S
QUxJTktbM10gPSB7MHgwMCwgMHgxOCwgMHgwMn07Ci0vL3N0YXRpYyB1OCBETElOS19BVEhFUk9T
WzNdID0gezB4MDAsIDB4MWMsIDB4ZjB9Owogc3RhdGljIHU4IENJU0NPX0JST0FEQ09NWzNdID0g
ezB4MDAsIDB4MTcsIDB4OTR9OwogLyoKICAqIDIwMDgvMDQvMDEgTUggRm9yIENpc2NvIEcgbW9k
ZSBSWCBUUCBXZSBuZWVkIHRvIGNoYW5nZSBGVyBkdXJhdGlvbi4gU2hvdWxkIHdlCkBAIC01OSwx
MCArNTgsNyBAQCBzdGF0aWMgdTggQ0lTQ09fQlJPQURDT01bM10gPSB7MHgwMCwgMHgxNywgMHg5
NH07CiB2b2lkIEhUVXBkYXRlRGVmYXVsdFNldHRpbmcoc3RydWN0IGllZWU4MDIxMV9kZXZpY2Ug
KmllZWUpCiB7CiAJUFJUX0hJR0hfVEhST1VHSFBVVAlwSFRJbmZvID0gaWVlZS0+cEhUSW5mbzsK
LQkvL2NvbnN0IHR5cGVvZiggKChzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqKTApLT5wSFRJbmZv
ICkgKl9fbXB0ciA9ICZwSFRJbmZvOwoKLQkvL3ByaW50aygicEhUaW5mbzolcCwgJnBIVGluZm86
JXAsIG1wdHI6JXAsICBvZmZzZXRvZjoleFxuIiwgcEhUSW5mbywgJnBIVEluZm8sIF9fbXB0ciwg
b2Zmc2V0b2Yoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UsIHBIVEluZm8pKTsKLQkvL3ByaW50aygi
PT09PmllZWU6JXAsXG4iLCBpZWVlKTsKIAkvKiBTaG9ydEdJIHN1cHBvcnQgKi8KIAlwSFRJbmZv
LT5iUmVnU2hvcnRHSTIwTUh6ID0gMTsKIAlwSFRJbmZvLT5iUmVnU2hvcnRHSTQwTUh6ID0gMTsK
QEAgLTIzNyw3ICsyMzMsNiBAQCBzdGF0aWMgdTE2IEhUTWNzVG9EYXRhUmF0ZShzdHJ1Y3QgaWVl
ZTgwMjExX2RldmljZSAqaWVlZSwgdTggbk1jc1JhdGUpCiAgKi8KIHUxNiAgVHhDb3VudFRvRGF0
YVJhdGUoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUsIHU4IG5EYXRhUmF0ZSkKIHsKLQkv
L1BSVF9ISUdIX1RIUk9VR0hQVVQJcEhUSW5mbyA9IGllZWUtPnBIVEluZm87CiAJdTE2CQlDQ0tP
RkRNUmF0ZVsxMl0gPSB7MHgwMiwgMHgwNCwgMHgwYiwgMHgxNiwgMHgwYywgMHgxMiwgMHgxOCwg
MHgyNCwgMHgzMCwgMHg0OCwgMHg2MCwgMHg2Y307CiAJdTgJaXM0ME1IeiA9IDA7CiAJdTgJaXNT
aG9ydEdJID0gMDsKQEAgLTI0OCwyMyArMjQzLDE1IEBAIHUxNiAgVHhDb3VudFRvRGF0YVJhdGUo
c3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUsIHU4IG5EYXRhUmF0ZSkKIAkJaWYgKG5EYXRh
UmF0ZSA+PSAweDEwICYmIG5EYXRhUmF0ZSA8PSAweDFmKSB7IC8vaWYobkRhdGFSYXRlID4gMTEg
JiYgbkRhdGFSYXRlIDwgMjggKQogCQkJaXM0ME1IeiA9IDA7CiAJCQlpc1Nob3J0R0kgPSAwOwot
Ci0JCSAgICAgIC8vIG5EYXRhUmF0ZSA9IG5EYXRhUmF0ZSAtIDEyOwogCQl9IGVsc2UgaWYgKG5E
YXRhUmF0ZSA+PSAweDIwICAmJiBuRGF0YVJhdGUgPD0gMHgyZikgeyAvLygyNywgNDQpCiAJCQlp
czQwTUh6ID0gMTsKIAkJCWlzU2hvcnRHSSA9IDA7Ci0KLQkJCS8vbkRhdGFSYXRlID0gbkRhdGFS
YXRlIC0gMjg7CiAJCX0gZWxzZSBpZiAobkRhdGFSYXRlID49IDB4MzAgICYmIG5EYXRhUmF0ZSA8
PSAweDNmKSB7IC8vKDQzLCA2MCkKIAkJCWlzNDBNSHogPSAwOwogCQkJaXNTaG9ydEdJID0gMTsK
LQotCQkJLy9uRGF0YVJhdGUgPSBuRGF0YVJhdGUgLSA0NDsKIAkJfSBlbHNlIGlmIChuRGF0YVJh
dGUgPj0gMHg0MCAgJiYgbkRhdGFSYXRlIDw9IDB4NGYpIHsgLy8oNTksIDc2KQogCQkJaXM0ME1I
eiA9IDE7CiAJCQlpc1Nob3J0R0kgPSAxOwotCi0JCQkvL25EYXRhUmF0ZSA9IG5EYXRhUmF0ZSAt
IDYwOwogCQl9CiAJCXJldHVybiBNQ1NfREFUQV9SQVRFW2lzNDBNSHpdW2lzU2hvcnRHSV1bbkRh
dGFSYXRlICYgMHhmXTsKIAl9CkBAIC0zNzQsMTAgKzM2MSw3IEBAIHN0YXRpYyBib29sIEhUSU9U
QWN0SXNEaXNhYmxlTUNTMTUoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUpCiAJcmV0VmFs
dWUgPSB0cnVlOwogI2VsaWYgKERFVl9CVVNfVFlQRSA9PSBQQ0lfSU5URVJGQUNFKQogCS8qIEVu
YWJsZSBNQ1MxNSBpZiB0aGUgcGVlciBpcyBDaXNjbyBBUC4gYnkgRW1pbHksIDIwMDguMDUuMTIg
Ki8KLS8vCWlmKHBCc3NEZXNjLT5iQ2lzY29DYXBFeGlzdCkKLS8vCQlyZXRWYWx1ZSA9IGZhbHNl
OwotLy8JZWxzZQotCQlyZXRWYWx1ZSA9IGZhbHNlOworCXJldFZhbHVlID0gZmFsc2U7CiAjZW5k
aWYKICNlbmRpZgogI2VuZGlmCkBAIC00NzQsNyArNDU4LDYgQEAgdm9pZCBIVENvbnN0cnVjdENh
cGFiaWxpdHlFbGVtZW50KHN0cnVjdCBpZWVlODAyMTFfZGV2aWNlICppZWVlLCB1OCAqcG9zSFRD
YXAsIHUKIHsKIAlQUlRfSElHSF9USFJPVUdIUFVUCXBIVCA9IGllZWUtPnBIVEluZm87CiAJc3Ry
dWN0IGh0X2NhcGFiaWxpdHlfZWxlICAgKnBDYXBFTEUgPSBOVUxMOwotCS8vdTggYklzRGVjbGFy
ZU1DUzEzOwoKIAlpZiAoIXBvc0hUQ2FwIHx8ICFwSFQpIHsKIAkJSUVFRTgwMjExX0RFQlVHKElF
RUU4MDIxMV9ETF9FUlIsCkBAIC00OTksMTMgKzQ4MiwxMCBAQCB2b2lkIEhUQ29uc3RydWN0Q2Fw
YWJpbGl0eUVsZW1lbnQoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUsIHU4ICpwb3NIVENh
cCwgdQogCWVsc2UKIAkJcENhcEVMRS0+Q2hsV2lkdGggPSAocEhULT5iUmVnQlc0ME1IeiA/IDEg
OiAwKTsKCi0vLwlwQ2FwRUxFLT5DaGxXaWR0aAkJPSAocEhULT5iUmVnQlc0ME1Iej8xOjApOwog
CXBDYXBFTEUtPk1pbW9Qd3JTYXZlCQk9IHBIVC0+U2VsZk1pbW9QczsKIAlwQ2FwRUxFLT5HcmVl
bkZpZWxkCQk9IDA7IC8qIFRoaXMgZmVhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIG5vdyEhICovCiAJ
cENhcEVMRS0+U2hvcnRHSTIwTWh6CQk9IDE7IC8qIFdlIGNhbiByZWNlaXZlIFNob3J0IEdJISEg
Ki8KIAlwQ2FwRUxFLT5TaG9ydEdJNDBNaHoJCT0gMTsgLyogV2UgY2FuIHJlY2VpdmUgU2hvcnQg
R0khISAqLwotCS8vRGJnUHJpbnQoIlRYIEhUIGNhcC9pbmZvIGVsZSBCVz0lZCBTRzIwPSVkIFNH
NDA9JWRcblxyIiwKLQkvL3BDYXBFTEUtPkNobFdpZHRoLCBwQ2FwRUxFLT5TaG9ydEdJMjBNaHos
IHBDYXBFTEUtPlNob3J0R0k0ME1oeik7CiAJcENhcEVMRS0+VHhTVEJDCQkJPSAxOwogCXBDYXBF
TEUtPlJ4U1RCQwkJCT0gMDsKIAlwQ2FwRUxFLT5EZWxheUJBCQk9IDA7CS8qIERvIG5vdCBzdXBw
b3J0IG5vdyEhICovCkBAIC01NjQsMTMgKzU0NCwxMiBAQCB2b2lkIEhUQ29uc3RydWN0Q2FwYWJp
bGl0eUVsZW1lbnQoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUsIHU4ICpwb3NIVENhcCwg
dQogCWVsc2UKIAkJKmxlbiA9IDI2ICsgMjsKCi0vLwlJRUVFODAyMTFfREVCVUdfREFUQShJRUVF
ODAyMTFfRExfREFUQSB8IElFRUU4MDIxMV9ETF9IVCwgcG9zSFRDYXAsICpsZW4gLTIpOwoKIAkv
KgogCSAqIFByaW50IGVhY2ggZmllbGQgaW4gZGV0YWlsLiBEcml2ZXIgc2hvdWxkIG5vdCBwcmlu
dCBvdXQgdGhpcyBtZXNzYWdlCiAJICogYnkgZGVmYXVsdAogCSAqLwotLy8JSFREZWJ1Z0hUQ2Fw
YWJpbGl0eShwb3NIVENhcCwgKHU4KikiSFRDb25zdHJ1Y3RDYXBhYmlsaXR5KCkiKTsKKwkvKiBI
VERlYnVnSFRDYXBhYmlsaXR5KHBvc0hUQ2FwLCAodTgqKSJIVENvbnN0cnVjdENhcGFiaWxpdHko
KSIpOyAqLwogfQoKIC8qCkBAIC02MjEsOCArNjAwLDYgQEAgdm9pZCBIVENvbnN0cnVjdEluZm9F
bGVtZW50KHN0cnVjdCBpZWVlODAyMTFfZGV2aWNlICppZWVlLCB1OCAqcG9zSFRJbmZvLCB1OCAq
bGUKIAkJLyogU1RBIHNob3VsZCBub3QgZ2VuZXJhdGUgSGlnaCBUaHJvdWdocHV0IEluZm9ybWF0
aW9uIEVsZW1lbnQgKi8KIAkJKmxlbiA9IDA7CiAJfQotCS8vSUVFRTgwMjExX0RFQlVHX0RBVEEo
SUVFRTgwMjExX0RMX0RBVEEgfCBJRUVFODAyMTFfRExfSFQsIHBvc0hUSW5mbywgKmxlbiAtIDIp
OwotCS8vSFREZWJ1Z0hUSW5mbyhwb3NIVEluZm8sICJIVENvbnN0cnVjdEluZm9yRWxlbWVudCIp
OwogfQoKIC8qCkBAIC02NjcsMTAgKzY0NCwxMCBAQCB2b2lkIEhUQ29uc3RydWN0UlQyUlRBZ2dF
bGVtZW50KHN0cnVjdCBpZWVlODAyMTFfZGV2aWNlICppZWVlLCB1OCAqcG9zUlQyUlRBZ2csCiAJ
KnBvc1JUMlJUQWdnKysgPSAweDRjOwogCSpwb3NSVDJSVEFnZysrID0gMHgwMjsKIAkqcG9zUlQy
UlRBZ2crKyA9IDB4MDE7Ci0JKnBvc1JUMlJUQWdnID0gMHgxMDsvLypwb3NSVDJSVEFnZyA9IDB4
MDI7CisJKnBvc1JUMlJUQWdnID0gMHgxMDsKCiAJaWYgKGllZWUtPmJTdXBwb3J0UmVtb3RlV2Fr
ZVVwKQotCQkqcG9zUlQyUlRBZ2cgfD0gMHgwODsvL1JUX0hUX0NBUF9VU0VfV09XOworCQkqcG9z
UlQyUlRBZ2cgfD0gMHgwODsKCiAJKmxlbiA9IDYgKyAyOwogCXJldHVybjsKQEAgLTg1NSwxMSAr
ODMyLDcgQEAgdm9pZCBIVE9uQXNzb2NSc3Aoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUp
CiAJCXJldHVybjsKIAl9CiAJSUVFRTgwMjExX0RFQlVHKElFRUU4MDIxMV9ETF9IVCwgIj09PT4g
SFRPbkFzc29jUnNwX3dxKCk6IEhUX0VOQUJMRVxuIik7Ci0vLwlJRUVFODAyMTFfREVCVUdfREFU
QShJRUVFODAyMTFfRExfREFUQSwgcEhUSW5mby0+UGVlckhUQ2FwQnVmLCBzaXplb2Yoc3RydWN0
IGh0X2NhcGFiaWxpdHlfZWxlKSk7Ci0vLwlJRUVFODAyMTFfREVCVUdfREFUQShJRUVFODAyMTFf
RExfREFUQSwgcEhUSW5mby0+UGVlckhUSW5mb0J1Ziwgc2l6ZW9mKEhUX0lORk9STUFUSU9OX0VM
RSkpOwoKLS8vCUhURGVidWdIVENhcGFiaWxpdHkocEhUSW5mby0+UGVlckhUQ2FwQnVmLCJIVE9u
QXNzb2NSc3Bfd3EiKTsKLS8vCUhURGVidWdIVEluZm8ocEhUSW5mby0+UGVlckhUSW5mb0J1Ziwi
SFRPbkFzc29jUnNwX3dxIik7CiAJaWYgKCFtZW1jbXAocEhUSW5mby0+UGVlckhUQ2FwQnVmLCBF
V0MxMU5IVENhcCwgc2l6ZW9mKEVXQzExTkhUQ2FwKSkpCiAJCXBQZWVySFRDYXAgPSAoc3RydWN0
IGh0X2NhcGFiaWxpdHlfZWxlICopKCZwSFRJbmZvLT5QZWVySFRDYXBCdWZbNF0pOwogCWVsc2UK
QEAgLTg3NCw4ICs4NDcsNyBAQCB2b2lkIEhUT25Bc3NvY1JzcChzdHJ1Y3QgaWVlZTgwMjExX2Rl
dmljZSAqaWVlZSkKIAkgKiBDb25maWd1cmF0aW9uczoKIAkgKi8KIAlJRUVFODAyMTFfREVCVUdf
REFUQShJRUVFODAyMTFfRExfREFUQSB8IElFRUU4MDIxMV9ETF9IVCwgcFBlZXJIVENhcCwgc2l6
ZW9mKHN0cnVjdCBodF9jYXBhYmlsaXR5X2VsZSkpOwotLy8JSUVFRTgwMjExX0RFQlVHX0RBVEEo
SUVFRTgwMjExX0RMX0RBVEF8SUVFRTgwMjExX0RMX0hULCBwUGVlckhUSW5mbywgc2l6ZW9mKEhU
X0lORk9STUFUSU9OX0VMRSkpOwotCS8vIENvbmZpZyBTdXBwb3J0ZWQgQ2hhbm5lbCBXaWR0aCBz
ZXR0aW5nCisJLyogQ29uZmlnIFN1cHBvcnRlZCBDaGFubmVsIFdpZHRoIHNldHRpbmcgKi8KIAlI
VFNldENvbm5lY3RCd01vZGUoaWVlZSwgKGVudW0gaHRfY2hhbm5lbF93aWR0aCkocFBlZXJIVENh
cC0+Q2hsV2lkdGgpLCAoZW51bSBodF9leHRlbnNpb25fY2hhbl9vZmZzZXQpKHBQZWVySFRJbmZv
LT5FeHRDaGxPZmZzZXQpKTsKCiAJcEhUSW5mby0+YkN1clR4Qlc0ME1IeiA9IChwUGVlckhUSW5m
by0+UmVjb21tZW1kZWRUeFdpZHRoID09IDEpOwpAQCAtOTk5LDcgKzk3MSw3IEBAIHZvaWQgSFRP
bkFzc29jUnNwKHN0cnVjdCBpZWVlODAyMTFfZGV2aWNlICppZWVlKQogCWVsc2UKIAkJcE1jc0Zp
bHRlciA9IE1DU19GSUxURVJfQUxMOwogCS8qIFdCIGFkZCBmb3IgTUNTOCBidWcgKi8KLS8vCXBN
Y3NGaWx0ZXIgPSBNQ1NfRklMVEVSXzFTUzsKKwkvKiBwTWNzRmlsdGVyID0gTUNTX0ZJTFRFUl8x
U1M7ICovCiAJaWVlZS0+SFRIaWdoZXN0T3BlcmFSYXRlID0gSFRHZXRIaWdoZXN0TUNTUmF0ZShp
ZWVlLCBpZWVlLT5kb3QxMUhUT3BlcmF0aW9uYWxSYXRlU2V0LCBwTWNzRmlsdGVyKTsKIAlpZWVl
LT5IVEN1cnJlbnRPcGVyYVJhdGUgPSBpZWVlLT5IVEhpZ2hlc3RPcGVyYVJhdGU7CgpAQCAtMTEx
NCwxMCArMTA4Niw2IEBAIHZvaWQgSFRJbml0aWFsaXplQnNzRGVzYyhQQlNTX0hUIHBCc3NIVCkK
IHZvaWQgSFRSZXNldFNlbGZBbmRTYXZlUGVlclNldHRpbmcoc3RydWN0IGllZWU4MDIxMV9kZXZp
Y2UgKmllZWUsCXN0cnVjdCBpZWVlODAyMTFfbmV0d29yayAqcE5ldHdvcmspCiB7CiAJUFJUX0hJ
R0hfVEhST1VHSFBVVAkJcEhUSW5mbyA9IGllZWUtPnBIVEluZm87Ci0vLwl1MTYJCQkJCQluTWF4
QU1TRFVTaXplOwotLy8Jc3RydWN0IGh0X2NhcGFiaWxpdHlfZWxlICAgICAgICpwUGVlckhUQ2Fw
ID0gKHN0cnVjdCBodF9jYXBhYmlsaXR5X2VsZSAqKXBOZXR3b3JrLT5ic3NodC5iZEhUQ2FwQnVm
OwotLy8JUEhUX0lORk9STUFUSU9OX0VMRQkJcFBlZXJIVEluZm8gPSAoUEhUX0lORk9STUFUSU9O
X0VMRSlwTmV0d29yay0+YnNzaHQuYmRIVEluZm9CdWY7Ci0vLwl1OCoJcE1jc0ZpbHRlcjsKIAl1
OAliSU9UQWN0aW9uID0gMDsKCiAJLyoKQEAgLTExODksNyArMTE1Nyw2IEBAIHZvaWQgSFRSZXNl
dFNlbGZBbmRTYXZlUGVlclNldHRpbmcoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUsCXN0
cnVjdCBpZWVlODAyCiB2b2lkIEhUVXBkYXRlU2VsZkFuZFBlZXJTZXR0aW5nKHN0cnVjdCBpZWVl
ODAyMTFfZGV2aWNlICppZWVlLAlzdHJ1Y3QgaWVlZTgwMjExX25ldHdvcmsgKnBOZXR3b3JrKQog
ewogCVBSVF9ISUdIX1RIUk9VR0hQVVQJICAgICAgICBwSFRJbmZvID0gaWVlZS0+cEhUSW5mbzsK
LS8vCXN0cnVjdCBodF9jYXBhYmlsaXR5X2VsZSAgICAgICAqcFBlZXJIVENhcCA9IChzdHJ1Y3Qg
aHRfY2FwYWJpbGl0eV9lbGUgKilwTmV0d29yay0+YnNzaHQuYmRIVENhcEJ1ZjsKIAlQSFRfSU5G
T1JNQVRJT05fRUxFCQlwUGVlckhUSW5mbyA9IChQSFRfSU5GT1JNQVRJT05fRUxFKXBOZXR3b3Jr
LT5ic3NodC5iZEhUSW5mb0J1ZjsKCiAJaWYgKHBIVEluZm8tPmJDdXJyZW50SFRTdXBwb3J0KSB7
CkBAIC0xMjU0LDE5ICsxMjIxLDExIEBAIHN0YXRpYyB2b2lkIEhUU2V0Q29ubmVjdEJ3TW9kZUNh
bGxiYWNrKHN0cnVjdCBpZWVlODAyMTFfZGV2aWNlICppZWVlKQogdm9pZCBIVFNldENvbm5lY3RC
d01vZGUoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUsIGVudW0gaHRfY2hhbm5lbF93aWR0
aCBCYW5kd2lkdGgsIGVudW0gaHRfZXh0ZW5zaW9uX2NoYW5fb2Zmc2V0IE9mZnNldCkKIHsKIAlQ
UlRfSElHSF9USFJPVUdIUFVUIHBIVEluZm8gPSBpZWVlLT5wSFRJbmZvOwotLy8JdTMyIGZsYWdz
ID0gMDsKCiAJaWYgKCFwSFRJbmZvLT5iUmVnQlc0ME1IeikKIAkJcmV0dXJuOwoKLQkvKiBUbyBy
ZWR1Y2UgZHVtbXkgb3BlcmF0aW9uICovCi0vLwlpZigocEhUSW5mby0+YkN1ckJXNDBNSHo9PWZh
bHNlICYmIEJhbmR3aWR0aD09SFRfQ0hBTk5FTF9XSURUSF8yMCkgfHwKLS8vCSAgIChwSFRJbmZv
LT5iQ3VyQlc0ME1Iej09dHJ1ZSAmJiBCYW5kd2lkdGg9PUhUX0NIQU5ORUxfV0lEVEhfMjBfNDAg
JiYgT2Zmc2V0PT1wSFRJbmZvLT5DdXJTVEFFeHRDaG5sT2Zmc2V0KSkKLS8vCQlyZXR1cm47Ci0K
LS8vCXNwaW5fbG9ja19pcnFzYXZlKCYoaWVlZS0+Yndfc3BpbmxvY2spLCBmbGFncyk7CiAJaWYg
KHBIVEluZm8tPmJTd0J3SW5Qcm9ncmVzcykgewotLy8JCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUo
JihpZWVlLT5id19zcGlubG9jayksIGZsYWdzKTsKIAkJcmV0dXJuOwogCX0KIAkvKiBpZiBpbiBo
YWxmIE4gbW9kZSwgc2V0IHRvIDIwTSBiYW5kd2lkdGggcGxlYXNlIDA5LjA4LjIwMDggV0IuICov
CkBAIC0xMjk2LDUgKzEyNTUsNCBAQCB2b2lkIEhUU2V0Q29ubmVjdEJ3TW9kZShzdHJ1Y3QgaWVl
ZTgwMjExX2RldmljZSAqaWVlZSwgZW51bSBodF9jaGFubmVsX3dpZHRoIEJhbgogCSAqLwogCUhU
U2V0Q29ubmVjdEJ3TW9kZUNhbGxiYWNrKGllZWUpOwoKLS8vCXNwaW5fdW5sb2NrX2lycXJlc3Rv
cmUoJihpZWVlLT5id19zcGlubG9jayksIGZsYWdzKTsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMv
c3RhZ2luZy9ydGw4MTkydS9pZWVlODAyMTEvcnRsODE5eF9Rb3MuaCBiL2RyaXZlcnMvc3RhZ2lu
Zy9ydGw4MTkydS9pZWVlODAyMTEvcnRsODE5eF9Rb3MuaAppbmRleCA0NDQxOGEyODRmZTkuLmM1
NjkyZTU0MTRlYyAxMDA2NDQKLS0tIGEvZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1L2llZWU4MDIx
MS9ydGw4MTl4X1Fvcy5oCisrKyBiL2RyaXZlcnMvc3RhZ2luZy9ydGw4MTkydS9pZWVlODAyMTEv
cnRsODE5eF9Rb3MuaApAQCAtNTEsNyArNTEsNyBAQCBzdHJ1Y3QgcW9zX3RzaW5mbyB7CiAgKiBO
b3RlOiBzaXplb2YgNTUgYnl0ZXMKICAqLwogc3RydWN0IHRzcGVjX2JvZHkgewotCXN0cnVjdCBx
b3NfdHNpbmZvCXRzX2luZm87CS8vdTgJVFNJbmZvWzNdOworCXN0cnVjdCBxb3NfdHNpbmZvCXRz
X2luZm87CiAJdTE2CW5vbWluYWxfbXNkX3VzaXplOwogCXUxNgltYXhfbXNkX3VzaXplOwogCXUz
MgltaW5fc2VydmljZV9pdHY7CkBAIC03OSw0ICs3OSw0IEBAIHN0cnVjdCBvY3RldF9zdHJpbmcg
ewoKICNkZWZpbmUgaXNfYWNfdmFsaWQoYWMpCQkJKCgoYWMpIDw9IDcpID8gdHJ1ZSA6IGZhbHNl
KQoKLSNlbmRpZiAvLyAjaWZuZGVmIF9fSU5DX1FPU19UWVBFX0gKKyNlbmRpZgpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1L2llZWU4MDIxMS9ydGw4MTl4X1RTUHJvYy5jIGIv
ZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1L2llZWU4MDIxMS9ydGw4MTl4X1RTUHJvYy5jCmluZGV4
IDQ2OWQ2YWIzZGM4ZS4uOTAzMzczNzY5NDY0IDEwMDY0NAotLS0gYS9kcml2ZXJzL3N0YWdpbmcv
cnRsODE5MnUvaWVlZTgwMjExL3J0bDgxOXhfVFNQcm9jLmMKKysrIGIvZHJpdmVycy9zdGFnaW5n
L3J0bDgxOTJ1L2llZWU4MDIxMS9ydGw4MTl4X1RTUHJvYy5jCkBAIC0zMCw3ICszMCw2IEBAIHN0
YXRpYyB2b2lkIFJ4UGt0UGVuZGluZ1RpbWVvdXQoc3RydWN0IHRpbWVyX2xpc3QgKnQpCgogCXN0
cnVjdCByeF9yZW9yZGVyX2VudHJ5CSpwUmVvcmRlckVudHJ5ID0gTlVMTDsKCi0JLy91MzIgZmxh
Z3MgPSAwOwogCXVuc2lnbmVkIGxvbmcgZmxhZ3MgPSAwOwogCXU4IGluZGV4ID0gMDsKIAlib29s
IGJQa3RJbkJ1ZiA9IGZhbHNlOwpAQCAtMTc5LDE0ICsxNzgsMTIgQEAgdm9pZCBUU0luaXRpYWxp
emUoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUpCiAJfQogCS8qIEluaXRpYWxpemUgdW51
c2VkIFJ4IFJlb3JkZXIgTGlzdC4gKi8KIAlJTklUX0xJU1RfSEVBRCgmaWVlZS0+UnhSZW9yZGVy
X1VudXNlZF9MaXN0KTsKLS8vI2lmZGVmIFRPX0RPX0xJU1QKIAlmb3IgKGNvdW50ID0gMDsgY291
bnQgPCBSRU9SREVSX0VOVFJZX05VTTsgY291bnQrKykgewogCQlsaXN0X2FkZF90YWlsKCZwUnhS
ZW9yZGVyRW50cnktPkxpc3QsICZpZWVlLT5SeFJlb3JkZXJfVW51c2VkX0xpc3QpOwogCQlpZiAo
Y291bnQgPT0gKFJFT1JERVJfRU5UUllfTlVNLTEpKQogCQkJYnJlYWs7CiAJCXBSeFJlb3JkZXJF
bnRyeSA9ICZpZWVlLT5SeFJlb3JkZXJFbnRyeVtjb3VudCsxXTsKIAl9Ci0vLyNlbmRpZgogfQoK
IHN0YXRpYyB2b2lkIEFkbWl0VFMoc3RydWN0IGllZWU4MDIxMV9kZXZpY2UgKmllZWUsCkBAIC0y
MDUsNyArMjAyLDYgQEAgc3RhdGljIHN0cnVjdCB0c19jb21tb25faW5mbyAqU2VhcmNoQWRtaXRU
UlN0cmVhbShzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSwKIAkJCQkJCSAgdTggKkFkZHIs
IHU4IFRJRCwKIAkJCQkJCSAgZW51bSB0cl9zZWxlY3QgVHhSeFNlbGVjdCkKIHsKLQkvL0RJUkVD
VElPTl9WQUxVRQlkaXI7CiAJdTgJZGlyOwogCWJvb2wJCQkJc2VhcmNoX2Rpcls0XSA9IHswfTsK
IAlzdHJ1Y3QgbGlzdF9oZWFkCQkqcHNlYXJjaF9saXN0OyAvKiBGSVhNRSAqLwpAQCAtMjQwLDE2
ICsyMzYsMTMgQEAgc3RhdGljIHN0cnVjdCB0c19jb21tb25faW5mbyAqU2VhcmNoQWRtaXRUUlN0
cmVhbShzdHJ1Y3QgaWVlZTgwMjExX2RldmljZSAqaWVlZSwKIAllbHNlCiAJCXBzZWFyY2hfbGlz
dCA9ICZpZWVlLT5SeF9UU19BZG1pdF9MaXN0OwoKLQkvL2ZvcihkaXIgPSBESVJfVVA7IGRpciA8
PSBESVJfQklfRElSOyBkaXIrKykKIAlmb3IgKGRpciA9IDA7IGRpciA8PSBESVJfQklfRElSOyBk
aXIrKykgewogCQlpZiAoIXNlYXJjaF9kaXJbZGlyXSkKIAkJCWNvbnRpbnVlOwogCQlsaXN0X2Zv
cl9lYWNoX2VudHJ5KHBSZXQsIHBzZWFyY2hfbGlzdCwgbGlzdCkgewotCS8vCQlJRUVFODAyMTFf
REVCVUcoSUVFRTgwMjExX0RMX1RTLCAiQUREOiVwTSwgVElEOiVkLCBkaXI6JWRcbiIsIHBSZXQt
PkFkZHIsIHBSZXQtPlRTcGVjLnRzX2luZm8udWNUU0lELCBwUmV0LT5UU3BlYy50c19pbmZvLnVj
RGlyZWN0aW9uKTsKIAkJCWlmIChtZW1jbXAocFJldC0+YWRkciwgQWRkciwgNikgPT0gMCkKIAkJ
CQlpZiAocFJldC0+dF9zcGVjLnRzX2luZm8udWNfdHNpZCA9PSBUSUQpCiAJCQkJCWlmIChwUmV0
LT50X3NwZWMudHNfaW5mby51Y19kaXJlY3Rpb24gPT0gZGlyKSB7Ci0JLy8JCQkJCXByaW50aygi
QmluZ28hIGdvdCBpdFxuIik7CiAJCQkJCQlicmVhazsKIAkJCQkJfQogCQl9CkBAIC00MDksMTQg
KzQwMiwxMiBAQCBib29sIEdldFRzKAogc3RhdGljIHZvaWQgUmVtb3ZlVHNFbnRyeShzdHJ1Y3Qg
aWVlZTgwMjExX2RldmljZSAqaWVlZSwgc3RydWN0IHRzX2NvbW1vbl9pbmZvICpwVHMsCiAJCQkg
IGVudW0gdHJfc2VsZWN0IFR4UnhTZWxlY3QpCiB7Ci0JLy91MzIgZmxhZ3MgPSAwOwogCXVuc2ln
bmVkIGxvbmcgZmxhZ3MgPSAwOwogCWRlbF90aW1lcl9zeW5jKCZwVHMtPnNldHVwX3RpbWVyKTsK
IAlkZWxfdGltZXJfc3luYygmcFRzLT5pbmFjdF90aW1lcik7CiAJVHNJbml0RGVsQkEoaWVlZSwg
cFRzLCBUeFJ4U2VsZWN0KTsKCiAJaWYgKFR4UnhTZWxlY3QgPT0gUlhfRElSKSB7Ci0vLyNpZmRl
ZiBUT19ET19MSVNUCiAJCXN0cnVjdCByeF9yZW9yZGVyX2VudHJ5CSpwUnhSZW9yZGVyRW50cnk7
CiAJCXN0cnVjdCByeF90c19yZWNvcmQgICAgICpwUnhUUyA9IChzdHJ1Y3QgcnhfdHNfcmVjb3Jk
ICopcFRzOwogCQlpZiAodGltZXJfcGVuZGluZygmcFJ4VFMtPnJ4X3BrdF9wZW5kaW5nX3RpbWVy
KSkKQEAgLTQyNCw3ICs0MTUsNiBAQCBzdGF0aWMgdm9pZCBSZW1vdmVUc0VudHJ5KHN0cnVjdCBp
ZWVlODAyMTFfZGV2aWNlICppZWVlLCBzdHJ1Y3QgdHNfY29tbW9uX2luZm8gKgoKIAkJd2hpbGUg
KCFsaXN0X2VtcHR5KCZwUnhUUy0+cnhfcGVuZGluZ19wa3RfbGlzdCkpIHsKIAkJCXNwaW5fbG9j
a19pcnFzYXZlKCYoaWVlZS0+cmVvcmRlcl9zcGlubG9jayksIGZsYWdzKTsKLQkJCS8vcFJ4UmVv
cmRlckVudHJ5ID0gbGlzdF9lbnRyeSgmcFJ4VFMtPnJ4X3BlbmRpbmdfcGt0X2xpc3QucHJldixS
WF9SRU9SREVSX0VOVFJZLExpc3QpOwogCQkJcFJ4UmVvcmRlckVudHJ5ID0gbGlzdF9lbnRyeShw
UnhUUy0+cnhfcGVuZGluZ19wa3RfbGlzdC5wcmV2LCBzdHJ1Y3QgcnhfcmVvcmRlcl9lbnRyeSwg
TGlzdCk7CiAJCQlsaXN0X2RlbF9pbml0KCZwUnhSZW9yZGVyRW50cnktPkxpc3QpOwogCQkJewpA
QCAtNDQ0LDcgKzQzNCw2IEBAIHN0YXRpYyB2b2lkIFJlbW92ZVRzRW50cnkoc3RydWN0IGllZWU4
MDIxMV9kZXZpY2UgKmllZWUsIHN0cnVjdCB0c19jb21tb25faW5mbyAqCiAJCQlzcGluX3VubG9j
a19pcnFyZXN0b3JlKCYoaWVlZS0+cmVvcmRlcl9zcGlubG9jayksIGZsYWdzKTsKIAkJfQoKLS8v
I2VuZGlmCiAJfSBlbHNlIHsKIAkJc3RydWN0IHR4X3RzX3JlY29yZCAqcFR4VFMgPSAoc3RydWN0
IHR4X3RzX3JlY29yZCAqKXBUczsKIAkJZGVsX3RpbWVyX3N5bmMoJnBUeFRTLT50c19hZGRfYmFf
dGltZXIpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1L3I4MTkwX3J0bDgy
NTYuYyBiL2RyaXZlcnMvc3RhZ2luZy9ydGw4MTkydS9yODE5MF9ydGw4MjU2LmMKaW5kZXggNzE2
YmUyNGJhY2U2Li5mODc5MGFiMTZjNjEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvc3RhZ2luZy9ydGw4
MTkydS9yODE5MF9ydGw4MjU2LmMKKysrIGIvZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1L3I4MTkw
X3J0bDgyNTYuYwpAQCAtMzQsOSArMzQsNiBAQCB2b2lkIHBoeV9zZXRfcmY4MjU2X2JhbmR3aWR0
aChzdHJ1Y3QgbmV0X2RldmljZSAqZGV2LCBlbnVtIGh0X2NoYW5uZWxfd2lkdGggQmFuZAogCXU4
CWVSRlBhdGg7CiAJc3RydWN0IHI4MTkyX3ByaXYgKnByaXYgPSBpZWVlODAyMTFfcHJpdihkZXYp
OwoKLQkvKiBmb3IoZVJGUGF0aCA9IFJGOTBfUEFUSF9BOyBlUkZQYXRoIDxwSGFsRGF0YS0+TnVt
VG90YWxSRlBhdGg7Ci0JICogIGVSRlBhdGgrKykKLQkgKi8KIAlmb3IgKGVSRlBhdGggPSAwOyBl
UkZQYXRoIDwgUkY5MF9QQVRIX01BWDsgZVJGUGF0aCsrKSB7CiAJCWlmICghcnRsODE5Ml9waHlf
Q2hlY2tJc0xlZ2FsUkZQYXRoKGRldiwgZVJGUGF0aCkpCiAJCQljb250aW51ZTsKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvc3RhZ2luZy9ydGw4MTkydS9yODE5MlVfY29yZS5jIGIvZHJpdmVycy9zdGFn
aW5nL3J0bDgxOTJ1L3I4MTkyVV9jb3JlLmMKaW5kZXggNDEwYzhhM2U1NmQ3Li44NWQ0NzZhZjA1
ODYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvc3RhZ2luZy9ydGw4MTkydS9yODE5MlVfY29yZS5jCisr
KyBiL2RyaXZlcnMvc3RhZ2luZy9ydGw4MTkydS9yODE5MlVfY29yZS5jCkBAIC00NTgsOCArNDU4
LDYgQEAgaW50IHJlYWRfbmljX2R3b3JkKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsIGludCBpbmR4
LCB1MzIgKmRhdGEpCiAJcmV0dXJuIDA7CiB9CgotLyogdTggcmVhZF9waHlfY2NrKHN0cnVjdCBu
ZXRfZGV2aWNlICpkZXYsIHU4IGFkcik7ICovCi0vKiB1OCByZWFkX3BoeV9vZmRtKHN0cnVjdCBu
ZXRfZGV2aWNlICpkZXYsIHU4IGFkcik7ICovCiAvKgogICogdGhpcyBtaWdodCBzdGlsbCBjYWxs
ZWQgaW4gd2hhdCB3YXMgdGhlIFBIWSBydGw4MTg1L3J0bDgxOTIgY29tbW9uIGNvZGUKICAqIHBs
YW5zIGFyZSB0byBwb3NzaWJpbGl0eSB0dXJuIGl0IGFnYWluIGluIG9uZSBjb21tb24gY29kZS4u
LgpAQCAtNDc0Nyw3ICs0NzQ1LDcgQEAgc3RhdGljIHZvaWQgcnRsODE5Ml9yeF9ub21hbChzdHJ1
Y3Qgc2tfYnVmZiAqc2tiKQogCQkvKiBUT0RPICovCiAJCS8qIGhhcmR3YXJlIHJlbGF0ZWQgaW5m
byAqLwogCQkvKiBQcm9jZXNzIHRoZSBNUERVIHJlY2VpdmVkICovCi0JCXNrYl90cmltKHNrYiwg
c2tiLT5sZW4gLSA0LypzQ3JjTG5nKi8pOworCQlza2JfdHJpbShza2IsIHNrYi0+bGVuIC0gNCk7
CgogCQlyeF9wa3RfbGVuID0gc2tiLT5sZW47CiAJCWllZWU4MDIxMV9oZHIgPSAoc3RydWN0IHJ0
bF84MDIxMV9oZHJfMWFkZHIgKilza2ItPmRhdGE7CkBAIC00ODQ2LDcgKzQ4NDQsNiBAQCBzdGF0
aWMgdm9pZCBydGw4MTkyX3J4X2NtZChzdHJ1Y3Qgc2tfYnVmZiAqc2tiKQoKIAlpZiAoKHNrYi0+
bGVuID49ICgyMCArIHNpemVvZihzdHJ1Y3QgcnhfZGVzY184MTl4X3VzYikpKSAmJiAoc2tiLT5s
ZW4gPCBSWF9VUkJfU0laRSkpIHsKIAkJcXVlcnlfcnhfY21kcGt0X2Rlc2Nfc3RhdHVzKHNrYiwg
JnN0YXRzKTsKLQkJLyogcHJmZC0+cXVldWVfaWQgPSAxOyAqLwoKIAkJLyogUHJvY2VzcyB0aGUg
Y29tbWFuZCBwYWNrZXQgcmVjZWl2ZWQuICovCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5n
L3J0bDgxOTJ1L3I4MTkyVV9kbS5jIGIvZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1L3I4MTkyVV9k
bS5jCmluZGV4IGIxNWNmOTgyODFkZC4uNTFkYWIwODYzYjg2IDEwMDY0NAotLS0gYS9kcml2ZXJz
L3N0YWdpbmcvcnRsODE5MnUvcjgxOTJVX2RtLmMKKysrIGIvZHJpdmVycy9zdGFnaW5nL3J0bDgx
OTJ1L3I4MTkyVV9kbS5jCkBAIC01Nyw4ICs1Nyw2IEBAIHN0YXRpYwl2b2lkCWRtX2JhbmR3aWR0
aF9hdXRvc3dpdGNoKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpOwoKIHN0YXRpYwl2b2lkCWRtX2No
ZWNrX3R4cG93ZXJfdHJhY2tpbmcoc3RydWN0IG5ldF9kZXZpY2UgKmRldik7CgotLyogc3RhdGlj
CXZvaWQJZG1fdHhwb3dlcl9yZXNldF9yZWNvdmVyeShzdHJ1Y3QgbmV0X2RldmljZSAqZGV2KTsg
Ki8KLQogLyogRE0gLS0+IER5bmFtaWMgSW5pdCBHYWluIGJ5IFJTU0kgKi8KIHN0YXRpYwl2b2lk
CWRtX2RpZ19pbml0KHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpOwogc3RhdGljCXZvaWQJZG1fY3Ry
bF9pbml0Z2Fpbl9ieXJzc2koc3RydWN0IG5ldF9kZXZpY2UgKmRldik7CkBAIC03Myw3ICs3MSw2
IEBAIHN0YXRpYwl2b2lkIGRtX2luaXRfY3RzdG9zZWxmKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYp
OwogLyogRE0gLS0+IEVEQ0EgdHVyYm8gbW9kZSBjb250cm9sICovCiBzdGF0aWMJdm9pZAlkbV9j
aGVja19lZGNhX3R1cmJvKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpOwoKLS8qc3RhdGljCXZvaWQJ
ZG1fZ3Bpb19jaGFuZ2VfcmYoc3RydWN0IG5ldF9kZXZpY2UgKmRldik7Ki8KIC8qIERNIC0tPiBD
aGVjayBQQkMgKi8KIHN0YXRpYwl2b2lkIGRtX2NoZWNrX3BiY19ncGlvKHN0cnVjdCBuZXRfZGV2
aWNlICpkZXYpOwoKQEAgLTEyMSw3ICsxMTgsNiBAQCB2b2lkIGluaXRfaGFsX2RtKHN0cnVjdCBu
ZXRfZGV2aWNlICpkZXYpCiAJLyogSW5pdGlhbCBUWCBQb3dlciBDb250cm9sIGZvciBuZWFyL2Zh
ciByYW5nZSAsIGFkZCBieSBhbXkgMjAwOC8wNS8xNSwgcG9ydGluZyBmcm9tIHdpbmRvd3MgY29k
ZS4gKi8KIAlkbV9pbml0X2R5bmFtaWNfdHhwb3dlcihkZXYpOwogCWluaXRfcmF0ZV9hZGFwdGl2
ZShkZXYpOwotCS8qIGRtX2luaXRpYWxpemVfdHhwb3dlcl90cmFja2luZyhkZXYpOyAqLwogCWRt
X2RpZ19pbml0KGRldik7CiAJZG1faW5pdF9lZGNhX3R1cmJvKGRldik7CiAJZG1faW5pdF9iYW5k
d2lkdGhfYXV0b3N3aXRjaChkZXYpOwpAQCAtMTk1LDEwICsxOTEsNiBAQCB2b2lkIGRtX0NoZWNr
UnhBZ2dyZWdhdGlvbihzdHJ1Y3QgbmV0X2RldmljZSAqZGV2KQoKIHZvaWQgaGFsX2RtX3dhdGNo
ZG9nKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpCiB7Ci0JLyogc3RydWN0IHI4MTkyX3ByaXYgKnBy
aXYgPSBpZWVlODAyMTFfcHJpdihkZXYpOyAqLwotCi0JLyogc3RhdGljIHU4CXByZXZpb3VzX2Jz
c2lkWzZdID17MH07ICovCi0KIAkvKiBBZGQgYnkgYW15IDIwMDgvMDUvMTUgLHBvcnRpbmcgZnJv
bSB3aW5kb3dzIGNvZGUuICovCiAJZG1fY2hlY2tfcmF0ZV9hZGFwdGl2ZShkZXYpOwogCWRtX2R5
bmFtaWNfdHhwb3dlcihkZXYpOwpAQCAtMzA5LDcgKzMwMSw2IEBAIHN0YXRpYyB2b2lkIGRtX2No
ZWNrX3JhdGVfYWRhcHRpdmUoc3RydWN0IG5ldF9kZXZpY2UgKmRldikKIAkJcmV0dXJuOwoKIAlp
ZiAocHJpdi0+aWVlZTgwMjExLT5zdGF0ZSA9PSBJRUVFODAyMTFfTElOS0VEKSB7Ci0JCS8qUlRf
VFJBQ0UoQ09NUF9SQVRFLCAiZG1fQ2hlY2tSYXRlQWRhcHRpdmUoKTogXHQiKTsqLwoKIAkJLyog
Q2hlY2sgd2hldGhlciBTaG9ydCBHSSBpcyBlbmFibGVkICovCiAJCWJzaG9ydF9naV9lbmFibGVk
ID0gKHBIVEluZm8tPmJDdXJUeEJXNDBNSHogJiYgcEhUSW5mby0+YkN1clNob3J0R0k0ME1Ieikg
fHwKQEAgLTM1OCwzNiArMzQ5LDI3IEBAIHN0YXRpYyB2b2lkIGRtX2NoZWNrX3JhdGVfYWRhcHRp
dmUoc3RydWN0IG5ldF9kZXZpY2UgKmRldikKIAkJCQkJKHByYS0+bG93X3Jzc2lfdGhyZXNoX2Zv
cl9yYTQwTSk6KHByYS0+bG93X3Jzc2lfdGhyZXNoX2Zvcl9yYTIwTSk7CiAJCX0KCi0JCS8qRGJn
UHJpbnQoIltETV0gVEhyZXNoIEgvTD0lZC8lZFxuXHIiLCBSQVRSLkhpZ2hSU1NJVGhyZXNoRm9y
UkEsIFJBVFIuTG93UlNTSVRocmVzaEZvclJBKTsqLwogCQlpZiAocHJpdi0+dW5kZWNvcmF0ZWRf
c21vb3RoZWRfcHdkYiA+PSAobG9uZylIaWdoUlNTSVRocmVzaEZvclJBKSB7Ci0JCQkvKkRiZ1By
aW50KCJbRE1dIFJTU0k9JWQgU1RBPUhJR0hcblxyIiwgcEhhbERhdGEtPlVuZGVjb3JhdGVkU21v
b3RoZWRQV0RCKTsqLwogCQkJcHJhLT5yYXRyX3N0YXRlID0gRE1fUkFUUl9TVEFfSElHSDsKIAkJ
CXRhcmdldFJBVFIgPSBwcmEtPnVwcGVyX3Jzc2lfdGhyZXNob2xkX3JhdHI7CiAJCX0gZWxzZSBp
ZiAocHJpdi0+dW5kZWNvcmF0ZWRfc21vb3RoZWRfcHdkYiA+PSAobG9uZylMb3dSU1NJVGhyZXNo
Rm9yUkEpIHsKLQkJCS8qRGJnUHJpbnQoIltETV0gUlNTST0lZCBTVEE9TWlkZGxlXG5cciIsIHBI
YWxEYXRhLT5VbmRlY29yYXRlZFNtb290aGVkUFdEQik7Ki8KIAkJCXByYS0+cmF0cl9zdGF0ZSA9
IERNX1JBVFJfU1RBX01JRERMRTsKIAkJCXRhcmdldFJBVFIgPSBwcmEtPm1pZGRsZV9yc3NpX3Ro
cmVzaG9sZF9yYXRyOwogCQl9IGVsc2UgewotCQkJLypEYmdQcmludCgiW0RNXSBSU1NJPSVkIFNU
QT1MT1dcblxyIiwgcEhhbERhdGEtPlVuZGVjb3JhdGVkU21vb3RoZWRQV0RCKTsqLwogCQkJcHJh
LT5yYXRyX3N0YXRlID0gRE1fUkFUUl9TVEFfTE9XOwogCQkJdGFyZ2V0UkFUUiA9IHByYS0+bG93
X3Jzc2lfdGhyZXNob2xkX3JhdHI7CiAJCX0KCiAJCS8qIGNvc2EgYWRkIGZvciB0ZXN0ICovCiAJ
CWlmIChwcmEtPnBpbmdfcnNzaV9lbmFibGUpIHsKLQkJCS8qcEhhbERhdGEtPlVuZGVjb3JhdGVk
U21vb3RoZWRQV0RCID0gMTk7Ki8KIAkJCWlmIChwcml2LT51bmRlY29yYXRlZF9zbW9vdGhlZF9w
d2RiIDwgKGxvbmcpKHByYS0+cGluZ19yc3NpX3RocmVzaF9mb3JfcmErNSkpIHsKIAkJCQlpZiAo
KHByaXYtPnVuZGVjb3JhdGVkX3Ntb290aGVkX3B3ZGIgPCAobG9uZylwcmEtPnBpbmdfcnNzaV90
aHJlc2hfZm9yX3JhKSB8fAogCQkJCQlwaW5nX3Jzc2lfc3RhdGUpIHsKLQkJCQkJLypEYmdQcmlu
dCgiVGVzdFJTU0kgPSAlZCwgc2V0IFJBVFIgdG8gMHgleFxuIiwgcEhhbERhdGEtPlVuZGVjb3Jh
dGVkU21vb3RoZWRQV0RCLCBwUkEtPlRlc3RSU1NJUkFUUik7Ki8KIAkJCQkJcHJhLT5yYXRyX3N0
YXRlID0gRE1fUkFUUl9TVEFfTE9XOwogCQkJCQl0YXJnZXRSQVRSID0gcHJhLT5waW5nX3Jzc2lf
cmF0cjsKIAkJCQkJcGluZ19yc3NpX3N0YXRlID0gMTsKIAkJCQl9Ci0JCQkJLyplbHNlCi0JCQkJ
CURiZ1ByaW50KCJUZXN0UlNTSSBpcyBiZXR3ZWVuIHRoZSByYW5nZS5cbiIpOyovCiAJCQl9IGVs
c2UgewotCQkJCS8qRGJnUHJpbnQoIlRlc3RSU1NJIFJlY292ZXIgdG8gMHgleFxuIiwgdGFyZ2V0
UkFUUik7Ki8KIAkJCQlwaW5nX3Jzc2lfc3RhdGUgPSAwOwogCQkJfQogCQl9CkBAIC01MTAsNyAr
NDkyLDYgQEAgc3RhdGljIHZvaWQgZG1fVFhQb3dlclRyYWNraW5nQ2FsbGJhY2tfVFNTSShzdHJ1
Y3QgbmV0X2RldmljZSAqZGV2KQogCXUzMgkJCQkJCVZhbHVlOwogCXU4CQkJCQkJUHdyX0ZsYWc7
CiAJdTE2CQkJCQkJQXZnX1RTU0lfTWVhcywgVFNTSV8xM2RCbSwgQXZnX1RTU0lfTWVhc19mcm9t
X2RyaXZlciA9IDA7Ci0JLypSVF9TVEFUVVMJCQkJcnRTdGF0dXMgPSBSVF9TVEFUVVNfU1VDQ0VT
UzsqLwogCWJvb2wgcnRTdGF0dXMgPSB0cnVlOwogCXUzMgkJCQkJCWRlbHRhID0gMDsKCkBAIC01
MzIsNyArNTEzLDYgQEAgc3RhdGljIHZvaWQgZG1fVFhQb3dlclRyYWNraW5nQ2FsbGJhY2tfVFNT
SShzdHJ1Y3QgbmV0X2RldmljZSAqZGV2KQogCQlpZiAocnRTdGF0dXMgPT0gUlRfU1RBVFVTX0ZB
SUxVUkUpCiAJCQlSVF9UUkFDRShDT01QX1BPV0VSX1RSQUNLSU5HLCAiU2V0IGNvbmZpZ3VyYXRp
b24gd2l0aCB0eCBjbWQgcXVldWUgZmFpbCFcbiIpOwogCQl1c2xlZXBfcmFuZ2UoMTAwMCwgMjAw
MCk7Ci0JCS8qRGJnUHJpbnQoImhpLCB2aXZpLCBzdHJhbmdlXG4iKTsqLwogCQlmb3IgKGkgPSAw
OyBpIDw9IDMwOyBpKyspIHsKIAkJCXJlYWRfbmljX2J5dGUoZGV2LCAweDFiYSwgJlB3cl9GbGFn
KTsKCkBAIC02ODQsNyArNjY0LDYgQEAgc3RhdGljIHZvaWQgZG1fVFhQb3dlclRyYWNraW5nQ2Fs
bGJhY2tfVGhlcm1hbE1ldGVyKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpCiAJCQl9CiAJCX0KIAkJ
cHJpdi0+YnR4cG93ZXJfdHJhY2tpbmdJbml0ID0gdHJ1ZTsKLQkJLypwSGFsRGF0YS0+VFhQb3dl
cmNvdW50ID0gMDsqLwogCQlyZXR1cm47CiAJfQoKQEAgLTc1MSw3ICs3MzAsNiBAQCBzdGF0aWMg
dm9pZCBkbV9UWFBvd2VyVHJhY2tpbmdDYWxsYmFja19UaGVybWFsTWV0ZXIoc3RydWN0IG5ldF9k
ZXZpY2UgKmRldikKIAl9CgogCWlmIChDQ0tTd2luZ05lZWRVcGRhdGUpIHsKLQkJLypEYmdQcmlu
dCgiVXBkYXRlIENDSyBTd2luZywgQ0NLX2luZGV4ID0gJWRcbiIsIHBIYWxEYXRhLT5DQ0tfaW5k
ZXgpOyovCiAJCWRtX2Nja190eHBvd2VyX2FkanVzdChkZXYsIHByaXYtPmJjY2tfaW5fY2gxNCk7
CiAJfQogCWlmIChwcml2LT5PRkRNX2luZGV4ICE9IHRtcE9GRE1pbmRleCkgewpAQCAtMTMyNiw3
ICsxMzA0LDYgQEAgc3RhdGljIHZvaWQgZG1fQ2hlY2tUWFBvd2VyVHJhY2tpbmdfVGhlcm1hbE1l
dGVyKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IHI4MTkyX3ByaXYgKnByaXYg
PSBpZWVlODAyMTFfcHJpdihkZXYpOwogCXN0YXRpYyB1OAlUTV9UcmlnZ2VyOwotCS8qRGJnUHJp
bnQoImRtX0NoZWNrVFhQb3dlclRyYWNraW5nKClcbiIpOyovCiAJaWYgKCFwcml2LT5idHhwb3dl
cl90cmFja2luZykKIAkJcmV0dXJuOwogCWlmIChwcml2LT50eHBvd2VyX2NvdW50ICA8PSAyKSB7
CkBAIC0xMzQ3LDcgKzEzMjQsNiBAQCBzdGF0aWMgdm9pZCBkbV9DaGVja1RYUG93ZXJUcmFja2lu
Z19UaGVybWFsTWV0ZXIoc3RydWN0IG5ldF9kZXZpY2UgKmRldikKIAkJVE1fVHJpZ2dlciA9IDE7
CiAJCXJldHVybjsKIAl9Ci0JLypEYmdQcmludCgiU2NoZWR1bGUgVHhQb3dlclRyYWNraW5nV29y
a0l0ZW1cbiIpOyovCiAJCXF1ZXVlX2RlbGF5ZWRfd29yayhwcml2LT5wcml2X3dxLCAmcHJpdi0+
dHhwb3dlcl90cmFja2luZ193cSwgMCk7CiAJVE1fVHJpZ2dlciA9IDA7CiB9CkBAIC0xMzU1LDcg
KzEzMzEsNiBAQCBzdGF0aWMgdm9pZCBkbV9DaGVja1RYUG93ZXJUcmFja2luZ19UaGVybWFsTWV0
ZXIoc3RydWN0IG5ldF9kZXZpY2UgKmRldikKIHN0YXRpYyB2b2lkIGRtX2NoZWNrX3R4cG93ZXJf
dHJhY2tpbmcoc3RydWN0IG5ldF9kZXZpY2UgKmRldikKIHsKIAlzdHJ1Y3QgcjgxOTJfcHJpdiAq
cHJpdiA9IGllZWU4MDIxMV9wcml2KGRldik7Ci0JLypzdGF0aWMgdTMyIHR4X3Bvd2VyX3RyYWNr
X2NvdW50ZXIgPSAwOyovCgogI2lmZGVmIFJUTDgxOTBQCiAJZG1fQ2hlY2tUWFBvd2VyVHJhY2tp
bmdfVFNTSShkZXYpOwpAQCAtMTUyMywxMCArMTQ5OCw3IEBAIHZvaWQgZG1fcmVzdG9yZV9keW5h
bWljX21lY2hhbmlzbV9zdGF0ZShzdHJ1Y3QgbmV0X2RldmljZSAqZGV2KQogCQkJcmF0cl92YWx1
ZSA9IHJlZ19yYXRyOwogCQkJaWYgKHByaXYtPnJmX3R5cGUgPT0gUkZfMVQyUikgewkvKiAxVDJS
LCBTcGF0aWFsIFN0cmVhbSAyIHNob3VsZCBiZSBkaXNhYmxlZCAqLwogCQkJCXJhdHJfdmFsdWUg
Jj0gfihSQVRFX0FMTF9PRkRNXzJTUyk7Ci0JCQkJLypEYmdQcmludCgiSFdfVkFSX1RBVFJfMCBm
cm9tIDB4JXggPT0+IDB4JXhcbiIsICgocHU0Qnl0ZSkodmFsKSlbMF0sIHJhdHJfdmFsdWUpOyov
CiAJCQl9Ci0JCQkvKkRiZ1ByaW50KCJzZXQgSFdfVkFSX1RBVFJfMCA9IDB4JXhcbiIsIHJhdHJf
dmFsdWUpOyovCi0JCQkvKmNvc2EgUGxhdGZvcm1FRklPV3JpdGU0Qnl0ZShBZGFwdGVyLCBSQVRS
MCwgKChwdTRCeXRlKSh2YWwpKVswXSk7Ki8KIAkJCXdyaXRlX25pY19kd29yZChkZXYsIFJBVFIw
LCByYXRyX3ZhbHVlKTsKIAkJCXdyaXRlX25pY19ieXRlKGRldiwgVUZXUCwgMSk7CiAJfQpAQCAt
MTU4OCw3ICsxNTYwLDYgQEAgc3RhdGljIHZvaWQgZG1fYmJfaW5pdGlhbGdhaW5fYmFja3VwKHN0
cnVjdCBuZXRfZGV2aWNlICpkZXYpCiAJaWYgKGRtX2RpZ3RhYmxlLmRpZ19hbGdvcml0aG0gPT0g
RElHX0FMR09fQllfUlNTSSkKIAkJcmV0dXJuOwoKLQkvKlBIWV9TZXRCQlJlZyhBZGFwdGVyLCBV
RldQLCBiTWFza0xXb3JkLCAweDgwMCk7Ki8KIAlydGw4MTkyX3NldEJCcmVnKGRldiwgVUZXUCwg
Yk1hc2tCeXRlMSwgMHg4KTsJLyogT25seSBjbGVhciBieXRlIDEgYW5kIHJld3JpdGUuICovCiAJ
cHJpdi0+aW5pdGdhaW5fYmFja3VwLnhhYWdjY29yZTEgPSAodTgpcnRsODE5Ml9RdWVyeUJCUmVn
KGRldiwgck9GRE0wX1hBQUdDQ29yZTEsIGJpdF9tYXNrKTsKIAlwcml2LT5pbml0Z2Fpbl9iYWNr
dXAueGJhZ2Njb3JlMSA9ICh1OClydGw4MTkyX1F1ZXJ5QkJSZWcoZGV2LCByT0ZETTBfWEJBR0ND
b3JlMSwgYml0X21hc2spOwpAQCAtMTY3OSw3ICsxNjUwLDYgQEAgc3RhdGljIHZvaWQgZG1fY3Ry
bF9pbml0Z2Fpbl9ieXJzc2koc3RydWN0IG5ldF9kZXZpY2UgKmRldikKIAkJZG1fY3RybF9pbml0
Z2Fpbl9ieXJzc2lfYnlfZndmYWxzZV9hbGFybShkZXYpOwogCWVsc2UgaWYgKGRtX2RpZ3RhYmxl
LmRpZ19hbGdvcml0aG0gPT0gRElHX0FMR09fQllfUlNTSSkKIAkJZG1fY3RybF9pbml0Z2Fpbl9i
eXJzc2lfYnlfZHJpdmVycnNzaShkZXYpOwotCS8qIDsgKi8KIAllbHNlCiAJCXJldHVybjsKIH0K
QEAgLTE2OTQsNyArMTY2NCw2IEBAIHN0YXRpYyB2b2lkIGRtX2N0cmxfaW5pdGdhaW5fYnlyc3Np
X2J5X2RyaXZlcnJzc2koCiAJaWYgKCFkbV9kaWd0YWJsZS5kaWdfZW5hYmxlX2ZsYWcpCiAJCXJl
dHVybjsKCi0JLypEYmdQcmludCgiRGlnIGJ5IFN3IFJzc2lcbiIpOyovCiAJaWYgKGRtX2RpZ3Rh
YmxlLmRpZ19hbGdvcml0aG1fc3dpdGNoKQkvKiBpZiBzd2l0Y2hlZCBhbGdvcml0aG0sIHdlIGhh
dmUgdG8gZGlzYWJsZSBGVyBEaWcuICovCiAJCWZ3X2RpZyA9IDA7CgpAQCAtMTcxNSw3ICsxNjg0
LDYgQEAgc3RhdGljIHZvaWQgZG1fY3RybF9pbml0Z2Fpbl9ieXJzc2lfYnlfZHJpdmVycnNzaSgK
IAkJRE1fRGlnVGFibGUuUHJlQ29ubmVjdFN0YXRlLCBETV9EaWdUYWJsZS5DdXJDb25uZWN0U3Rh
dGUpOyovCgogCWRtX2RpZ3RhYmxlLnJzc2lfdmFsID0gcHJpdi0+dW5kZWNvcmF0ZWRfc21vb3Ro
ZWRfcHdkYjsKLQkvKkRiZ1ByaW50KCJETV9EaWdUYWJsZS5Sc3NpX3ZhbCA9ICVkXG4iLCBETV9E
aWdUYWJsZS5Sc3NpX3ZhbCk7Ki8KIAlkbV9pbml0aWFsX2dhaW4oZGV2KTsKIAlkbV9wZF90aChk
ZXYpOwogCWRtX2NzX3JhdGlvKGRldik7CkBAIC0xNzUxLDExICsxNzE5LDYgQEAgc3RhdGljIHZv
aWQgZG1fY3RybF9pbml0Z2Fpbl9ieXJzc2lfYnlfZndmYWxzZV9hbGFybSgKIAkgICAgKHByaXYt
PnVuZGVjb3JhdGVkX3Ntb290aGVkX3B3ZGIgPCBkbV9kaWd0YWJsZS5yc3NpX2hpZ2hfdGhyZXNo
KSkKIAkJcmV0dXJuOwoKLQkvKkRiZ1ByaW50KCJEaWcgYnkgRncgRmFsc2UgQWxhcm1cbiIpOyov
Ci0JLyppZiAoRE1fRGlnVGFibGUuRGlnX1N0YXRlID09IERNX1NUQV9ESUdfT0ZGKSovCi0JLypE
YmdQcmludCgiRElHIENoZWNrXG5cciBSU1NJPSVkIExPVz0lZCBISUdIPSVkIFNUQVRFPSVkIiwK
LQlwSGFsRGF0YS0+VW5kZWNvcmF0ZWRTbW9vdGhlZFBXREIsIERNX0RpZ1RhYmxlLlJzc2lMb3dU
aHJlc2gsCi0JRE1fRGlnVGFibGUuUnNzaUhpZ2hUaHJlc2gsIERNX0RpZ1RhYmxlLkRpZ19TdGF0
ZSk7Ki8KIAkvKgogCSAqIDEuIFdoZW4gUlNTSSBkZWNyZWFzZSwgV2UgaGF2ZSB0byBqdWRnZSBp
ZiBpdCBpcyBzbWFsbGVyIHRoYW4gYSB0aHJlc2hvbGQKIAkgKiBhbmQgdGhlbiBleGVjdXRlIHRo
ZSBzdGVwIGJlbG93LgpAQCAtMTgyNyw3ICsxNzkwLDYgQEAgc3RhdGljIHZvaWQgZG1fY3RybF9p
bml0Z2Fpbl9ieXJzc2lfYnlfZndmYWxzZV9hbGFybSgKIAkJcmVzZXRfY250ID0gcHJpdi0+cmVz
ZXRfY291bnQ7CgogCQlkbV9kaWd0YWJsZS5kaWdfc3RhdGUgPSBETV9TVEFfRElHX09OOwotCQkv
KkRiZ1ByaW50KCJESUcgT05cblxyIik7Ki8KCiAJCS8qCiAJCSAqIDIuMSBTZXQgaW5pdGlhbCBn
YWluLgpAQCAtMTk4Nyw3ICsxOTQ5LDYgQEAgc3RhdGljIHZvaWQgZG1faW5pdGlhbF9nYWluKAog
CQlkbV9kaWd0YWJsZS5jdXJfaWdfdmFsdWUgPSBwcml2LT5EZWZhdWx0SW5pdGlhbEdhaW5bMF07
CiAJCWRtX2RpZ3RhYmxlLnByZV9pZ192YWx1ZSA9IDA7CiAJfQotCS8qRGJnUHJpbnQoIkRNX0Rp
Z1RhYmxlLkN1cklHVmFsdWUgPSAweCV4LCBETV9EaWdUYWJsZS5QcmVJR1ZhbHVlID0gMHgleFxu
IiwgRE1fRGlnVGFibGUuQ3VySUdWYWx1ZSwgRE1fRGlnVGFibGUuUHJlSUdWYWx1ZSk7Ki8KCiAJ
LyogaWYgc2lsZW50IHJlc2V0IGhhcHBlbmVkLCB3ZSBzaG91bGQgcmV3cml0ZSB0aGUgdmFsdWVz
IGJhY2sgKi8KIAlpZiAocHJpdi0+cmVzZXRfY291bnQgIT0gcmVzZXRfY250KSB7CkBAIC0yMDAz
LDcgKzE5NjQsNiBAQCBzdGF0aWMgdm9pZCBkbV9pbml0aWFsX2dhaW4oCiAJCWlmICgoZG1fZGln
dGFibGUucHJlX2lnX3ZhbHVlICE9IGRtX2RpZ3RhYmxlLmN1cl9pZ192YWx1ZSkKIAkJCXx8ICFp
bml0aWFsaXplZCB8fCBmb3JjZV93cml0ZSkgewogCQkJaW5pdGlhbF9nYWluID0gKHU4KWRtX2Rp
Z3RhYmxlLmN1cl9pZ192YWx1ZTsKLQkJCS8qRGJnUHJpbnQoIldyaXRlIGluaXRpYWwgZ2FpbiA9
IDB4JXhcbiIsIGluaXRpYWxfZ2Fpbik7Ki8KIAkJCS8qICBTZXQgaW5pdGlhbCBnYWluLiAqLwog
CQkJd3JpdGVfbmljX2J5dGUoZGV2LCByT0ZETTBfWEFBR0NDb3JlMSwgaW5pdGlhbF9nYWluKTsK
IAkJCXdyaXRlX25pY19ieXRlKGRldiwgck9GRE0wX1hCQUdDQ29yZTEsIGluaXRpYWxfZ2Fpbik7
CkBAIC0yMDU1LDcgKzIwMTUsNiBAQCBzdGF0aWMgdm9pZCBkbV9wZF90aCgKIAl7CiAJCWlmICgo
ZG1fZGlndGFibGUucHJlcGRfdGhzdGF0ZSAhPSBkbV9kaWd0YWJsZS5jdXJwZF90aHN0YXRlKSB8
fAogCQkgICAgKGluaXRpYWxpemVkIDw9IDMpIHx8IGZvcmNlX3dyaXRlKSB7Ci0JCQkvKkRiZ1By
aW50KCJXcml0ZSBQRF9USCBzdGF0ZSA9ICVkXG4iLCBETV9EaWdUYWJsZS5DdXJQRF9USFN0YXRl
KTsqLwogCQkJaWYgKGRtX2RpZ3RhYmxlLmN1cnBkX3Roc3RhdGUgPT0gRElHX1BEX0FUX0xPV19Q
T1dFUikgewogCQkJCS8qICBMb3dlciBQRF9USCBmb3IgT0ZETS4gKi8KIAkJCQlpZiAocHJpdi0+
Q3VycmVudENoYW5uZWxCVyAhPSBIVF9DSEFOTkVMX1dJRFRIXzIwKSB7CkBAIC0yMTM1LDcgKzIw
OTQsNiBAQCBzdGF0aWMJdm9pZCBkbV9jc19yYXRpbygKIAl7CiAJCWlmICgoZG1fZGlndGFibGUu
cHJlY3NfcmF0aW9fc3RhdGUgIT0gZG1fZGlndGFibGUuY3VyY3NfcmF0aW9fc3RhdGUpIHx8CiAJ
CSAgICAhaW5pdGlhbGl6ZWQgfHwgZm9yY2Vfd3JpdGUpIHsKLQkJCS8qRGJnUHJpbnQoIldyaXRl
IENTX3JhdGlvIHN0YXRlID0gJWRcbiIsIERNX0RpZ1RhYmxlLkN1ckNTX3JhdGlvU3RhdGUpOyov
CiAJCQlpZiAoZG1fZGlndGFibGUuY3VyY3NfcmF0aW9fc3RhdGUgPT0gRElHX0NTX1JBVElPX0xP
V0VSKSB7CiAJCQkJLyogIExvd2VyIENTIHJhdGlvIGZvciBDQ0suICovCiAJCQkJd3JpdGVfbmlj
X2J5dGUoZGV2LCAweGEwYSwgMHgwOCk7CkBAIC0yMTY0LDcgKzIxMjIsNiBAQCBzdGF0aWMgdm9p
ZCBkbV9jaGVja19lZGNhX3R1cmJvKAogewogCXN0cnVjdCByODE5Ml9wcml2ICpwcml2ID0gaWVl
ZTgwMjExX3ByaXYoZGV2KTsKIAlQUlRfSElHSF9USFJPVUdIUFVUCXBIVEluZm8gPSBwcml2LT5p
ZWVlODAyMTEtPnBIVEluZm87Ci0JLyogUFNUQV9RT1MJCQlwU3RhUW9zID0gcE1nbnRJbmZvLT5w
U3RhUW9zOyAqLwoKIAkvKiBLZWVwIHBhc3QgVHgvUnggcGFja2V0IGNvdW50IGZvciBSVC10by1S
VCBFRENBIHR1cmJvLiAqLwogCXN0YXRpYyB1bnNpZ25lZCBsb25nCQkJbGFzdFR4T2tDbnQ7CkBA
IC0yMTgyLDIwICsyMTM5LDE3IEBAIHN0YXRpYyB2b2lkIGRtX2NoZWNrX2VkY2FfdHVyYm8oCiAJ
aWYgKHByaXYtPmllZWU4MDIxMS0+cEhUSW5mby0+SU9UQWN0aW9uICYgSFRfSU9UX0FDVF9ESVNB
QkxFX0VEQ0FfVFVSQk8pCiAJCWdvdG8gZG1fQ2hlY2tFZGNhVHVyYm9fRVhJVDsKCi0JLypwcmlu
dGsoIj09PT09PT09PiVzKCk6YmlzX2FueV9ub25iZXBrdHMgaXMgJWRcbiIsIF9fZnVuY19fLCBw
cml2LT5iaXNfYW55X25vbmJlcGt0cyk7Ki8KIAkvKiBDaGVjayB0aGUgc3RhdHVzIGZvciBjdXJy
ZW50IGNvbmRpdGlvbi4gKi8KIAlpZiAoIXByaXYtPmllZWU4MDIxMS0+YmlzX2FueV9ub25iZXBr
dHMpIHsKIAkJY3VyVHhPa0NudCA9IHByaXYtPnN0YXRzLnR4Ynl0ZXN1bmljYXN0IC0gbGFzdFR4
T2tDbnQ7CiAJCWN1clJ4T2tDbnQgPSBwcml2LT5zdGF0cy5yeGJ5dGVzdW5pY2FzdCAtIGxhc3RS
eE9rQ250OwogCQkvKiBGb3IgUlQtQVAsIHdlIG5lZWRzIHRvIHR1cm4gaXQgb24gd2hlbiBSeD5U
eCAqLwogCQlpZiAoY3VyUnhPa0NudCA+IDQqY3VyVHhPa0NudCkgewotCQkJLypwcmludGsoIiVz
KCk6Y3VyUnhPa0NudCA+IDQqY3VyVHhPa0NudFxuIik7Ki8KIAkJCWlmICghcHJpdi0+YmlzX2N1
cl9yZGxzdGF0ZSB8fCAhcHJpdi0+YmN1cnJlbnRfdHVyYm9fRURDQSkgewogCQkJCXdyaXRlX25p
Y19kd29yZChkZXYsIEVEQ0FQQVJBX0JFLCBlZGNhX3NldHRpbmdfRExbcEhUSW5mby0+SU9UUGVl
cl0pOwogCQkJCXByaXYtPmJpc19jdXJfcmRsc3RhdGUgPSB0cnVlOwogCQkJfQogCQl9IGVsc2Ug
ewotCQkJLypwcmludGsoIiVzKCk6Y3VyUnhPa0NudCA8IDQqY3VyVHhPa0NudFxuIik7Ki8KIAkJ
CWlmIChwcml2LT5iaXNfY3VyX3JkbHN0YXRlIHx8ICFwcml2LT5iY3VycmVudF90dXJib19FRENB
KSB7CiAJCQkJd3JpdGVfbmljX2R3b3JkKGRldiwgRURDQVBBUkFfQkUsIGVkY2Ffc2V0dGluZ19V
TFtwSFRJbmZvLT5JT1RQZWVyXSk7CiAJCQkJcHJpdi0+YmlzX2N1cl9yZGxzdGF0ZSA9IGZhbHNl
OwpAQCAtMjMwMCw3ICsyMjU0LDYgQEAgc3RhdGljIHZvaWQgZG1fY3RzdG9zZWxmKHN0cnVjdCBu
ZXRfZGV2aWNlICpkZXYpCiAJCWN1clJ4T2tDbnQgPSBwcml2LT5zdGF0cy5yeGJ5dGVzdW5pY2Fz
dCAtIGxhc3RSeE9rQ250OwogCQlpZiAoY3VyUnhPa0NudCA+IDQqY3VyVHhPa0NudCkgeyAvKiBk
b3dubGluaywgZGlzYWJsZSBDVFMgdG8gc2VsZiAqLwogCQkJcEhUSW5mby0+SU9UQWN0aW9uICY9
IH5IVF9JT1RfQUNUX0ZPUkNFRF9DVFMyU0VMRjsKLQkJCS8qRGJnUHJpbnQoImRtX0NUU1RvU2Vs
ZigpID09PiBDVFMgdG8gc2VsZiBkaXNhYmxlZCAtLSBkb3dubGlua1xuIik7Ki8KIAkJfSBlbHNl
IHsgLyogdXBsaW5rICovCiAJCQlwSFRJbmZvLT5JT1RBY3Rpb24gfD0gSFRfSU9UX0FDVF9GT1JD
RURfQ1RTMlNFTEY7CiAJCX0KQEAgLTIzNzEsNyArMjMyNCw2IEBAIHZvaWQgZG1fcmZfcGF0aGNo
ZWNrX3dvcmtpdGVtY2FsbGJhY2soc3RydWN0IHdvcmtfc3RydWN0ICp3b3JrKQogCXN0cnVjdCBk
ZWxheWVkX3dvcmsgKmR3b3JrID0gdG9fZGVsYXllZF93b3JrKHdvcmspOwogCXN0cnVjdCByODE5
Ml9wcml2ICpwcml2ID0gY29udGFpbmVyX29mKGR3b3JrLCBzdHJ1Y3QgcjgxOTJfcHJpdiwgcmZw
YXRoX2NoZWNrX3dxKTsKIAlzdHJ1Y3QgbmV0X2RldmljZSAqZGV2ID0gcHJpdi0+aWVlZTgwMjEx
LT5kZXY7Ci0JLypib29sIGJhY3R1YWxseV9zZXQgPSBmYWxzZTsqLwogCXU4IHJmcGF0aCA9IDAs
IGk7CgogCS8qCkBAIC0yNDM2LDcgKzIzODgsNiBAQCBzdGF0aWMgdm9pZCBkbV9yeHBhdGhfc2Vs
X2J5cnNzaShzdHJ1Y3QgbmV0X2RldmljZSAqZGV2KQoKIAlpZiAocHJpdi0+aWVlZTgwMjExLT5t
b2RlID09IFdJUkVMRVNTX01PREVfQikgewogCQlETV9SeFBhdGhTZWxUYWJsZS5jY2tfbWV0aG9k
ID0gQ0NLX1JYX1ZFUlNJT05fMjsJLyogcHVyZSBCIG1vZGUsIGZpeGVkIGNjayB2ZXJzaW9uMiAq
LwotCQkvKkRiZ1ByaW50KCJQdXJlIEIgbW9kZSwgdXNlIGNjayByeCB2ZXJzaW9uMlxuIik7Ki8K
IAl9CgogCS8qIGRlY2lkZSBtYXgvc2VjL21pbiByc3NpIGluZGV4ICovCkBAIC0yNTkxLDcgKzI1
NDIsNiBAQCBzdGF0aWMgdm9pZCBkbV9yeHBhdGhfc2VsX2J5cnNzaShzdHJ1Y3QgbmV0X2Rldmlj
ZSAqZGV2KQogCQkJaWYgKChETV9SeFBhdGhTZWxUYWJsZS5kaXNhYmxlZF9yZiA+PiBpKSAmIDB4
MSkgewkvKiBkaXNhYmxlZCByZiAqLwogCQkJCWlmICh0bXBfbWF4X3Jzc2kgPj0gRE1fUnhQYXRo
U2VsVGFibGUucmZfZW5hYmxlX3Jzc2lfdGhbaV0pIHsKIAkJCQkJLyogZW5hYmxlIHRoZSBCQiBS
eCBwYXRoICovCi0JCQkJCS8qRGJnUHJpbnQoIlJGLSVkIGlzIGVuYWJsZWQuXG4iLCAweDE8PGkp
OyovCiAJCQkJCXJ0bDgxOTJfc2V0QkJyZWcoZGV2LCByT0ZETTBfVFJ4UGF0aEVuYWJsZSwgMHgx
PDxpLCAweDEpOwkvKiAweGMwNFszOjBdICovCiAJCQkJCXJ0bDgxOTJfc2V0QkJyZWcoZGV2LCBy
T0ZETTFfVFJ4UGF0aEVuYWJsZSwgMHgxPDxpLCAweDEpOwkvKiAweGQwNFszOjBdICovCiAJCQkJ
CURNX1J4UGF0aFNlbFRhYmxlLnJmX2VuYWJsZV9yc3NpX3RoW2ldID0gMTAwOwpAQCAtMjgyMyw3
ICsyNzczLDYgQEAgdm9pZCBkbV9jaGVja19mc3luYyhzdHJ1Y3QgbmV0X2RldmljZSAqZGV2KQog
I2RlZmluZQlSZWdDMzhfTm9uRnN5bmNfT3RoZXJfQVAJCTEKICNkZWZpbmUJUmVnQzM4X0ZzeW5j
X0FQX0JDTQkJCTIKIAlzdHJ1Y3QgcjgxOTJfcHJpdiAqcHJpdiA9IGllZWU4MDIxMV9wcml2KGRl
dik7Ci0JLyp1MzIJCQlmcmFtZXN5bmNDMzQ7Ki8KIAlzdGF0aWMgdTgJCXJlZ19jMzhfU3RhdGUg
PSBSZWdDMzhfRGVmYXVsdDsKIAlzdGF0aWMgdTMyCXJlc2V0X2NudDsKCkBAIC0yODk4LDE0ICsy
ODQ3LDEyIEBAIHZvaWQgZG1fY2hlY2tfZnN5bmMoc3RydWN0IG5ldF9kZXZpY2UgKmRldikKIAkJ
CQkJaWYgKHJlZ19jMzhfU3RhdGUpIHsKIAkJCQkJCXdyaXRlX25pY19ieXRlKGRldiwgck9GRE0w
X1J4RGV0ZWN0b3IzLCBwcml2LT5mcmFtZXN5bmMpOwogCQkJCQkJcmVnX2MzOF9TdGF0ZSA9IFJl
Z0MzOF9EZWZhdWx0OwotCQkJCQkJLypEYmdQcmludCgiRnN5bmMgaXMgaWRsZSwgcnNzaT49NDAs
IHdyaXRlIDB4YzM4ID0gMHgleFxuIiwgcEhhbERhdGEtPmZyYW1lc3luYyk7Ki8KIAkJCQkJfQog
CQkJCX0KIAkJCX0gZWxzZSB7CiAJCQkJaWYgKHJlZ19jMzhfU3RhdGUpIHsKIAkJCQkJd3JpdGVf
bmljX2J5dGUoZGV2LCByT0ZETTBfUnhEZXRlY3RvcjMsIHByaXYtPmZyYW1lc3luYyk7CiAJCQkJ
CXJlZ19jMzhfU3RhdGUgPSBSZWdDMzhfRGVmYXVsdDsKLQkJCQkJLypEYmdQcmludCgiRnN5bmMg
aXMgaWRsZSwgbm90IGNvbm5lY3RlZCwgd3JpdGUgMHhjMzggPSAweCV4XG4iLCBwSGFsRGF0YS0+
ZnJhbWVzeW5jKTsqLwogCQkJCX0KIAkJCX0KIAkJfQpAQCAtMjkxNSwxMyArMjg2MiwxMSBAQCB2
b2lkIGRtX2NoZWNrX2ZzeW5jKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpCiAJCQl3cml0ZV9uaWNf
Ynl0ZShkZXYsIHJPRkRNMF9SeERldGVjdG9yMywgcHJpdi0+ZnJhbWVzeW5jKTsKIAkJCXJlZ19j
MzhfU3RhdGUgPSBSZWdDMzhfRGVmYXVsdDsKIAkJCXJlc2V0X2NudCA9IHByaXYtPnJlc2V0X2Nv
dW50OwotCQkJLypEYmdQcmludCgicmVnX2MzOF9TdGF0ZSA9IDAgZm9yIHNpbGVudCByZXNldC5c
biIpOyovCiAJCX0KIAl9IGVsc2UgewogCQlpZiAocmVnX2MzOF9TdGF0ZSkgewogCQkJd3JpdGVf
bmljX2J5dGUoZGV2LCByT0ZETTBfUnhEZXRlY3RvcjMsIHByaXYtPmZyYW1lc3luYyk7CiAJCQly
ZWdfYzM4X1N0YXRlID0gUmVnQzM4X0RlZmF1bHQ7Ci0JCQkvKkRiZ1ByaW50KCJmcmFtZXN5bmMg
bm8gbW9uaXRvciwgd3JpdGUgMHhjMzggPSAweCV4XG4iLCBwSGFsRGF0YS0+ZnJhbWVzeW5jKTsq
LwogCQl9CiAJfQogfQpAQCAtMjk1Miw3ICsyODk3LDYgQEAgdm9pZCBkbV9zaGFkb3dfaW5pdChz
dHJ1Y3QgbmV0X2RldmljZSAqZGV2KQogCWZvciAocGFnZSA9IDA7IHBhZ2UgPCA1OyBwYWdlKysp
CiAJCWZvciAob2Zmc2V0ID0gMDsgb2Zmc2V0IDwgMjU2OyBvZmZzZXQrKykgewogCQkJcmVhZF9u
aWNfYnl0ZShkZXYsIG9mZnNldCArIHBhZ2UgKiAyNTYsICZkbV9zaGFkb3dbcGFnZV1bb2Zmc2V0
XSk7Ci0JCQkvKkRiZ1ByaW50KCJQLSVkL08tJTAyeD0lMDJ4XHJcbiIsIHBhZ2UsIG9mZnNldCwg
RE1fU2hhZG93W3BhZ2VdW29mZnNldF0pOyovCiAJCX0KCiAJZm9yIChwYWdlID0gODsgcGFnZSA8
IDExOyBwYWdlKyspCkBAIC0zMDA4LDcgKzI5NTIsNiBAQCBzdGF0aWMgdm9pZCBkbV9keW5hbWlj
X3R4cG93ZXIoc3RydWN0IG5ldF9kZXZpY2UgKmRldikKIAkJcHJpdi0+YkR5bmFtaWNUeExvd1Bv
d2VyID0gZmFsc2U7CiAJCXJldHVybjsKIAl9Ci0JLypwcmludGsoInByaXYtPmllZWU4MDIxMS0+
Y3VycmVudF9uZXR3b3JrLnVua25vd25fY2FwX2V4aXN0IGlzICVkICwgcHJpdi0+aWVlZTgwMjEx
LT5jdXJyZW50X25ldHdvcmsuYnJvYWRjb21fY2FwX2V4aXN0IGlzICVkXG4iLCBwcml2LT5pZWVl
ODAyMTEtPmN1cnJlbnRfbmV0d29yay51bmtub3duX2NhcF9leGlzdCwgcHJpdi0+aWVlZTgwMjEx
LT5jdXJyZW50X25ldHdvcmsuYnJvYWRjb21fY2FwX2V4aXN0KTsqLwogCWlmICgocHJpdi0+aWVl
ZTgwMjExLT5jdXJyZW50X25ldHdvcmsuYXRoZXJvc19jYXBfZXhpc3QpICYmIChwcml2LT5pZWVl
ODAyMTEtPm1vZGUgPT0gSUVFRV9HKSkgewogCQl0eGhpcG93ZXJfdGhyZXNob2xkID0gVFhfUE9X
RVJfQVRIRVJPQVBfVEhSRVNIX0hJR0g7CiAJCXR4bG93cG93ZXJfdGhyZXNob2xkID0gVFhfUE9X
RVJfQVRIRVJPQVBfVEhSRVNIX0xPVzsKQEAgLTMwMTcsNyArMjk2MCw2IEBAIHN0YXRpYyB2b2lk
IGRtX2R5bmFtaWNfdHhwb3dlcihzdHJ1Y3QgbmV0X2RldmljZSAqZGV2KQogCQl0eGxvd3Bvd2Vy
X3RocmVzaG9sZCA9IFRYX1BPV0VSX05FQVJfRklFTERfVEhSRVNIX0xPVzsKIAl9CgotCS8qcHJp
bnRrKCI9PT09PT09PiVzKCk6IHR4aGlwb3dlcl90aHJlc2hvbGQgaXMgJWQsIHR4bG93cG93ZXJf
dGhyZXNob2xkIGlzICVkXG4iLCBfX2Z1bmNfXywgdHhoaXBvd2VyX3RocmVzaG9sZCwgdHhsb3dw
b3dlcl90aHJlc2hvbGQpOyovCiAJUlRfVFJBQ0UoQ09NUF9UWEFHQywgInByaXYtPnVuZGVjb3Jh
dGVkX3Ntb290aGVkX3B3ZGIgPSAlbGRcbiIsIHByaXYtPnVuZGVjb3JhdGVkX3Ntb290aGVkX3B3
ZGIpOwoKIAlpZiAocHJpdi0+aWVlZTgwMjExLT5zdGF0ZSA9PSBJRUVFODAyMTFfTElOS0VEKSB7
CkBAIC0zMDM2LDcgKzI5NzgsNiBAQCBzdGF0aWMgdm9pZCBkbV9keW5hbWljX3R4cG93ZXIoc3Ry
dWN0IG5ldF9kZXZpY2UgKmRldikKIAkJCQlwcml2LT5iRHluYW1pY1R4TG93UG93ZXIgPSBmYWxz
ZTsKIAkJfQogCX0gZWxzZSB7Ci0JCS8qcEhhbERhdGEtPmJUWFBvd2VyQ3RybGZvck5lYXJGYXJS
YW5nZSA9ICFwSGFsRGF0YS0+YlRYUG93ZXJDdHJsZm9yTmVhckZhclJhbmdlOyovCiAJCXByaXYt
PmJEeW5hbWljVHhIaWdoUG93ZXIgPSBmYWxzZTsKIAkJcHJpdi0+YkR5bmFtaWNUeExvd1Bvd2Vy
ID0gZmFsc2U7CiAJfQpAQCAtMzA2NSw3ICszMDA2LDYgQEAgc3RhdGljIHZvaWQgZG1fY2hlY2tf
dHhyYXRlYW5kcmV0cnljb3VudChzdHJ1Y3QgbmV0X2RldmljZSAqZGV2KQogCS8qIGZvciAxMW4g
dHggcmF0ZSAqLwogCS8qcHJpdi0+c3RhdHMuQ3VycmVudFNob3dUeGF0ZSA9IHJlYWRfbmljX2J5
dGUoZGV2LCBDVVJSRU5UX1RYX1JBVEVfUkVHKTsqLwogCXJlYWRfbmljX2J5dGUoZGV2LCBDVVJS
RU5UX1RYX1JBVEVfUkVHLCAmaWVlZS0+c29mdG1hY19zdGF0cy5DdXJyZW50U2hvd1R4YXRlKTsK
LQkvKnByaW50aygiPT09PT09PT09PT09PT50eF9yYXRlX3JlZzoleFxuIiwgaWVlZS0+c29mdG1h
Y19zdGF0cy5DdXJyZW50U2hvd1R4YXRlKTsqLwogCS8qIGZvciBpbml0aWFsIHR4IHJhdGUgKi8K
IAkvKnByaXYtPnN0YXRzLmxhc3RfcGFja2V0X3JhdGUgPSByZWFkX25pY19ieXRlKGRldiwgSU5J
VElBTF9UWF9SQVRFX1JFRyk7Ki8KIAlyZWFkX25pY19ieXRlKGRldiwgSU5JVElBTF9UWF9SQVRF
X1JFRywgJmllZWUtPnNvZnRtYWNfc3RhdHMubGFzdF9wYWNrZXRfcmF0ZSk7CmRpZmYgLS1naXQg
YS9kcml2ZXJzL3N0YWdpbmcvcnRsODE5MnUvcjgxOTJVX3d4LmMgYi9kcml2ZXJzL3N0YWdpbmcv
cnRsODE5MnUvcjgxOTJVX3d4LmMKaW5kZXggYWRiOWZlOGE3OWRhLi44Mzk2NzFjYzdmOTYgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvc3RhZ2luZy9ydGw4MTkydS9yODE5MlVfd3guYworKysgYi9kcml2
ZXJzL3N0YWdpbmcvcnRsODE5MnUvcjgxOTJVX3d4LmMKQEAgLTQ3MCw3ICs0NzAsNiBAQCBzdGF0
aWMgaW50IHI4MTkyX3d4X3NldF93YXAoc3RydWN0IG5ldF9kZXZpY2UgKmRldiwKCiAJaW50IHJl
dDsKIAlzdHJ1Y3QgcjgxOTJfcHJpdiAqcHJpdiA9IGllZWU4MDIxMV9wcml2KGRldik7Ci0JLyog
c3RydWN0IHNvY2thZGRyICp0ZW1wID0gKHN0cnVjdCBzb2NrYWRkciAqKWF3cnE7ICovCiAJbXV0
ZXhfbG9jaygmcHJpdi0+d3hfbXV0ZXgpOwoKIAlyZXQgPSBpZWVlODAyMTFfd3hfc2V0X3dhcChw
cml2LT5pZWVlODAyMTEsIGluZm8sIGF3cnEsIGV4dHJhKTsKQEAgLTc0Niw3ICs3NDUsNiBAQCBz
dGF0aWMgaW50IHI4MTkyX3d4X3NldF9lbmNfZXh0KHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsCiAJ
CQkvKiBub25lIGlzIG5vdCBhbGxvd2VkIHRvIHVzZSBod3NlYyBXQiAyMDA4LjA3LjAxICovCiAJ
CQlnb3RvIGVuZF9od19zZWM7CgotCQkvKiBhcyBJV19FTkNPREVfQUxHX0NDTVAgaXMgZGVmaW5l
ZCB0byBiZSAzIGFuZCBLRVlfVFlQRV9DQ01QIGlzIGRlZmluZWQgdG8gNDsgKi8KIAkJYWxnID0g
IChleHQtPmFsZyA9PSBJV19FTkNPREVfQUxHX0NDTVApP0tFWV9UWVBFX0NDTVA6ZXh0LT5hbGc7
CiAJCWlkeCA9IGVuY29kaW5nLT5mbGFncyAmIElXX0VOQ09ERV9JTkRFWDsKIAkJaWYgKGlkeCkK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9ydGw4MTkydS9yODE5eFVfZmlybXdhcmUuYyBi
L2RyaXZlcnMvc3RhZ2luZy9ydGw4MTkydS9yODE5eFVfZmlybXdhcmUuYwppbmRleCBlOTUxMWI4
MjliMDUuLjBlNDdiNWY3NTY5NSAxMDA2NDQKLS0tIGEvZHJpdmVycy9zdGFnaW5nL3J0bDgxOTJ1
L3I4MTl4VV9maXJtd2FyZS5jCisrKyBiL2RyaXZlcnMvc3RhZ2luZy9ydGw4MTkydS9yODE5eFVf
ZmlybXdhcmUuYwpAQCAtMjk2LDcgKzI5Niw2IEBAIGJvb2wgaW5pdF9maXJtd2FyZShzdHJ1Y3Qg
bmV0X2RldmljZSAqZGV2KQogCQkJICogd2lsbCBzZXQgcG9sbGluZyBiaXQgd2hlbiBmaXJtd2Fy
ZSBjb2RlIGlzIGFsc28gY29uZmlndXJlZAogCQkJICovCiAJCQlwZmlybXdhcmUtPmZpcm13YXJl
X3N0YXR1cyA9IEZXX1NUQVRVU18xX01PVkVfQk9PVF9DT0RFOwotCQkJLyogbWRlbGF5KDEwMDAp
OyAqLwogCQkJLyoKIAkJCSAqIFRvIGluaXRpYWxpemUgSU1FTSwgQ1BVIG1vdmUgY29kZSAgZnJv
bSAweDgwMDAwMDgwLAogCQkJICogaGVuY2UsIHdlIHNlbmQgMHg4MCBieXRlIHBhY2tldAotLQoy
LjE3LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRl
dmVsIG1haWxpbmcgbGlzdApkZXZlbEBsaW51eGRyaXZlcnByb2plY3Qub3JnCmh0dHA6Ly9kcml2
ZXJkZXYubGludXhkcml2ZXJwcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaXZlcmRldi1k
ZXZlbAo=
