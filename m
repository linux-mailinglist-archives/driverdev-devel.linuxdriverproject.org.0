Return-Path: <driverdev-devel-bounces@linuxdriverproject.org>
X-Original-To: lists+driverdev-devel@lfdr.de
Delivered-To: lists+driverdev-devel@lfdr.de
Received: from whitealder.osuosl.org (smtp1.osuosl.org [140.211.166.138])
	by mail.lfdr.de (Postfix) with ESMTPS id 4CE942333EE
	for <lists+driverdev-devel@lfdr.de>; Thu, 30 Jul 2020 16:08:47 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by whitealder.osuosl.org (Postfix) with ESMTP id 3FE75882FE;
	Thu, 30 Jul 2020 14:08:45 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from whitealder.osuosl.org ([127.0.0.1])
	by localhost (.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gFc0d2wS6vq6; Thu, 30 Jul 2020 14:08:44 +0000 (UTC)
Received: from ash.osuosl.org (ash.osuosl.org [140.211.166.34])
	by whitealder.osuosl.org (Postfix) with ESMTP id B7EE38653D;
	Thu, 30 Jul 2020 14:08:41 +0000 (UTC)
X-Original-To: devel@linuxdriverproject.org
Delivered-To: driverdev-devel@osuosl.org
Received: from silver.osuosl.org (smtp3.osuosl.org [140.211.166.136])
 by ash.osuosl.org (Postfix) with ESMTP id F1EF11BF9B9
 for <devel@linuxdriverproject.org>; Thu, 30 Jul 2020 14:08:39 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by silver.osuosl.org (Postfix) with ESMTP id E9A8C2107A
 for <devel@linuxdriverproject.org>; Thu, 30 Jul 2020 14:08:39 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from silver.osuosl.org ([127.0.0.1])
 by localhost (.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id HyEkm6Qzt76d for <devel@linuxdriverproject.org>;
 Thu, 30 Jul 2020 14:08:37 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.7.6
Received: from mail-vk1-f193.google.com (mail-vk1-f193.google.com
 [209.85.221.193])
 by silver.osuosl.org (Postfix) with ESMTPS id 5AEE1207B0
 for <devel@driverdev.osuosl.org>; Thu, 30 Jul 2020 14:08:37 +0000 (UTC)
Received: by mail-vk1-f193.google.com with SMTP id t187so6187765vke.5
 for <devel@driverdev.osuosl.org>; Thu, 30 Jul 2020 07:08:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=NAMEw0gozZKod5bkYI9tCFelMY6J05EvyWt1XZnLjP0=;
 b=YmFasnzeCVeItPJ6eNVjYPlNE3CX8oz/gERg9FapxQExjy6dhvp6skPyvP8OYxv24v
 iN9nUn+YZAh8HytU2N4QhONwtKjcaUutbeeOQYF4l/8N9n3S4+AzINlVZSt97jCpRlNC
 yZrXR8Xvt0n53ji4SElhIqjhjFMHaCkFJCLeiaNilCtXquuVaHVk6w5AT7wOLCw3GD+b
 dX7LklHc+b5Cw3gznPHuKCcbI7aGBaxG+ISQbeXyP18NX8rFazuTqcrIQcNXyflZIOLE
 Qiww2nJgflixYoQXvIeHLRAzGZBCLerMBCKKk63I4V+XcZuwYUpVit8DS9lPS1mY5HwV
 qXBg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=NAMEw0gozZKod5bkYI9tCFelMY6J05EvyWt1XZnLjP0=;
 b=UMZ+EHAxp+X+txivX8REN72BHKNzmGPLdjQfug1YbDebre5/gfK8+vLvpcVbWlQp7u
 AWcEA96EjNV6ODVoS2VwlCvCfhS1SbVx6D9KJM4rRaJ9l+Dz4nj0HVrJueYmQZ+OM5bx
 MC2p+sGe8BINnAXnWhzwHt+eIX9MBlk3/ubnzWEwbyTS/i7s/gn0jvdjLC7BEL7333Mp
 dFzK0a/tPxk6bVpQBAHqoDvyV2fQbJ8Vp8JaO9A9JPVEKEsCrlJt5pGVeIcCVIfAym/7
 L6VEm8JaK6hEtA8Hu9LMCn820kojTheWJPJ1AQGzaZTiQVxCAUzodVynddxFMh39Buru
 pxkQ==
X-Gm-Message-State: AOAM532+48GA4bWwCbY1pGcT1Q484N9gBWWLBbvlfMblckQy9pnni6Lg
 IQOadzRVFKVEmlDO3F+qkZ4h2NOvAIl1ng==
X-Google-Smtp-Source: ABdhPJwolcaFHNsUjLd8YljJzrQtBkerJR5/yeaxHm3Qij9cQxCkJd1DzthgK9BOiOACL2KQChrxXA==
X-Received: by 2002:a17:902:a708:: with SMTP id
 w8mr33432481plq.128.1596116289987; 
 Thu, 30 Jul 2020 06:38:09 -0700 (PDT)
Received: from yangdongdo-OptiPlex-9010.mioffice.cn ([209.9.72.214])
 by smtp.gmail.com with ESMTPSA id c139sm5987441pfb.65.2020.07.30.06.38.05
 (version=TLS1_2 cipher=ECDHE-ECDSA-AES128-GCM-SHA256 bits=128/128);
 Thu, 30 Jul 2020 06:38:09 -0700 (PDT)
From: Dongdong Yang <contribute.kernel@gmail.com>
To: gregkh@linuxfoundation.org, rjw@rjwysocki.net, viresh.kumar@linaro.org,
 mingo@redhat.com, peterz@infradead.org, juri.lelli@redhat.com,
 vincent.guittot@linaro.org, dietmar.eggemann@arm.com, rostedt@goodmis.org,
 bsegall@google.com, mgorman@suse.de
Subject: [PATCH] sched: Provide USF for the portable equipment.
Date: Thu, 30 Jul 2020 21:35:43 +0800
Message-Id: <1596116273-2290-1-git-send-email-contribute.kernel@gmail.com>
X-Mailer: git-send-email 2.7.4
In-Reply-To: <cover.1596101307.git.yangdongdong@xiaomi.com>
References: <cover.1596101307.git.yangdongdong@xiaomi.com>
MIME-Version: 1.0
X-BeenThere: driverdev-devel@linuxdriverproject.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Linux Driver Project Developer List
 <driverdev-devel.linuxdriverproject.org>
List-Unsubscribe: <http://driverdev.linuxdriverproject.org/mailman/options/driverdev-devel>, 
 <mailto:driverdev-devel-request@linuxdriverproject.org?subject=unsubscribe>
List-Archive: <http://driverdev.linuxdriverproject.org/pipermail/driverdev-devel/>
List-Post: <mailto:driverdev-devel@linuxdriverproject.org>
List-Help: <mailto:driverdev-devel-request@linuxdriverproject.org?subject=help>
List-Subscribe: <http://driverdev.linuxdriverproject.org/mailman/listinfo/driverdev-devel>, 
 <mailto:driverdev-devel-request@linuxdriverproject.org?subject=subscribe>
Cc: devel@driverdev.osuosl.org, gulinghua@xiaomi.com, tanggeliang@xiaomi.com,
 linux-pm@vger.kernel.org, linux-kernel@vger.kernel.org,
 yangdongdong@xiaomi.com, duhui@xiaomi.com, zhangguoquan@xiaomi.com,
 fengwei@xiaomi.com, taojun@xiaomi.com, rocking@linux.alibaba.com,
 huangqiwu@xiaomi.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: driverdev-devel-bounces@linuxdriverproject.org
Sender: "devel" <driverdev-devel-bounces@linuxdriverproject.org>

RnJvbTogRG9uZ2RvbmcgWWFuZyA8eWFuZ2Rvbmdkb25nQHhpYW9taS5jb20+CgpUaGUgcG93ZXIg
Y29uc3VtcHRpb24gYW5kIFVJIHJlc3BvbnNlIGFyZSBtb3JlIGNhcmVkCmZvciBieSB0aGUgcG9y
dGFibGUgZXF1aXBtZW50wqB1c2Vycy4gVVNGKFVzZXIgU2Vuc2l0aXZlCkZlZWRiYWNrIGZhY3Rv
cikgYXV4aWxpYXJ5IGNwdWZyZXEgZ292ZXJub3IgaXMKcHJvdmlkaW5nIG1vcmUgdXRpbHMgYWRq
dXN0bWVudCBzZXR0aW5ncyB0byBhIGhpZ2gKbGV2ZWwgYnkgc2NlbmFyaW8gaWRlbnRpZmljYXRp
b24uCgpGcm9tIHRoZSB2aWV3IG9mIHBvcnRhYmxlIGVxdWlwbWVudCwgc2NyZWVuIG9mZiBzdGF0
dXMKdXN1YWxseSBzdGFuZHMgZm9yIG5vIHJlcXVlc3QgZnJvbSB0aGUgdXNlciwgaG93ZXZlciwK
dGhlIGtlcm5lbCBpcyBzdGlsbCBleHBlY3RlZCB0byBub3RpZnkgdGhlIHVzZXIKaW4gdGltZSBv
biBtb2RlbSwgbmV0d29yayBvciBwb3dlcmtleSBldmVudHMgb2NjdXIuCkluIHNvbWUgc2NlbmFy
aW9zLCBzdWNoIGFzIGxpc3RlbmluZyB0byBtdXNpYywKbG93IHBvd2VyIHByb2Nlc3NvcnMsIHN1
Y2ggYXMgRFNQLCB0YWtlIG1vcmUgYWN0aW9ucwphbmQgQ1BVIGxvYWQgcmVxdWlyZW1lbnRzIGN1
dCBkb3duLsKgIEl0IHdvdWxkIGJyaW5nCm1vcmUgcG93ZXIgY29uc3VtcHRpb24gYmVuZWZpdCBp
ZiBoaWdoIGxldmVsIGhhdmUKaW50ZXJmYWNlcyB0byBhZGp1c3QgdXRpbHMgYWNjb3JkaW5nIHRv
IHRoZSBjdXJyZW50CnNjZW5hcmlvIGFuZCBsb2FkLgoKSW4gYWRkaXRpb24sIHRoZSBwb3J0YWJs
ZSBlcXVpcG1lbnQgdXNlciB1c3VhbGx5IGhlYXZ5CmludGVyYWN0IHdpdGggZGV2aWNlcyBieSB0
b3VjaCwgYW5kIG90aGVyIHBlcmlwaGVyYWxzLgpUaGUgYm9vc3QgcHJlZW1wdGl2ZSBjb3VudHMg
YXJlIG1hcmtpbmcgdGhlIGxvYWQKcmVxdWlyZW1lbnQgdXJnZW50LCB2aWNlIHZlcnNhLiBJZiBz
dWNoIGZlZWRiYWNrCmZhY3RvciBjb3VsZCBiZSBzZXQgdG8gaGlnaCBsZXZlbCBhY2NvcmRpbmcg
dG8gdGhlCnNjZW5hcmlvLCBpdCB3b3VsZCBjb250cmlidXRlIHRvIHRoZSBwb3dlciBjb25zdW1w
dGlvbgphbmQgVUkgcmVzcG9uc2UuCgpJZiBubyBVU0Ygc3lzZnMgaW5vZGUgaXMgc2V0LCBhbmQg
bm8gc2NyZWVuIG9uIG9yCm9mZiBldmVudCwgYWRqdXN0X3Rhc2tfcHJlZF9kZW1hbmQgc2hhbGwg
bm90IGJlIGludm9rZWQuCk9uY2Ugc2NoZWRfdXNmX3VwX2wwX3IvZG93bl9yL25vbl91eF9yIGJl
IHNldCwKYWRqdXN0X3Rhc2tfcHJlZF9kZW1hbmRfaW1wbCBzaGFsbCBiZSBjYWxsZWQgYmFjawp0
byB1cGRhdGUgc2V0dGluZ3MgYWNjb3JkaW5nIHRvIGhpZ2ggbGV2ZWwgc2NlbmFyaW8KaWRlbnRp
ZmljYXRpb24uCgpXZSBjYW4gZ2V0IGFib3V0IDE3JSBtZWFuIHBvd2VyIGNvbnN1bXB0aW9uIHNh
dmUKYXQgbGlzdGVuaW5nIHRvIG11c2ljIHdpdGggc3BlYWtlciBvbiAic2NyZWVuCm9mZiIgc2Nl
bmFyaW8sIGFzIGJlbG93IHN0YXRpc3RpY2FsIGRhdGEgZnJvbSA3NzY2ClhpYW9NaSBkZXZpY2Vz
IGZvciB0d28gd2Vla3Mgd2l0aApzY2hlZF91c2Zfbm9uX3V4X3IgYmUgc2V0OgoKICAgICAgICBk
YXkxICAgICAgICAgZGF5MiAgICAgICAgIGRheTMgICAgICAgICBkYXk0CmNvdW50ICAgNzc2Ni4w
MDAwMDAgIDc3NjYuMDAwMDAwICA3NzY2LjAwMDAwMCAgNzc2Ni4wMDAwMDAKbWVhbiAgICA4OC4w
MzU1MjUgICAgODUuNTAwMjgyICAgIDgzLjgyOTMwNSAgICA4Ni4wNTQ5OTcKc3RkICAgICAxMTEu
MDQ5OTgwICAgMTA4LjI1ODgzNCAgIDEwNy41NjI1ODMgICAxMDguNTU4MjQwCm1pbiAgICAgMC4w
OTkwMDAgICAgIDAuMDM3MDAwICAgICAwLjA2NzAwMCAgICAgMC4wNDUwMDAKMjUlICAgICAzNC43
NjU1MDAgICAgMzQuMDIxNzUwICAgIDM0LjEwMTUwMCAgICAzNC40MjMwMDAKNTAlICAgICA1NC45
NTAwMDAgICAgNTUuMjg2NTAwICAgIDU0LjE4OTUwMCAgICA1NC4yNDg1MDAKNzUlICAgICA5NS45
NTQwMDAgICAgOTMuOTQyMDAwICAgIDkxLjczODAwMCAgICA5NC4wNTkyNTAwCjgwJSAgICAgMTE0
LjY3NTAwMCAgIDEwNy40MzAwMDAgICAxMDYuMzc4MDAwICAgMTA4LjY3MzAwMAo4NSUgICAgIDEz
Ny44NTEwMDAgICAxMjkuNTExMDAwICAgMTI3LjE1NjUwMCAgIDEzMS43NTA3NTAKOTAlICAgICAx
NzkuNjY5MDAwICAgMTcwLjIwODUwMCAgIDE2NC4wMjcwMDAgICAxNzIuMzQ4MDAwCjk1JSAgICAg
MjcyLjM5NTAwMCAgIDI1Ny44NDU1MDAgICAyNDcuNzUwNTAwICAgMjYzLjI3NTc1MAo5OCUgICAg
IDM5OS4wMzQ1MDAgICA0MTIuMTcwNDAwICAgMzkxLjQ4NDAwMCAgIDQwMi44MzU2MDAKCiAgICAg
ICAgZGF5NSAgICAgICAgIGRheTYgICAgICAgIGRheTcgICAgICAgICBkYXk4CmNvdW50ICAgNzc2
Ni4wMDAwMDAgIDc3NjYuMDAwMDAgIDc3NjYuMDAwMDAwICA3NzY2LjAwMDAwMAptZWFuICAgIDgy
LjUzMjY3NyAgICA3OS4yMTkyMyAgICA3Ny42MTEzODAgICAgODEuMDc1MDgxCnN0ZCAgICAgMTA0
Ljg3MDA3OSAgIDEwMS4zNDgxOSAgIDEwMy4xNDAwMzcgICA5Ny41MDYyMjEKbWluICAgICAwLjA1
MTAwMCAgICAgMC4wMjkwMCAgICAgMC4wMDcwMDAgICAgIDAuMDY4MDAwCjI1JSAgICAgMzIuODcz
MDAwICAgIDMzLjQ0NDAwICAgIDMxLjk2NTUwMCAgICAzMy44NjM1MDAKNTAlICAgICA1Mi4xODA1
MDAgICAgNTEuNTY1NTAgICAgNTAuODA2NTAwICAgIDUzLjA4MDAwMAo3NSUgICAgIDkwLjkwNTc1
MCAgICA4Ni44MjYyNSAgICA4My44NTkyNTAgICAgODkuOTczMDAwCjgwJSAgICAgMTA1LjQ1NTAw
MCAgIDk5LjY0NzAwICAgIDk3LjI3MTAwMCAgICAxMDQuMjI1MDAwCjg1JSAgICAgMTI4LjMwMDAw
MCAgIDExOC40NzgyNSAgIDExNi41NzAyNTAgICAxMjYuNjQ4MjUwCjkwJSAgICAgMTY2LjY0NzUw
MCAgIDE0OS4xODAwMCAgIDE1MC42NDk1MDAgICAxNjEuMDg3MDAwCjk1JSAgICAgMjQ3LjIwODUw
MCAgIDIyNC4zNjA1MCAgIDIyNi4zODAwMDAgICAyNDUuMjkxMjUwCjk4JSAgICAgMzkzLjAwMjAw
MCAgIDM0Ny45MjA2MCAgIDM2OS43OTE4MDAgICAzNzguNzc4NjAwCgogICAgICAgIGRheTkgICAg
ICAgICBkYXkxMCAgICAgICAgZGF5MTEgICAgICAgIGRheTEyCmNvdW50ICAgNzc2Ni4wMDAwMDAg
IDc3NjYuMDAwMDAwICA3NzY2LjAwMDAwMCAgNzc2Ni4wMDAwMDAKbWVhbiAgICA3OS45ODkxNzAg
ICAgODMuODU5NDE3ICAgIDc4LjAzMjkzMCAgICA3Ny4wNjA1NDIKc3RkICAgICAxMDQuMjI2MTIy
ICAgMTA4Ljg5MzA0MyAgIDEwMi41NjE3MTUgICA5OS44NDQyNzYKbWluICAgICAwLjExODAwMCAg
ICAgMC4wMTcwMDAgICAgIDAuMDI4MDAwICAgICAwLjAzOTAwMAoyNSUgICAgIDMyLjA1NjI1MCAg
ICAzMy40NTQ1MDAgICAgMzEuMTc2MjUwICAgIDMwLjg5Nzc1MAo1MCUgICAgIDUxLjUwNjAwMCAg
ICA1NC4wNTYwMDAgICAgNDguOTY5NTAwICAgIDQ5LjA2OTAwMAo3NSUgICAgIDg4LjUxMzUwMCAg
ICA5Mi45NTM1MDAgICAgODMuNTA2NzUwICAgIDg0LjA5NjAwMAo4MCUgICAgIDEwMi44NzYwMDAg
ICAxMDcuODQ1MDAwICAgOTcuNzE3MDAwICAgIDk4LjA3MzAwMAo4NSUgICAgIDEyNC4zNjMwMDAg
ICAxMjguMjg4MDAwICAgMTE4LjM2NjUwMCAgIDExNi44NjkyNTAKOTAlICAgICAxNjAuNTU3MDAw
ICAgMTY3LjA4NDAwMCAgIDE1NC4zNDI1MDAgICAxNDguMTg3NTAwCjk1JSAgICAgMjMxLjE0OTAw
MCAgIDI0Mi45MjU3NTAgICAyMzYuNzU5MDAwICAgMjI4LjEzMTI1MAo5OCUgICAgIDM2Ny4yMDY2
MDAgICAzODguNjE5MTAwICAgMzg1LjI2OTEwMCAgIDM3Ni41NDE2MDAKCiAgICAgICAgZGF5MTMg
ICAgICAgIGRheTE0CmNvdW50ICAgNzc2Ni4wMDAwMDAgIDc3NjYuMDAwMDAwCm1lYW4gICAgNzUu
NTI4MDM2ICAgIDczLjcwMjg3OApzdGQgICAgIDkwLjc1MDU5NCAgICA4Ni43OTYwMTYKbWluICAg
ICAwLjA2NjAwMCAgICAgMC4wNTQwMDAKMjUlICAgICAzMS4xNzA1MDAgICAgMzEuNjA4NTAwCjUw
JSAgICAgNDguNzU4NTAwICAgIDQ5LjIxNTAwMAo3NSUgICAgIDg0LjUyMjc1MCAgICA4My4wNTMw
MDAKODAlICAgICA5Ny44NzkwMDAgICAgOTQuODc1MDAwCjg1JSAgICAgMTE2LjY4MDI1MCAgIDEx
My41NzM3NTAKOTAlICAgICAxNDkuMDgzNTAwICAgMTQ0LjA4OTUwMAo5NSUgICAgIDIyNi4xNzc3
NTAgICAyMTEuNDg4NzUwCjk4JSAgICAgMzQ3LjAxMTEwMCAgIDMzMS4zMTcxMDAKClNpZ25lZC1v
ZmYtYnk6IERvbmdkb25nIFlhbmcgPHlhbmdkb25nZG9uZ0B4aWFvbWkuY29tPgpTaWduZWQtb2Zm
LWJ5OiBKdW4gVGFvIDx0YW9qdW5AeGlhb21pLmNvbT4KU2lnbmVkLW9mZi1ieTogUWl3dSBIdWFu
ZyA8aHVhbmdxaXd1QHhpYW9taS5jb20+ClNpZ25lZC1vZmYtYnk6IEdlbGlhbmcgVGFuZyA8dGFu
Z2dlbGlhbmdAeGlhb21pLmNvbT4KU2lnbmVkLW9mZi1ieTogUGVuZyBXYW5nIDxyb2NraW5nQGxp
bnV4LmFsaWJhYmEuY29tPgotLS0KIGRyaXZlcnMvc3RhZ2luZy9LY29uZmlnICAgICAgICAgIHwg
ICAyICsKIGRyaXZlcnMvc3RhZ2luZy9NYWtlZmlsZSAgICAgICAgIHwgICAxICsKIGRyaXZlcnMv
c3RhZ2luZy9mYnNjaGVkL0tjb25maWcgIHwgIDEwICsrCiBkcml2ZXJzL3N0YWdpbmcvZmJzY2hl
ZC9NYWtlZmlsZSB8ICAgMiArCiBkcml2ZXJzL3N0YWdpbmcvZmJzY2hlZC91c2YuYyAgICB8IDM1
MSArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIGtlcm5lbC9zY2hlZC9j
cHVmcmVxX3NjaGVkdXRpbC5jIHwgIDExICstCiA2IGZpbGVzIGNoYW5nZWQsIDM3NiBpbnNlcnRp
b25zKCspLCAxIGRlbGV0aW9uKC0pCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9zdGFnaW5n
L2Zic2NoZWQvS2NvbmZpZwogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvc3RhZ2luZy9mYnNj
aGVkL01ha2VmaWxlCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9zdGFnaW5nL2Zic2NoZWQv
dXNmLmMKCmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcvS2NvbmZpZyBiL2RyaXZlcnMvc3Rh
Z2luZy9LY29uZmlnCmluZGV4IDRlYzU1MjguLjA1YjIzMWUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
c3RhZ2luZy9LY29uZmlnCisrKyBiL2RyaXZlcnMvc3RhZ2luZy9LY29uZmlnCkBAIC0xMjAsNCAr
MTIwLDYgQEAgc291cmNlICJkcml2ZXJzL3N0YWdpbmcvcWxnZS9LY29uZmlnIgogCiBzb3VyY2Ug
ImRyaXZlcnMvc3RhZ2luZy93ZngvS2NvbmZpZyIKIAorc291cmNlICJkcml2ZXJzL3N0YWdpbmcv
ZmJzY2hlZC9LY29uZmlnIgorCiBlbmRpZiAjIFNUQUdJTkcKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
c3RhZ2luZy9NYWtlZmlsZSBiL2RyaXZlcnMvc3RhZ2luZy9NYWtlZmlsZQppbmRleCA0ZDM0MTk4
Li5lMDE2ZWM2IDEwMDY0NAotLS0gYS9kcml2ZXJzL3N0YWdpbmcvTWFrZWZpbGUKKysrIGIvZHJp
dmVycy9zdGFnaW5nL01ha2VmaWxlCkBAIC01MCwzICs1MCw0IEBAIG9iai0kKENPTkZJR19GSUVM
REJVU19ERVYpICAgICArPSBmaWVsZGJ1cy8KIG9iai0kKENPTkZJR19LUEMyMDAwKQkJKz0ga3Bj
MjAwMC8KIG9iai0kKENPTkZJR19RTEdFKQkJKz0gcWxnZS8KIG9iai0kKENPTkZJR19XRlgpCQkr
PSB3ZngvCitvYmotJChDT05GSUdfU0NIRURfVVNGKQkJKz0gZmJzY2hlZC8KZGlmZiAtLWdpdCBh
L2RyaXZlcnMvc3RhZ2luZy9mYnNjaGVkL0tjb25maWcgYi9kcml2ZXJzL3N0YWdpbmcvZmJzY2hl
ZC9LY29uZmlnCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAuLjk1NGI2YWYKLS0t
IC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL3N0YWdpbmcvZmJzY2hlZC9LY29uZmlnCkBAIC0wLDAg
KzEsMTAgQEAKK2NvbmZpZyBTQ0hFRF9VU0YKKwlib29sICJVc2VyIFNlbnNpdGl2ZSBGYWN0b3Jz
IGZvciBTY2hlZHVsZXIiCisJZGVwZW5kcyBvbiBDUFVfRlJFUV9HT1ZfU0NIRURVVElMICYmIEZC
CisJaGVscAorCSAgU2VsZWN0IHRoaXMgb3B0aW9uIHRvIGVuYWJsZSB0aGUgYWRqdXN0bWVudCBv
biB0aGUgY3B1ZnJlcSB3aXRoCisJICB0aGUgdXNlciBzZW5zaXRpdmUgZmFjdG9ycyBvbiBzY2hl
ZHVsZS4gSXQgaXMgc3BlY2lhbCBmb3IgcG9ydGFibGUKKwkgIGVxdWlwbWVudCB3aGljaCBtb3Jl
IHBvd2VyIGNhcmUgYW5kIHF1aWNrIHJlc3BvbnNlIHJlcXVpcmVtZW50IG9uCisJICBzY3JlZW4g
b24uCisKKwkgIElmIHVuc3VyZSwgc2F5IE4uCmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcv
ZmJzY2hlZC9NYWtlZmlsZSBiL2RyaXZlcnMvc3RhZ2luZy9mYnNjaGVkL01ha2VmaWxlCm5ldyBm
aWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAuLmY1NmFhNmMKLS0tIC9kZXYvbnVsbAorKysg
Yi9kcml2ZXJzL3N0YWdpbmcvZmJzY2hlZC9NYWtlZmlsZQpAQCAtMCwwICsxLDIgQEAKK0xJTlVY
SU5DTFVERSArPSAtaW5jbHVkZSAkKHNyY3RyZWUpL2tlcm5lbC9zY2hlZC9zY2hlZC5oCitvYmot
JChDT05GSUdfU0NIRURfVVNGKSArPSB1c2YubwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5n
L2Zic2NoZWQvdXNmLmMgYi9kcml2ZXJzL3N0YWdpbmcvZmJzY2hlZC91c2YuYwpuZXcgZmlsZSBt
b2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi44NTgyOTkyCi0tLSAvZGV2L251bGwKKysrIGIvZHJp
dmVycy9zdGFnaW5nL2Zic2NoZWQvdXNmLmMKQEAgLTAsMCArMSwzNTEgQEAKKy8vIFNQRFgtTGlj
ZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wCisvKgorICogQ29weXJpZ2h0IChDKSAyMDIwIFhpYW9N
aSBJbmMuCisgKiBBdXRob3I6IFlhbmcgRG9uZ2RvbmcgPHlhbmdkb25nZG9uZ0B4aWFvbWkuY29t
PgorICogVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRl
IGl0IGFuZC9vciBtb2RpZnkKKyAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVy
YWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAyIGFzCisgKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUg
U29mdHdhcmUgRm91bmRhdGlvbi4KKyAqCisgKiBUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQg
aW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKKyAqIGJ1dCBXSVRIT1VUIEFOWSBX
QVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCisgKiBNRVJDSEFO
VEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuCisgKiBTZWUgaHR0
cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2dwbC0yLjAuaHRtbCBmb3IgbW9yZSBkZXRhaWxzLgor
ICovCisKKyNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KKyNpbmNsdWRlIDxsaW51eC9pbml0Lmg+
CisjaW5jbHVkZSA8bGludXgvcGxhdGZvcm1fZGV2aWNlLmg+CisjaW5jbHVkZSA8bGludXgva3Ro
cmVhZC5oPgorI2luY2x1ZGUgPGxpbnV4L2NwdS5oPgorI2luY2x1ZGUgPGxpbnV4L3N5c2ZzLmg+
CisjaW5jbHVkZSA8bGludXgva3RocmVhZC5oPgorI2luY2x1ZGUgPGxpbnV4L2tvYmplY3QuaD4K
KyNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KKyNpbmNsdWRlIDxsaW51eC9rZXJuZWwuaD4KKyNp
bmNsdWRlIDxsaW51eC9pbml0Lmg+CisjaW5jbHVkZSA8bGludXgva2FsbHN5bXMuaD4KKyNpbmNs
dWRlIDxsaW51eC9kZWJ1Z2ZzLmg+CisjaW5jbHVkZSA8bGludXgvZmIuaD4KKyNpbmNsdWRlIDxs
aW51eC9ub3RpZmllci5oPgorCisjZGVmaW5lIEJPT1NUX01JTl9WIC0xMDAKKyNkZWZpbmUgQk9P
U1RfTUFYX1YgMTAwCisjZGVmaW5lIExFVkVMX1RPUCAzCisKKyNkZWZpbmUgVVNGX1RBRwkiW3Vz
Zl9zY2hlZF0iCisKK2V4dGVybiB2b2lkICgqYWRqdXN0X3Rhc2tfcHJlZF9kZW1hbmQpKGludCBj
cHVpZCwKKwkJCQkgICAgICAgdW5zaWduZWQgbG9uZyAqdXRpbCwKKwkJCQkgICAgICAgc3RydWN0
IHJxICpycSk7CitERUZJTkVfUEVSX0NQVSh1bnNpZ25lZCBsb25nW1BJRF9NQVhfTElNSVRdLCB0
YXNrX2hpc3Rfbml2Y3N3KTsKKworc3RhdGljIHN0cnVjdCB7CisJYm9vbCBpc19zY2hlZF91c2Zf
ZW5hYmxlZDsKKwlpbnQgZW5hYmxlX2RlYnVnOworCWludCBpc19zY3JlZW5fb247CisJc3RydWN0
IGtvYmplY3QgKmtvYmo7CisJc3RydWN0IGRlbnRyeSAqZGVidWdmc19lbnRyeTsKKwlpbnQgc3lz
Y3RsX3NjaGVkX3VzZl91cF9sMDsKKwlpbnQgc3lzY3RsX3NjaGVkX3VzZl9kb3duOworCWludCBz
eXNjdGxfc2NoZWRfdXNmX25vbl91eDsKKwlpbnQgdXNmX3VwX2wwOworCWludCB1c2ZfZG93bjsK
KwlpbnQgdXNmX25vbl91eDsKK30gdXNmX3ZkZXY7CisKK3N0YXRpYyB2b2lkIGFkanVzdF90YXNr
X3ByZWRfZGVtYW5kX2ltcGwoaW50IGNwdWlkLAorCQkJCQkgdW5zaWduZWQgbG9uZyAqdXRpbCwK
KwkJCQkJIHN0cnVjdCBycSAqcnEpCit7CisJLyogc3lzY3RsX3NjaGVkX2xhdGVuY3kvc3lzY3Rs
X3NjaGVkX21pbl9ncmFudWxhcml0eSAqLworCXUzMiBibF9zd19udW0gPSAzOworCisJaWYgKCF1
c2ZfdmRldi5pc19zY2hlZF91c2ZfZW5hYmxlZCB8fCAhcnEgfHwgIXJxLT5jdXJyKQorCQlyZXR1
cm47CisKKwlpZiAodXNmX3ZkZXYuaXNfc2NyZWVuX29uKSB7CisJCWlmIChycS0+Y3Vyci0+bml2
Y3N3ID4KKwkJICAgIChwZXJfY3B1KHRhc2tfaGlzdF9uaXZjc3csIGNwdWlkKVtycS0+Y3Vyci0+
cGlkXQorCQkgICAgICsgYmxfc3dfbnVtICsgMSkpIHsKKwkJCSgqdXRpbCkgKz0gKCp1dGlsKSA+
PiB1c2ZfdmRldi51c2ZfdXBfbDA7CisJCX0gZWxzZSBpZiAocnEtPmN1cnItPm5pdmNzdyA8CisJ
CQkgICAocGVyX2NwdSh0YXNrX2hpc3Rfbml2Y3N3LCBjcHVpZClbcnEtPmN1cnItPnBpZF0KKwkJ
CSAgICArIGJsX3N3X251bSAtIDEpICYmIChycS0+bnJfcnVubmluZyA8IGJsX3N3X251bSkpIHsK
KwkJCSgqdXRpbCkgPj49IHVzZl92ZGV2LnVzZl9kb3duOworCQl9CisJCXBlcl9jcHUodGFza19o
aXN0X25pdmNzdywgY3B1aWQpW3JxLT5jdXJyLT5waWRdID0KKwkJICAgIHJxLT5jdXJyLT5uaXZj
c3c7CisJfSBlbHNlIGlmIChycS0+Y3Vyci0+bW0pIHsKKwkJKCp1dGlsKSA+Pj0gdXNmX3ZkZXYu
dXNmX25vbl91eDsKKwl9CisKKwlpZiAodW5saWtlbHkodXNmX3ZkZXYuZW5hYmxlX2RlYnVnKSkK
KwkJdHJhY2VfcHJpbnRrCisJCSAgICAoIiVzOiBjcHVfaWQ9JWQgbm9uX3V4PSVkIHVzZl91cD0l
ZCB1c2ZfZG93bj0lZCB1dGlsPSVsdVxuIiwKKwkJICAgICBVU0ZfVEFHLCBjcHVpZCwgdXNmX3Zk
ZXYudXNmX25vbl91eCwKKwkJICAgICB1c2ZfdmRldi51c2ZfdXBfbDAsIHVzZl92ZGV2LnVzZl9k
b3duLCAqdXRpbCk7Cit9CisKK3N0YXRpYyBpbnQgdXNmX2xjZF9ub3RpZmllcihzdHJ1Y3Qgbm90
aWZpZXJfYmxvY2sgKm5iLAorCQkJICAgIHVuc2lnbmVkIGxvbmcgdmFsLCB2b2lkICpkYXRhKQor
eworCXN0cnVjdCBmYl9ldmVudCAqZXZkYXRhID0gZGF0YTsKKwl1bnNpZ25lZCBpbnQgYmxhbms7
CisKKwlpZiAoIWV2ZGF0YSkKKwkJcmV0dXJuIDA7CisKKwlpZiAodmFsICE9IEZCX0VWRU5UX0JM
QU5LKQorCQlyZXR1cm4gMDsKKworCWlmIChldmRhdGEtPmRhdGEgJiYgdmFsID09IEZCX0VWRU5U
X0JMQU5LKSB7CisJCWJsYW5rID0gKihpbnQgKikoZXZkYXRhLT5kYXRhKTsKKworCQlzd2l0Y2gg
KGJsYW5rKSB7CisJCWNhc2UgRkJfQkxBTktfUE9XRVJET1dOOgorCQkJdXNmX3ZkZXYuaXNfc2Ny
ZWVuX29uID0gMDsKKwkJCWlmICh1c2ZfdmRldi5zeXNjdGxfc2NoZWRfdXNmX25vbl91eCAhPSAw
KQorCQkJCWFkanVzdF90YXNrX3ByZWRfZGVtYW5kID0KKwkJCQkgICAgJmFkanVzdF90YXNrX3By
ZWRfZGVtYW5kX2ltcGw7CisJCQllbHNlCisJCQkJYWRqdXN0X3Rhc2tfcHJlZF9kZW1hbmQgPSBO
VUxMOworCisJCQlicmVhazsKKworCQljYXNlIEZCX0JMQU5LX1VOQkxBTks6CisJCQl1c2ZfdmRl
di5pc19zY3JlZW5fb24gPSAxOworCQkJaWYgKHVzZl92ZGV2LnN5c2N0bF9zY2hlZF91c2ZfdXBf
bDAgIT0gMCB8fAorCQkJICAgIHVzZl92ZGV2LnN5c2N0bF9zY2hlZF91c2ZfZG93biAhPSAwKQor
CQkJCWFkanVzdF90YXNrX3ByZWRfZGVtYW5kID0KKwkJCQkgICAgJmFkanVzdF90YXNrX3ByZWRf
ZGVtYW5kX2ltcGw7CisJCQllbHNlCisJCQkJYWRqdXN0X3Rhc2tfcHJlZF9kZW1hbmQgPSBOVUxM
OworCQkJYnJlYWs7CisJCWRlZmF1bHQ6CisJCQlicmVhazsKKwkJfQorCisJCXVzZl92ZGV2Lmlz
X3NjaGVkX3VzZl9lbmFibGVkID0gMTsKKwkJaWYgKHVzZl92ZGV2LmVuYWJsZV9kZWJ1ZykKKwkJ
CXRyYWNlX3ByaW50aygiJXMgOiB1c2ZfdmRldi5pc19zY3JlZW5fb246JWRcbiIsCisJCQkJICAg
ICBfX2Z1bmNfXywgdXNmX3ZkZXYuaXNfc2NyZWVuX29uKTsKKwl9CisJcmV0dXJuIE5PVElGWV9P
SzsKK30KKworc3RhdGljIHN0cnVjdCBub3RpZmllcl9ibG9jayB1c2ZfbGNkX25iID0geworCS5u
b3RpZmllcl9jYWxsID0gdXNmX2xjZF9ub3RpZmllciwKKwkucHJpb3JpdHkgPSBJTlRfTUFYLAor
fTsKKworc3RhdGljIHNzaXplX3Qgc3RvcmVfc2NoZWRfdXNmX3VwX2wwX3Ioc3RydWN0IGtvYmpl
Y3QgKmtvYmosCisJCQkJICAgICAgIHN0cnVjdCBrb2JqX2F0dHJpYnV0ZSAqYXR0ciwKKwkJCQkg
ICAgICAgY29uc3QgY2hhciAqYnVmLCBzaXplX3QgY291bnQpCit7CisJaW50IHZhbCA9IDA7CisJ
aW50IHJldDsKKworCXJldCA9IGtzdHJ0b2ludChidWYsIDAsICZ2YWwpOworCWlmIChyZXQpIHsK
KwkJcHJfZXJyKFVTRl9UQUcgInNldCBzdGF0ZSBmYWlsIHJldD0lZFxuIiwgcmV0KTsKKwkJcmV0
dXJuIHJldDsKKwl9CisKKwlpZiAoKHZhbCA+PSAwKSAmJiAodmFsIDw9IEJPT1NUX01BWF9WKSkg
eworCQl1c2ZfdmRldi5zeXNjdGxfc2NoZWRfdXNmX3VwX2wwID0gdmFsOworCQl1c2ZfdmRldi51
c2ZfdXBfbDAgPSBMRVZFTF9UT1AgLQorCQkJCURJVl9ST1VORF9VUCh2YWwsIEJPT1NUX01BWF9W
IC8gMik7CisJfSBlbHNlIHsKKwkJcHJfZXJyKFVTRl9UQUcgIiVkIHNob3VsZCBmYWxsIGludG8g
WyVkICVkXSIsCisJCSAgICAgICB2YWwsIDAsIEJPT1NUX01BWF9WKTsKKwl9CisJaWYgKCh1c2Zf
dmRldi5zeXNjdGxfc2NoZWRfdXNmX3VwX2wwID09IDApICYmCisJICAgICh1c2ZfdmRldi5zeXNj
dGxfc2NoZWRfdXNmX2Rvd24gPT0gMCkpCisJCWFkanVzdF90YXNrX3ByZWRfZGVtYW5kID0gTlVM
TDsKKwllbHNlCisJCWFkanVzdF90YXNrX3ByZWRfZGVtYW5kID0gJmFkanVzdF90YXNrX3ByZWRf
ZGVtYW5kX2ltcGw7CisKKwlyZXR1cm4gY291bnQ7Cit9CisKK3N0YXRpYyBzc2l6ZV90IHN0b3Jl
X3NjaGVkX3VzZl9kb3duX3Ioc3RydWN0IGtvYmplY3QgKmtvYmosCisJCQkJICAgICAgc3RydWN0
IGtvYmpfYXR0cmlidXRlICphdHRyLAorCQkJCSAgICAgIGNvbnN0IGNoYXIgKmJ1Ziwgc2l6ZV90
IGNvdW50KQoreworCWludCB2YWwgPSAwOworCWludCByZXQ7CisKKwlyZXQgPSBrc3RydG9pbnQo
YnVmLCAwLCAmdmFsKTsKKwlpZiAocmV0KSB7CisJCXByX2VycihVU0ZfVEFHICJzZXQgc3RhdGUg
ZmFpbCByZXQ9JWRcbiIsIHJldCk7CisJCXJldHVybiByZXQ7CisJfQorCisJaWYgKCh2YWwgPj0g
Qk9PU1RfTUlOX1YpICYmICh2YWwgPD0gMCkpIHsKKwkJdXNmX3ZkZXYuc3lzY3RsX3NjaGVkX3Vz
Zl9kb3duID0gdmFsOworCQl1c2ZfdmRldi51c2ZfZG93biA9IERJVl9ST1VORF9VUCgtdmFsLCAt
Qk9PU1RfTUlOX1YgLyAyKTsKKwl9IGVsc2UgeworCQlwcl9lcnIoVVNGX1RBRyAiJWQgc2hvdWxk
IGZhbGwgaW50byBbJWQgJWRdIiwKKwkJICAgICAgIHZhbCwgQk9PU1RfTUlOX1YsIDApOworCX0K
KwlpZiAoKHVzZl92ZGV2LnN5c2N0bF9zY2hlZF91c2ZfdXBfbDAgPT0gMCkgJiYKKwkgICAgKHVz
Zl92ZGV2LnN5c2N0bF9zY2hlZF91c2ZfZG93biA9PSAwKSkKKwkJYWRqdXN0X3Rhc2tfcHJlZF9k
ZW1hbmQgPSBOVUxMOworCWVsc2UKKwkJYWRqdXN0X3Rhc2tfcHJlZF9kZW1hbmQgPSAmYWRqdXN0
X3Rhc2tfcHJlZF9kZW1hbmRfaW1wbDsKKworCXJldHVybiBjb3VudDsKK30KKworc3RhdGljIHNz
aXplX3Qgc3RvcmVfc2NoZWRfdXNmX25vbl91eF9yKHN0cnVjdCBrb2JqZWN0ICprb2JqLAorCQkJ
CQlzdHJ1Y3Qga29ial9hdHRyaWJ1dGUgKmF0dHIsCisJCQkJCWNvbnN0IGNoYXIgKmJ1Ziwgc2l6
ZV90IGNvdW50KQoreworCWludCB2YWwgPSAwOworCWludCByZXQ7CisKKwlyZXQgPSBrc3RydG9p
bnQoYnVmLCAwLCAmdmFsKTsKKwlpZiAocmV0KSB7CisJCXByX2VycihVU0ZfVEFHICJzZXQgc3Rh
dGUgZmFpbCByZXQ9JWRcbiIsIHJldCk7CisJCXJldHVybiByZXQ7CisJfQorCisJaWYgKCh2YWwg
Pj0gQk9PU1RfTUlOX1YpICYmICh2YWwgPD0gMCkpIHsKKwkJdXNmX3ZkZXYuc3lzY3RsX3NjaGVk
X3VzZl9ub25fdXggPSB2YWw7CisJCXVzZl92ZGV2LnVzZl9ub25fdXggPSBESVZfUk9VTkRfVVAo
LXZhbCwgLUJPT1NUX01JTl9WIC8gMik7CisJfSBlbHNlIHsKKwkJcHJfZXJyKFVTRl9UQUcgIiVk
IHNob3VsZCBmYWxsIGludG8gWyVkICVkXSIsCisJCSAgICAgICB2YWwsIEJPT1NUX01JTl9WLCAw
KTsKKwl9CisJaWYgKHVzZl92ZGV2LnN5c2N0bF9zY2hlZF91c2Zfbm9uX3V4ID09IDApCisJCWFk
anVzdF90YXNrX3ByZWRfZGVtYW5kID0gTlVMTDsKKwllbHNlCisJCWFkanVzdF90YXNrX3ByZWRf
ZGVtYW5kID0gJmFkanVzdF90YXNrX3ByZWRfZGVtYW5kX2ltcGw7CisKKwlyZXR1cm4gY291bnQ7
Cit9CisKKyNkZWZpbmUgdXNmX2F0dHJfcncoX25hbWUpCQkJCQkJXAorc3RhdGljIHN0cnVjdCBr
b2JqX2F0dHJpYnV0ZSBfbmFtZSA9CQkJCQlcCitfX0FUVFIoX25hbWUsIDA2NjQsIHNob3dfIyNf
bmFtZSwgc3RvcmVfIyNfbmFtZSkKKworI2RlZmluZSB1c2Zfc2hvd19ub2RlKF9uYW1lLCBfdmFs
dWUpCQkJCQlcCitzdGF0aWMgc3NpemVfdCBzaG93XyMjX25hbWUJCQkJCQlcCisoc3RydWN0IGtv
YmplY3QgKmtvYmosIHN0cnVjdCBrb2JqX2F0dHJpYnV0ZSAqYXR0ciwgIGNoYXIgKmJ1ZikJCVwK
K3sJCQkJCQkJCQlcCisJdW5zaWduZWQgaW50IGxlbiA9IDA7CQkJCQkJXAorCXVuc2lnbmVkIGlu
dCBtYXhfbGVuID0gODsJCQkJCVwKKwlsZW4gKz0JCQkJCQkJCVwKKwkgICAgc25wcmludGYoYnVm
ICsgbGVuLCBtYXhfbGVuIC0gbGVuLCAiJWQiLAkJCVwKKwkJICAgICB1c2ZfdmRldi5zeXNjdGxf
IyNfdmFsdWUpOwkJCQlcCisJcmV0dXJuIGxlbjsJCQkJCQkJXAorfQorCit1c2Zfc2hvd19ub2Rl
KHNjaGVkX3VzZl91cF9sMF9yLCBzY2hlZF91c2ZfdXBfbDApOwordXNmX3Nob3dfbm9kZShzY2hl
ZF91c2ZfZG93bl9yLCBzY2hlZF91c2ZfZG93bik7Cit1c2Zfc2hvd19ub2RlKHNjaGVkX3VzZl9u
b25fdXhfciwgc2NoZWRfdXNmX25vbl91eCk7CisKK3VzZl9hdHRyX3J3KHNjaGVkX3VzZl91cF9s
MF9yKTsKK3VzZl9hdHRyX3J3KHNjaGVkX3VzZl9kb3duX3IpOwordXNmX2F0dHJfcncoc2NoZWRf
dXNmX25vbl91eF9yKTsKKworc3RhdGljIHN0cnVjdCBhdHRyaWJ1dGUgKnNjaGVkX2F0dHJzW10g
PSB7CisJJnNjaGVkX3VzZl91cF9sMF9yLmF0dHIsCisJJnNjaGVkX3VzZl9kb3duX3IuYXR0ciwK
Kwkmc2NoZWRfdXNmX25vbl91eF9yLmF0dHIsCisJTlVMTCwKK307CisKK3N0YXRpYyBzdHJ1Y3Qg
YXR0cmlidXRlX2dyb3VwIHNjaGVkX2F0dHJfZ3JvdXAgPSB7CisJLmF0dHJzID0gc2NoZWRfYXR0
cnMsCit9OworCitzdGF0aWMgaW50IHVzZl9kYmdfZ2V0KHZvaWQgKmRhdGEsIHU2NCAqdmFsKQor
eworCSp2YWwgPSAodTY0KXVzZl92ZGV2LmVuYWJsZV9kZWJ1ZzsKKworCXJldHVybiAwOworfQor
CitzdGF0aWMgaW50IHVzZl9kYmdfc2V0KHZvaWQgKmRhdGEsIHU2NCB2YWwpCit7CisJdXNmX3Zk
ZXYuZW5hYmxlX2RlYnVnID0gISF2YWw7CisJcmV0dXJuIDA7Cit9CisKK0RFRklORV9TSU1QTEVf
QVRUUklCVVRFKHVzZl9kYmdfZm9wcywgdXNmX2RiZ19nZXQsCisJCQl1c2ZfZGJnX3NldCwgIiVs
bHVcbiIpOworCitzdGF0aWMgaW50IF9faW5pdCBpbnRlcmFfbW9uaXRvcl9pbml0KHZvaWQpCit7
CisJaW50IHJlcyA9IC0xOworCXN0cnVjdCBhdHRyaWJ1dGVfZ3JvdXAgKmF0dHJfZ3JvdXA7CisK
KwlyZXMgPSBmYl9yZWdpc3Rlcl9jbGllbnQoJnVzZl9sY2RfbmIpOworCWlmIChyZXMgPCAwKSB7
CisJCXByX2VycigiRmFpbGVkIHRvIHJlZ2lzdGVyIHVzZl9sY2RfbmIhXG4iKTsKKwkJcmV0dXJu
IHJlczsKKwl9CisKKwkvKgorCSAqIGNyZWF0ZSBhIHNjaGVkX3VzZiBpbiBjcHVfc3Vic3lzOgor
CSAqIC9zeXMvZGV2aWNlcy9zeXN0ZW0vY3B1L3NjaGVkX3VzZi8uLi4KKwkgKi8KKwlhdHRyX2dy
b3VwID0gJnNjaGVkX2F0dHJfZ3JvdXA7CisJdXNmX3ZkZXYua29iaiA9IGtvYmplY3RfY3JlYXRl
X2FuZF9hZGQoInNjaGVkX3VzZiIsCisJCQkJCSAgICAgICAmY3B1X3N1YnN5cy5kZXZfcm9vdC0+
a29iaik7CisKKwlpZiAoIXVzZl92ZGV2LmtvYmopIHsKKwkJcHJfZXJyKCJGYWlsZWQgdG8gY3Jl
YXRlIHNjaGVkX3VzZiFcbiIpOworCQlyZXMgPSAtRU5PTUVNOworCQlnb3RvIG91dDsKKwl9IGVs
c2UgeworCQlyZXMgPSBzeXNmc19jcmVhdGVfZ3JvdXAodXNmX3ZkZXYua29iaiwgYXR0cl9ncm91
cCk7CisJCWlmIChyZXMpIHsKKwkJCWtvYmplY3RfcHV0KHVzZl92ZGV2LmtvYmopOworCQkJZ290
byBvdXQ7CisJCX0gZWxzZSB7CisJCQlrb2JqZWN0X3VldmVudCh1c2ZfdmRldi5rb2JqLCBLT0JK
X0FERCk7CisJCX0KKwl9CisKKwl1c2ZfdmRldi5lbmFibGVfZGVidWcgPSAwOworCXVzZl92ZGV2
LmRlYnVnZnNfZW50cnkgPSBkZWJ1Z2ZzX2NyZWF0ZV9maWxlKCJ1c2ZfZGJnIiwKKwkJCQkJCSAg
ICAgMDY2MCwgTlVMTCwgTlVMTCwKKwkJCQkJCSAgICAgJnVzZl9kYmdfZm9wcyk7CisJaWYgKCF1
c2ZfdmRldi5kZWJ1Z2ZzX2VudHJ5KQorCQlwcl9lcnIoIkZhaWxlZCB0byBjcmVhdGUgdXNmX2Ri
ZyFcbiIpOworCisJdXNmX3ZkZXYuaXNfc2NoZWRfdXNmX2VuYWJsZWQgPSAwOworCXVzZl92ZGV2
LnN5c2N0bF9zY2hlZF91c2ZfdXBfbDAgPSAwOworCXVzZl92ZGV2LnN5c2N0bF9zY2hlZF91c2Zf
ZG93biA9IDA7CisJdXNmX3ZkZXYuc3lzY3RsX3NjaGVkX3VzZl9ub25fdXggPSAwOworCWFkanVz
dF90YXNrX3ByZWRfZGVtYW5kID0gTlVMTDsKKworCXJldHVybiAwOworb3V0OgorCWZiX3VucmVn
aXN0ZXJfY2xpZW50KCZ1c2ZfbGNkX25iKTsKKwlyZXR1cm4gcmVzOworfQorCittb2R1bGVfaW5p
dChpbnRlcmFfbW9uaXRvcl9pbml0KTsKKworc3RhdGljIHZvaWQgX19leGl0IGludGVyYV9tb25p
dG9yX2V4aXQodm9pZCkKK3sKKwlpZiAodXNmX3ZkZXYua29iaikKKwkJa29iamVjdF9wdXQodXNm
X3ZkZXYua29iaik7CisJaWYgKHVzZl92ZGV2LmRlYnVnZnNfZW50cnkpCisJCWRlYnVnZnNfcmVt
b3ZlKHVzZl92ZGV2LmRlYnVnZnNfZW50cnkpOworCWZiX3VucmVnaXN0ZXJfY2xpZW50KCZ1c2Zf
bGNkX25iKTsKKwl1c2ZfdmRldi5pc19zY2hlZF91c2ZfZW5hYmxlZCA9IDA7CisJdXNmX3ZkZXYu
c3lzY3RsX3NjaGVkX3VzZl91cF9sMCA9IDA7CisJdXNmX3ZkZXYuc3lzY3RsX3NjaGVkX3VzZl9k
b3duID0gMDsKKwl1c2ZfdmRldi5zeXNjdGxfc2NoZWRfdXNmX25vbl91eCA9IDA7CisJYWRqdXN0
X3Rhc2tfcHJlZF9kZW1hbmQgPSBOVUxMOworfQorCittb2R1bGVfZXhpdChpbnRlcmFfbW9uaXRv
cl9leGl0KTsKKworTU9EVUxFX0xJQ0VOU0UoIkdQTCIpOworTU9EVUxFX0RFU0NSSVBUSU9OKCJY
aWFvTWkgVVNGIFNDSEVEIik7CitNT0RVTEVfQVVUSE9SKCJZYW5nIERvbmdkb25nIDx5YW5nZG9u
Z2RvbmdAeGlhb21pLmNvbT4iKTsKZGlmZiAtLWdpdCBhL2tlcm5lbC9zY2hlZC9jcHVmcmVxX3Nj
aGVkdXRpbC5jIGIva2VybmVsL3NjaGVkL2NwdWZyZXFfc2NoZWR1dGlsLmMKaW5kZXggN2ZiYWVl
Mi4uN2JjMzQyOSAxMDA2NDQKLS0tIGEva2VybmVsL3NjaGVkL2NwdWZyZXFfc2NoZWR1dGlsLmMK
KysrIGIva2VybmVsL3NjaGVkL2NwdWZyZXFfc2NoZWR1dGlsLmMKQEAgLTI4OSwxMiArMjg5LDIx
IEBAIHVuc2lnbmVkIGxvbmcgc2NoZWR1dGlsX2NwdV91dGlsKGludCBjcHUsIHVuc2lnbmVkIGxv
bmcgdXRpbF9jZnMsCiAJcmV0dXJuIG1pbihtYXgsIHV0aWwpOwogfQogCisjaWZkZWYgQ09ORklH
X1NDSEVEX1VTRgordm9pZCAoKmFkanVzdF90YXNrX3ByZWRfZGVtYW5kKShpbnQgY3B1aWQsIHVu
c2lnbmVkIGxvbmcgKnV0aWwsCisJc3RydWN0IHJxICpycSkgPSBOVUxMOworRVhQT1JUX1NZTUJP
TChhZGp1c3RfdGFza19wcmVkX2RlbWFuZCk7CisjZW5kaWYKKwogc3RhdGljIHVuc2lnbmVkIGxv
bmcgc3Vnb3ZfZ2V0X3V0aWwoc3RydWN0IHN1Z292X2NwdSAqc2dfY3B1KQogewogCXN0cnVjdCBy
cSAqcnEgPSBjcHVfcnEoc2dfY3B1LT5jcHUpOwogCXVuc2lnbmVkIGxvbmcgdXRpbCA9IGNwdV91
dGlsX2NmcyhycSk7CiAJdW5zaWduZWQgbG9uZyBtYXggPSBhcmNoX3NjYWxlX2NwdV9jYXBhY2l0
eShzZ19jcHUtPmNwdSk7Ci0KKyNpZmRlZiBDT05GSUdfU0NIRURfVVNGCisJaWYgKGFkanVzdF90
YXNrX3ByZWRfZGVtYW5kKQorCQlhZGp1c3RfdGFza19wcmVkX2RlbWFuZChzZ19jcHUtPmNwdSwg
JnV0aWwsIHJxKTsKKyNlbmRpZgogCXNnX2NwdS0+bWF4ID0gbWF4OwogCXNnX2NwdS0+YndfZGwg
PSBjcHVfYndfZGwocnEpOwogCi0tIAoyLjcuNAoKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KZGV2ZWwgbWFpbGluZyBsaXN0CmRldmVsQGxpbnV4ZHJpdmVy
cHJvamVjdC5vcmcKaHR0cDovL2RyaXZlcmRldi5saW51eGRyaXZlcnByb2plY3Qub3JnL21haWxt
YW4vbGlzdGluZm8vZHJpdmVyZGV2LWRldmVsCg==
