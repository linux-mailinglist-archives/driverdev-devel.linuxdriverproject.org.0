Return-Path: <driverdev-devel-bounces@linuxdriverproject.org>
X-Original-To: lists+driverdev-devel@lfdr.de
Delivered-To: lists+driverdev-devel@lfdr.de
Received: from silver.osuosl.org (smtp3.osuosl.org [140.211.166.136])
	by mail.lfdr.de (Postfix) with ESMTPS id 4BEAC23B620
	for <lists+driverdev-devel@lfdr.de>; Tue,  4 Aug 2020 09:54:24 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by silver.osuosl.org (Postfix) with ESMTP id CECD722176;
	Tue,  4 Aug 2020 07:54:22 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
X-Amavis-Alert: BAD HEADER SECTION, Duplicate header field: "References"
Received: from silver.osuosl.org ([127.0.0.1])
	by localhost (.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ktWGEdA6Uqm3; Tue,  4 Aug 2020 07:54:21 +0000 (UTC)
Received: from ash.osuosl.org (ash.osuosl.org [140.211.166.34])
	by silver.osuosl.org (Postfix) with ESMTP id B1A8C2156F;
	Tue,  4 Aug 2020 07:54:14 +0000 (UTC)
X-Original-To: devel@linuxdriverproject.org
Delivered-To: driverdev-devel@osuosl.org
Received: from hemlock.osuosl.org (smtp2.osuosl.org [140.211.166.133])
 by ash.osuosl.org (Postfix) with ESMTP id A72EC1BF2A7
 for <devel@linuxdriverproject.org>; Tue,  4 Aug 2020 07:54:12 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by hemlock.osuosl.org (Postfix) with ESMTP id A39CA87397
 for <devel@linuxdriverproject.org>; Tue,  4 Aug 2020 07:54:12 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
X-Amavis-Alert: BAD HEADER SECTION, Duplicate header field: "References"
Received: from hemlock.osuosl.org ([127.0.0.1])
 by localhost (.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id jGHeBzODsNax for <devel@linuxdriverproject.org>;
 Tue,  4 Aug 2020 07:54:11 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.7.6
Received: from mail-pj1-f65.google.com (mail-pj1-f65.google.com
 [209.85.216.65])
 by hemlock.osuosl.org (Postfix) with ESMTPS id F21EE8738B
 for <devel@driverdev.osuosl.org>; Tue,  4 Aug 2020 07:54:10 +0000 (UTC)
Received: by mail-pj1-f65.google.com with SMTP id ep8so1543971pjb.3
 for <devel@driverdev.osuosl.org>; Tue, 04 Aug 2020 00:54:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :in-reply-to:references:mime-version:content-transfer-encoding;
 bh=lGmCr8jl5hwnq+LEoENi9+DFhiqSFrUZdpU6HVKMzoA=;
 b=X6hC+V87zkQfwrwtqfeMdA2LQXujgvDY8VFuq074GO6P2IC8w6YQLkED070mfR8m1N
 WCF5sqMeLGZG3oSHquQKCy3Rj4Mqe81GNpSg4cFkn0HE3m49Nz8XBDjjjtSwujeZiUIE
 Qk8iLJPJ7buCFlsLDXCyR9J5O8gdR0HIwXVzNfm/24+MEVjx2TKyoKexEyLPnGBrHuM4
 ZkZW8ja7941gVWn7moZ0yHokOZNcqP6QLXGJjn/0/V47oVfVVuSsuCw2XWFCceYYRTX6
 fQgK1Te+/2LIMDsCmBZbKpbOTbbfcPKrqfUWo0X4lPZAuExdfjICvp3AsR6BKDFvBkdv
 SqbA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:in-reply-to:references:mime-version
 :content-transfer-encoding;
 bh=lGmCr8jl5hwnq+LEoENi9+DFhiqSFrUZdpU6HVKMzoA=;
 b=hAuLSf4X8R8tdTJK81NGGouxjad+Vuqoc/PFWu3g80ZJlY8r3PyefxNUJ/2nSMiKtV
 nY34SIAcQouRedqlnx2xh/hjboqW+VDLpMU5L6ovRqytX1tMnpvXrPAWVf/Lo1+rG8KA
 zM1lXmEimBNPTULQrWnyXjVkZBCIh2PqWhfd8Xt31XbMiYOpDIYAKBhD+IQfdUFE4Lv8
 OT5sNYHD5tHn6DRjYy4K1V/2T+1oRu2eHQn90m7E4QS9GFUKUQ8hlUn66ZoI9/DSyHas
 nAxC51FUCcf/xI/5r6FtQEWlnSZ1wlYTGFm6nJtcLMYmHvxydQKjwjV3kPDO25iGmdUI
 5jQQ==
X-Gm-Message-State: AOAM5337zE+QvkTfCUqwbafdawtlYtFJYklFWNSVigHhbysimbiI9XbM
 O9yEmx6KboVJjN1hnyCiCVmYgQVxClLAsw==
X-Google-Smtp-Source: ABdhPJwOCKnaBvdUGGcQHv4f6PbO6wUHlI9LyaboI1004vt2l8kdDKIZa7+ZjDm46QYdSGLY7/1t3w==
X-Received: by 2002:a17:90a:630c:: with SMTP id
 e12mr3178385pjj.17.1596527650410; 
 Tue, 04 Aug 2020 00:54:10 -0700 (PDT)
Received: from yangdongdo-OptiPlex-9010.mioffice.cn ([209.9.72.214])
 by smtp.gmail.com with ESMTPSA id h18sm9462018pfo.21.2020.08.04.00.54.06
 (version=TLS1_2 cipher=ECDHE-ECDSA-AES128-GCM-SHA256 bits=128/128);
 Tue, 04 Aug 2020 00:54:10 -0700 (PDT)
From: Dongdong Yang <contribute.kernel@gmail.com>
To: gregkh@linuxfoundation.org, rjw@rjwysocki.net, viresh.kumar@linaro.org,
 mingo@redhat.com, peterz@infradead.org, juri.lelli@redhat.com,
 vincent.guittot@linaro.org, dietmar.eggemann@arm.com, rostedt@goodmis.org,
 bsegall@google.com, mgorman@suse.de
Subject: [PATCH v4] sched: Provide USF for the portable equipment.
Date: Tue,  4 Aug 2020 15:50:35 +0800
Message-Id: <820a185b6765d6246ac34f612faedeb35189487c.1596526941.git.yangdongdong@xiaomi.com>
X-Mailer: git-send-email 2.7.4
In-Reply-To: <cover.1596526941.git.yangdongdong@xiaomi.com>
References: <cover.1596526941.git.yangdongdong@xiaomi.com>
In-Reply-To: <cover.1596526941.git.yangdongdong@xiaomi.com>
References: <cover.1596526941.git.yangdongdong@xiaomi.com>
MIME-Version: 1.0
X-BeenThere: driverdev-devel@linuxdriverproject.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Linux Driver Project Developer List
 <driverdev-devel.linuxdriverproject.org>
List-Unsubscribe: <http://driverdev.linuxdriverproject.org/mailman/options/driverdev-devel>, 
 <mailto:driverdev-devel-request@linuxdriverproject.org?subject=unsubscribe>
List-Archive: <http://driverdev.linuxdriverproject.org/pipermail/driverdev-devel/>
List-Post: <mailto:driverdev-devel@linuxdriverproject.org>
List-Help: <mailto:driverdev-devel-request@linuxdriverproject.org?subject=help>
List-Subscribe: <http://driverdev.linuxdriverproject.org/mailman/listinfo/driverdev-devel>, 
 <mailto:driverdev-devel-request@linuxdriverproject.org?subject=subscribe>
Cc: devel@driverdev.osuosl.org, linux-pm@vger.kernel.org,
 linux-kernel@vger.kernel.org, yangdongdong@xiaomi.com, yanziily@xiaomi.com,
 rocking@linux.alibaba.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: driverdev-devel-bounces@linuxdriverproject.org
Sender: "devel" <driverdev-devel-bounces@linuxdriverproject.org>

RnJvbTogRG9uZ2RvbmcgWWFuZyA8eWFuZ2Rvbmdkb25nQHhpYW9taS5jb20+CgpUaGUgcG93ZXIg
Y29uc3VtcHRpb24gYW5kIFVJIHJlc3BvbnNlIGFyZSBtb3JlIGNhcmVkIGZvciBieSB0aGUgcG9y
dGFibGUKZXF1aXBtZW50wqB1c2Vycy4gVVNGKFVzZXIgU2Vuc2l0aXZlIEZlZWRiYWNrIGZhY3Rv
cikgYXV4aWxpYXJ5IGNwdWZyZXEKZ292ZXJub3IgaXMgcHJvdmlkaW5nIG1vcmUgdXRpbHMgYWRq
dXN0bWVudCBzZXR0aW5ncyB0byB0aGUgaGlnaCBsZXZlbApieSBzY2VuYXJpbyBpZGVudGlmaWNh
dGlvbi4KCkZyb20gdGhlIHZpZXcgb2YgcG9ydGFibGUgZXF1aXBtZW50LCBzY3JlZW4gb2ZmIHN0
YXR1cyB1c3VhbGx5IHN0YW5kcwpmb3Igbm8gcmVxdWVzdCBmcm9tIHRoZSB1c2VyLCBob3dldmVy
LCB0aGUga2VybmVsIGlzIHN0aWxsIGV4cGVjdGVkIHRvCm5vdGlmeSB0aGUgdXNlciBpbiB0aW1l
IG9uIG1vZGVtLCBuZXR3b3JrIG9yIHBvd2Vya2V5IGV2ZW50cyBvY2N1ci4gSW4Kc29tZSBzY2Vu
YXJpb3MsIHN1Y2ggYXMgbGlzdGVuaW5nIHRvIG11c2ljLCBsb3cgcG93ZXIgcHJvY2Vzc29ycywg
c3VjaAphcyBEU1AsIHRha2UgbW9yZSBhY3Rpb25zIGFuZCBDUFUgbG9hZCByZXF1aXJlbWVudHMg
Y3V0IGRvd24uwqAgSXQgd291bGQKYnJpbmcgbW9yZSBwb3dlciBjb25zdW1wdGlvbiBiZW5lZml0
IGlmIGhpZ2ggbGV2ZWwgaGF2ZSBpbnRlcmZhY2VzIHRvCmFkanVzdCB1dGlscyBhY2NvcmRpbmcg
dG8gdGhlIGN1cnJlbnQgc2NlbmFyaW8gYW5kIGxvYWQuCgpJbiBhZGRpdGlvbiwgdGhlIHBvcnRh
YmxlIGVxdWlwbWVudCB1c2VyIHVzdWFsbHkgaGVhdmlseSBpbnRlcmFjdCB3aXRoCmRldmljZXMg
YnkgdG91Y2gsIGFuZCBvdGhlciBwZXJpcGhlcmFscy4gVGhlIGJvb3N0IHByZWVtcHRpdmUgY291
bnRzCmFyZSBtYXJraW5nIHRoZSBsb2FkIHJlcXVpcmVtZW50IHVyZ2VudCwgdmljZSB2ZXJzYS4g
SWYgc3VjaCBmZWVkYmFjawpmYWN0b3IgY291bGQgYmUgc2V0IHRvIGhpZ2ggbGV2ZWwgYWNjb3Jk
aW5nIHRvIHRoZSBzY2VuYXJpbywgaXQgd291bGQKY29udHJpYnV0ZSB0byB0aGUgcG93ZXIgY29u
c3VtcHRpb24gYW5kIFVJIHJlc3BvbnNlLgoKSWYgbm8gVVNGIHN5c2ZzIGlub2RlIGlzIHNldCwg
YW5kIG5vIHNjcmVlbiBvbiBvciBvZmYgZXZlbnQsCmFkanVzdF90YXNrX3ByZWRfZGVtYW5kIHNo
YWxsIG5vdCBiZSBpbnZva2VkLiBPbmNlIHNjaGVkX3VzZl91cF9sMF9yCnNjaGVkX3VzZl9kb3du
X3Igb3Igc2NoZWRfdXNmX25vbl91eF9yIGJlIHNldCwgYWRqdXN0X3Rhc2tfcHJlZF9kZW1hbmQK
c2hhbGwgYmUgY2FsbGVkIGJhY2sgdG8gdXBkYXRlIHNldHRpbmdzIGFjY29yZGluZyB0byBoaWdo
IGxldmVsCnNjZW5hcmlvIGlkZW50aWZpY2F0aW9uLgoKV2UgY2FuIGdldCBhYm91dCAxNyUgbWVh
biBwb3dlciBjb25zdW1wdGlvbiBzYXZlIGF0IGxpc3RlbmluZyB0byBtdXNpYwp3aXRoIHNwZWFr
ZXIgb24gInNjcmVlbiBvZmYiIHNjZW5hcmlvLCBhcyBiZWxvdyBzdGF0aXN0aWNhbCBkYXRhIGZy
b20KNzc2NiBYaWFvTWkgZGV2aWNlcyBmb3IgdHdvIHdlZWtzIHdpdGggc2NoZWRfdXNmX25vbl91
eF9yIGJlIHNldDoKCiAgICAgICAgZGF5MSAgICAgICAgIGRheTIgICAgICAgICBkYXkzICAgICAg
ICAgZGF5NApjb3VudCAgIDc3NjYuMDAwMDAwICA3NzY2LjAwMDAwMCAgNzc2Ni4wMDAwMDAgIDc3
NjYuMDAwMDAwCm1lYW4gICAgODguMDM1NTI1ICAgIDg1LjUwMDI4MiAgICA4My44MjkzMDUgICAg
ODYuMDU0OTk3CnN0ZCAgICAgMTExLjA0OTk4MCAgIDEwOC4yNTg4MzQgICAxMDcuNTYyNTgzICAg
MTA4LjU1ODI0MAptaW4gICAgIDAuMDk5MDAwICAgICAwLjAzNzAwMCAgICAgMC4wNjcwMDAgICAg
IDAuMDQ1MDAwCjI1JSAgICAgMzQuNzY1NTAwICAgIDM0LjAyMTc1MCAgICAzNC4xMDE1MDAgICAg
MzQuNDIzMDAwCjUwJSAgICAgNTQuOTUwMDAwICAgIDU1LjI4NjUwMCAgICA1NC4xODk1MDAgICAg
NTQuMjQ4NTAwCjc1JSAgICAgOTUuOTU0MDAwICAgIDkzLjk0MjAwMCAgICA5MS43MzgwMDAgICAg
OTQuMDU5MjUwMAo4MCUgICAgIDExNC42NzUwMDAgICAxMDcuNDMwMDAwICAgMTA2LjM3ODAwMCAg
IDEwOC42NzMwMDAKODUlICAgICAxMzcuODUxMDAwICAgMTI5LjUxMTAwMCAgIDEyNy4xNTY1MDAg
ICAxMzEuNzUwNzUwCjkwJSAgICAgMTc5LjY2OTAwMCAgIDE3MC4yMDg1MDAgICAxNjQuMDI3MDAw
ICAgMTcyLjM0ODAwMAo5NSUgICAgIDI3Mi4zOTUwMDAgICAyNTcuODQ1NTAwICAgMjQ3Ljc1MDUw
MCAgIDI2My4yNzU3NTAKOTglICAgICAzOTkuMDM0NTAwICAgNDEyLjE3MDQwMCAgIDM5MS40ODQw
MDAgICA0MDIuODM1NjAwCgogICAgICAgIGRheTUgICAgICAgICBkYXk2ICAgICAgICBkYXk3ICAg
ICAgICAgZGF5OApjb3VudCAgIDc3NjYuMDAwMDAwICA3NzY2LjAwMDAwICA3NzY2LjAwMDAwMCAg
Nzc2Ni4wMDAwMDAKbWVhbiAgICA4Mi41MzI2NzcgICAgNzkuMjE5MjMgICAgNzcuNjExMzgwICAg
IDgxLjA3NTA4MQpzdGQgICAgIDEwNC44NzAwNzkgICAxMDEuMzQ4MTkgICAxMDMuMTQwMDM3ICAg
OTcuNTA2MjIxCm1pbiAgICAgMC4wNTEwMDAgICAgIDAuMDI5MDAgICAgIDAuMDA3MDAwICAgICAw
LjA2ODAwMAoyNSUgICAgIDMyLjg3MzAwMCAgICAzMy40NDQwMCAgICAzMS45NjU1MDAgICAgMzMu
ODYzNTAwCjUwJSAgICAgNTIuMTgwNTAwICAgIDUxLjU2NTUwICAgIDUwLjgwNjUwMCAgICA1My4w
ODAwMDAKNzUlICAgICA5MC45MDU3NTAgICAgODYuODI2MjUgICAgODMuODU5MjUwICAgIDg5Ljk3
MzAwMAo4MCUgICAgIDEwNS40NTUwMDAgICA5OS42NDcwMCAgICA5Ny4yNzEwMDAgICAgMTA0LjIy
NTAwMAo4NSUgICAgIDEyOC4zMDAwMDAgICAxMTguNDc4MjUgICAxMTYuNTcwMjUwICAgMTI2LjY0
ODI1MAo5MCUgICAgIDE2Ni42NDc1MDAgICAxNDkuMTgwMDAgICAxNTAuNjQ5NTAwICAgMTYxLjA4
NzAwMAo5NSUgICAgIDI0Ny4yMDg1MDAgICAyMjQuMzYwNTAgICAyMjYuMzgwMDAwICAgMjQ1LjI5
MTI1MAo5OCUgICAgIDM5My4wMDIwMDAgICAzNDcuOTIwNjAgICAzNjkuNzkxODAwICAgMzc4Ljc3
ODYwMAoKICAgICAgICBkYXk5ICAgICAgICAgZGF5MTAgICAgICAgIGRheTExICAgICAgICBkYXkx
Mgpjb3VudCAgIDc3NjYuMDAwMDAwICA3NzY2LjAwMDAwMCAgNzc2Ni4wMDAwMDAgIDc3NjYuMDAw
MDAwCm1lYW4gICAgNzkuOTg5MTcwICAgIDgzLjg1OTQxNyAgICA3OC4wMzI5MzAgICAgNzcuMDYw
NTQyCnN0ZCAgICAgMTA0LjIyNjEyMiAgIDEwOC44OTMwNDMgICAxMDIuNTYxNzE1ICAgOTkuODQ0
Mjc2Cm1pbiAgICAgMC4xMTgwMDAgICAgIDAuMDE3MDAwICAgICAwLjAyODAwMCAgICAgMC4wMzkw
MDAKMjUlICAgICAzMi4wNTYyNTAgICAgMzMuNDU0NTAwICAgIDMxLjE3NjI1MCAgICAzMC44OTc3
NTAKNTAlICAgICA1MS41MDYwMDAgICAgNTQuMDU2MDAwICAgIDQ4Ljk2OTUwMCAgICA0OS4wNjkw
MDAKNzUlICAgICA4OC41MTM1MDAgICAgOTIuOTUzNTAwICAgIDgzLjUwNjc1MCAgICA4NC4wOTYw
MDAKODAlICAgICAxMDIuODc2MDAwICAgMTA3Ljg0NTAwMCAgIDk3LjcxNzAwMCAgICA5OC4wNzMw
MDAKODUlICAgICAxMjQuMzYzMDAwICAgMTI4LjI4ODAwMCAgIDExOC4zNjY1MDAgICAxMTYuODY5
MjUwCjkwJSAgICAgMTYwLjU1NzAwMCAgIDE2Ny4wODQwMDAgICAxNTQuMzQyNTAwICAgMTQ4LjE4
NzUwMAo5NSUgICAgIDIzMS4xNDkwMDAgICAyNDIuOTI1NzUwICAgMjM2Ljc1OTAwMCAgIDIyOC4x
MzEyNTAKOTglICAgICAzNjcuMjA2NjAwICAgMzg4LjYxOTEwMCAgIDM4NS4yNjkxMDAgICAzNzYu
NTQxNjAwCgogICAgICAgIGRheTEzICAgICAgICBkYXkxNApjb3VudCAgIDc3NjYuMDAwMDAwICA3
NzY2LjAwMDAwMAptZWFuICAgIDc1LjUyODAzNiAgICA3My43MDI4NzgKc3RkICAgICA5MC43NTA1
OTQgICAgODYuNzk2MDE2Cm1pbiAgICAgMC4wNjYwMDAgICAgIDAuMDU0MDAwCjI1JSAgICAgMzEu
MTcwNTAwICAgIDMxLjYwODUwMAo1MCUgICAgIDQ4Ljc1ODUwMCAgICA0OS4yMTUwMDAKNzUlICAg
ICA4NC41MjI3NTAgICAgODMuMDUzMDAwCjgwJSAgICAgOTcuODc5MDAwICAgIDk0Ljg3NTAwMAo4
NSUgICAgIDExNi42ODAyNTAgICAxMTMuNTczNzUwCjkwJSAgICAgMTQ5LjA4MzUwMCAgIDE0NC4w
ODk1MDAKOTUlICAgICAyMjYuMTc3NzUwICAgMjExLjQ4ODc1MAo5OCUgICAgIDM0Ny4wMTExMDAg
ICAzMzEuMzE3MTAwCgpTaWduZWQtb2ZmLWJ5OiBEb25nZG9uZyBZYW5nIDx5YW5nZG9uZ2RvbmdA
eGlhb21pLmNvbT4KQ28tZGV2ZWxvcGVkLWJ5OiBKdW4gVGFvIDx0YW9qdW5AeGlhb21pLmNvbT4K
Q28tZGV2ZWxvcGVkLWJ5OiBRaXd1IEh1YW5nIDxodWFuZ3Fpd3VAeGlhb21pLmNvbT4KQ28tZGV2
ZWxvcGVkLWJ5OiBQZW5nIFdhbmcgPHJvY2tpbmdAbGludXguYWxpYmFiYS5jb20+Ci0tLQogRG9j
dW1lbnRhdGlvbi9BQkkvdGVzdGluZy9zeXNmcy1kZXZpY2VzLXN5c3RlbS1jcHUgfCAgNDggKysr
KwogZHJpdmVycy9jcHVmcmVxL0tjb25maWcgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAg
MTEgKwogaW5jbHVkZS90cmFjZS9ldmVudHMvc2NoZWQuaCAgICAgICAgICAgICAgICAgICAgICAg
fCAgMzUgKysrCiBrZXJuZWwvc2NoZWQvTWFrZWZpbGUgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB8ICAgMSArCiBrZXJuZWwvc2NoZWQvY3B1ZnJlcV9zY2hlZHV0aWwuYyAgICAgICAgICAg
ICAgICAgICB8ICAgMyArCiBrZXJuZWwvc2NoZWQvc2NoZWQuaCAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICB8ICAxMCArCiBrZXJuZWwvc2NoZWQvdXNmLmMgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB8IDI5NCArKysrKysrKysrKysrKysrKysrKysKIDcgZmlsZXMgY2hhbmdl
ZCwgNDAyIGluc2VydGlvbnMoKykKIGNyZWF0ZSBtb2RlIDEwMDY0NCBrZXJuZWwvc2NoZWQvdXNm
LmMKCmRpZmYgLS1naXQgYS9Eb2N1bWVudGF0aW9uL0FCSS90ZXN0aW5nL3N5c2ZzLWRldmljZXMt
c3lzdGVtLWNwdSBiL0RvY3VtZW50YXRpb24vQUJJL3Rlc3Rpbmcvc3lzZnMtZGV2aWNlcy1zeXN0
ZW0tY3B1CmluZGV4IGI1NTVkZjguLmUyOTk0MTggMTAwNjQ0Ci0tLSBhL0RvY3VtZW50YXRpb24v
QUJJL3Rlc3Rpbmcvc3lzZnMtZGV2aWNlcy1zeXN0ZW0tY3B1CisrKyBiL0RvY3VtZW50YXRpb24v
QUJJL3Rlc3Rpbmcvc3lzZnMtZGV2aWNlcy1zeXN0ZW0tY3B1CkBAIC02MTQsMyArNjE0LDUxIEBA
IERlc2NyaXB0aW9uOglTUFVSUiB0aWNrcyBmb3IgY3B1WCB3aGVuIGl0IHdhcyBpZGxlLgogCiAJ
CVRoaXMgc3lzZnMgaW50ZXJmYWNlIGV4cG9zZXMgdGhlIG51bWJlciBvZiBTUFVSUiB0aWNrcwog
CQlmb3IgY3B1WCB3aGVuIGl0IHdhcyBpZGxlLgorCitXaGF0OgkJL3N5cy9kZXZpY2VzL3N5c3Rl
bS9jcHUvc2NoZWRfdXNmCisJCS9zeXMvZGV2aWNlcy9zeXN0ZW0vY3B1L3NjaGVkX3VzZi9zY2hl
ZF91c2Zfbm9uX3V4X3IKKwkJL3N5cy9kZXZpY2VzL3N5c3RlbS9jcHUvc2NoZWRfdXNmL3NjaGVk
X3VzZl91cF9sMF9yCisJCS9zeXMvZGV2aWNlcy9zeXN0ZW0vY3B1L3NjaGVkX3VzZi9zY2hlZF91
c2ZfZG93bl9yCitEYXRlOgkJQXVnIDIwMjAKK0NvbnRhY3Q6CUxpbnV4IGtlcm5lbCBtYWlsaW5n
IGxpc3QgPGxpbnV4LWtlcm5lbEB2Z2VyLmtlcm5lbC5vcmc+CitEZXNjcmlwdGlvbjoJVXNlciBT
ZW5zaXRpdmUgRmVlZGJhY2sgZmFjdG9yIGF1eGlsaWFyeSBzY2hlZHVsaW5nIHdoaWNoCisJCWlz
IHByb3ZpZGluZyBtb3JlIHV0aWxzIGFkanVzdG1lbnQgc2V0dGluZ3MgdG8gdGhlIGhpZ2ggbGV2
ZWwKKwkJYnkgc2NlbmFyaW8gaWRlbnRpZmljYXRpb24uCisJCXNjaGVkX3VzZl9ub25fdXhfcjoK
KwkJCVRoZSByYXRpbyBvZiB1dGlscyBpcyBjdXQgZG93biBvbiBzY3JlZW4gb2ZmLiBUaGUKKwkJ
CWRlZmF1bHQgdmFsdWUgaXMgMCwgd2hpY2ggbm8gdXRpbCBpcyBhZGp1c3RlZCBvbiBzdWdvdgor
CQkJY2FsY3VsYXRpbmcgdXRpbHMgdG8gc2VsZWN0IGNwdWZyZXEuIEl0cyByYW5nZSBpcworCQkJ
Wy0xMDAgLCAwXS4gSWYgaXRzIHZhbHVlIGZhbGxzIGludG8gWy01MCwgMCksIHRoZSBoYWxmCisJ
CQlvZiB1dGlscywgd2hpY2gJY2FsY3VsYXRlcyBjcHVmcmVxLCBzaGFsbCBiZSAgY3V0IGRvd24u
CisJCQlJZiBpdHMgdmFsdWUgZmFsbHMgaW50byBbLTEwMCwgLTUwKSwgb25seSBhIHF1YXJ0ZXIg
b2YKKwkJCXV0aWxzIGFyZSBsZWZ0IHRvIGNvbnRpbnVlIHRvIGNhbGN1bGF0ZSBjcHVmcmVxLgor
CQkJSXQgaXMgZXhwZWN0ZWQgdG8gYmUgc2V0IFstMTAwLCAwKSBvbmNlIGVudGVyIGludG8gdGhl
CisJCQlpZGVudGlmaWNhdGVkIHNjZW5hcmlvLCBzdWNoIGFzIGxpc3RlbiB0byBtdXNpYyBvbgor
CQkJc2NyZWVuIG9mZiwgYW5kIHJlY292ZXIgdG8gMCBvbiBvdXQgb2YgdGhlIHNjZW5hcmlvLAor
CQkJc3VjaCBhcwlzY3JlZW4gb24uCisKKwkJc2NoZWRfdXNmX3VwX2wwX3I6CisJCQlUaGUgcmF0
aW8gb2YgdXRpbHMgaXMgYm9vc3QgdXAgb24gc2NyZWVuIG9uLiBUaGUKKwkJCWRlZmF1bHQgdmFs
dWUgaXMgMCwgd2hpY2ggbm8gdXRpbCBpcyBhZGp1c3RlZCBvbiBzdWdvdgorCQkJY2FsY3VsYXRl
cyB1dGlscyB0byBzZWxlY3QgY3B1ZnJlcS4gSXRzIHJhbmdlIGlzIFswICwgMTAwXS4KKwkJCUlm
IGl0cyB2YWx1ZSBmYWxscyBpbnRvICgwLCA1MF0sIGEgcXVhcnRlciBvZiBleHRyYSB1dGlscywK
KwkJCXdoaWNoIGNhbGN1bGF0ZSBjcHVmcmVxLCBzaGFsbCBiZSBhZGRlZC4gSWYgaXRzIHZhbHVl
CisJCQlmYWxscyBpbnRvICg1MCwgMTAwXSwgdGhlIGhhbGYgb2YgZXh0cmEgdXRpbHMgYXJlIGFk
ZGVkCisJCQl0byBjb250aW51ZSB0bwljYWxjdWxhdGUgY3B1ZnJlcS4KKwkJCUl0IGlzIGV4cGVj
dGVkIHRvIGJlIHNldCAoMCwgMTAwXSBvbmNlIGVudGVyIGludG8gdGhlCisJCQlpZGVudGlmaWNh
dGVkIHNjZW5hcmlvLCBzdWNoIGFzIGJyb3dzaW5nIHZpZGVvbGV0IG9uCisJCQlzY3JlZW4gb24s
IGFuZCByZWNvdmVyIHRvIDAgb24gb3V0IG9mIHRoZSBzY2VuYXJpbywKKwkJCXN1Y2ggYXMgc2Ny
ZWVuIG9mZiBvciB2aWRlb2xldCBpbnRvIGJhY2tncm91bmQuCisKKwkJc2NoZWRfdXNmX2Rvd25f
cjoKKwkJCVRoZSByYXRpbyBvZiB1dGlscyBpcyBjdXQgZG93biBvbiBzY3JlZW4gb24uIFRoZQor
CQkJZGVmYXVsdAl2YWx1ZSBpcyAwLCB3aGljaCBubyB1dGlsIGlzIGFkanVzdGVkIG9uIHN1Z292
CisJCQljYWxjdWxhdGluZyB1dGlscyB0byBzZWxlY3QgY3B1ZnJlcS4gSXRzIHJhbmdlIGlzCisJ
CQlbLTEwMCAsIDBdLiBJZiBpdHMgdmFsdWUgZmFsbHMgaW50byBbLTUwLCAwKSwgdGhlIGhhbGYK
KwkJCW9mIHV0aWxzLCB3aGljaAljYWxjdWxhdGUgY3B1ZnJlcSwgc2hhbGwgYmUgIGN1dCBkb3du
LgorCQkJSWYgaXRzIHZhbHVlIGZhbGxzIGludG8gWy0xMDAsIC01MCksIG9ubHkgYSBxdWFydGVy
IG9mCisJCQl1dGlscyBhcmUgbGVmdCB0byBjb250aW51ZSB0byBjYWxjdWxhdGUgY3B1ZnJlcS4K
KwkJCUl0IGlzIGV4cGVjdGVkIHRvIGJlIHNldCBbLTEwMCwgMCkgb25jZSBlbnRlciBpbnRvIHRo
ZQorCQkJaWRlbnRpZmljYXRlZCBzY2VuYXJpbywgc3VjaCBhcyBicm93c2luZyB2aWRlb2xldCBv
bgorCQkJc2NyZWVuIG9uLCBhbmQgcmVjb3ZlciB0byAwIG9uCW91dCBvZiB0aGUgc2NlbmFyaW8s
CisJCQlzdWNoIGFzIHNjcmVlbiBvZmYgb3Igdmlkb2xldCBpbnRvIGJhY2tncm91bmQuCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2NwdWZyZXEvS2NvbmZpZyBiL2RyaXZlcnMvY3B1ZnJlcS9LY29uZmln
CmluZGV4IGU5MTc1MDEuLmEyMWM2YWQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvY3B1ZnJlcS9LY29u
ZmlnCisrKyBiL2RyaXZlcnMvY3B1ZnJlcS9LY29uZmlnCkBAIC0yMjQsNiArMjI0LDE3IEBAIGNv
bmZpZyBDUFVGUkVRX0RUX1BMQVRERVYKIAogCSAgSWYgaW4gZG91YnQsIHNheSBOLgogCitjb25m
aWcgU0NIRURfVVNGCisJYm9vbCAiVXNlciBTZW5zaXRpdmUgRmFjdG9ycyBmb3IgU2NoZWR1bGVy
IgorCWRlcGVuZHMgb24gQ1BVX0ZSRVFfR09WX1NDSEVEVVRJTCAmJiBGQgorCWhlbHAKKwkgIFNl
bGVjdCB0aGlzIG9wdGlvbiB0byBlbmFibGUgdGhlIGFkanVzdG1lbnQgb24gdGhlIGNwdWZyZXEg
d2l0aAorCSAgdGhlIHVzZXIgc2Vuc2l0aXZlIGZhY3RvcnMgb24gc2NoZWR1bGUuIEl0IGlzIHNw
ZWNpYWwgZm9yIG1vYmlsZQorCSAgZGV2aWNlcyB3aGljaCBtb3JlIHBvd2VyIGNhcmUgYW5kIHF1
aWNrIHJlc3BvbnNlIHJlcXVpcmVtZW50IG9uCisJICBzY3JlZW4gb24uCisKKwkgIElmIHVuc3Vy
ZSwgc2F5IE4uCisKIGlmIFg4Ngogc291cmNlICJkcml2ZXJzL2NwdWZyZXEvS2NvbmZpZy54ODYi
CiBlbmRpZgpkaWZmIC0tZ2l0IGEvaW5jbHVkZS90cmFjZS9ldmVudHMvc2NoZWQuaCBiL2luY2x1
ZGUvdHJhY2UvZXZlbnRzL3NjaGVkLmgKaW5kZXggZWQxNjhiMC4uZDVlMjBiNyAxMDA2NDQKLS0t
IGEvaW5jbHVkZS90cmFjZS9ldmVudHMvc2NoZWQuaAorKysgYi9pbmNsdWRlL3RyYWNlL2V2ZW50
cy9zY2hlZC5oCkBAIC00ODgsNiArNDg4LDQxIEBAIFRSQUNFX0VWRU5UKHNjaGVkX3Byb2Nlc3Nf
aGFuZywKICNlbmRpZiAvKiBDT05GSUdfREVURUNUX0hVTkdfVEFTSyAqLwogCiAvKgorICogVHJh
Y2Vwb2ludCBmb3IgdHJhY2tpbmcgdHVpbHMgYmUgYWRqdXN0ZWQgYnkgVVNGOgorICovCisjaWZk
ZWYgQ09ORklHX1NDSEVEX1VTRgorVFJBQ0VfRVZFTlQoc2NoZWRfdXNmX2FkanVzdF91dGlscywK
KworCVRQX1BST1RPKGludCBjcHVfaWQsIGludCB1cCwgaW50IGRvd24sIGludCBub251eCwgdW5z
aWduZWQgbG9uZyB1dGlscyksCisKKwlUUF9BUkdTKGNwdV9pZCwgdXAsIGRvd24sIG5vbnV4LCB1
dGlscyksCisKKwlUUF9TVFJVQ1RfX2VudHJ5KAorCQlfX2ZpZWxkKGludCwgY3B1X2lkKQorCQlf
X2ZpZWxkKGludCwgdXApCisJCV9fZmllbGQoaW50LCBkb3duKQorCQlfX2ZpZWxkKGludCwgbm9u
dXgpCisJCV9fZmllbGQodW5zaWduZWQgbG9uZywgdXRpbHMpCisJKSwKKworCVRQX2Zhc3RfYXNz
aWduKAorCQlfX2VudHJ5LT5jcHVfaWQJPSBjcHVfaWQ7CisJCV9fZW50cnktPnVwCT0gdXA7CisJ
CV9fZW50cnktPmRvd24JPSBkb3duOworCQlfX2VudHJ5LT5ub251eAk9IG5vbnV4OworCQlfX2Vu
dHJ5LT51dGlscwk9IHV0aWxzOworCSksCisKKwlUUF9wcmludGsoImNwdV9pZD0lZCB1cD0lZCBk
b3duPSVkIG5vbnV4PSVkIHV0aWxzPSVsdSIsCisJCSAgX19lbnRyeS0+Y3B1X2lkLAorCQkgIF9f
ZW50cnktPnVwLAorCQkgIF9fZW50cnktPmRvd24sCisJCSAgX19lbnRyeS0+bm9udXgsCisJCSAg
X19lbnRyeS0+dXRpbHMpCispOworI2VuZGlmIC8qIENPTkZJR19TQ0hFRF9VU0YgKi8KKworLyoK
ICAqIFRyYWNrcyBtaWdyYXRpb24gb2YgdGFza3MgZnJvbSBvbmUgcnVucXVldWUgdG8gYW5vdGhl
ci4gQ2FuIGJlIHVzZWQgdG8KICAqIGRldGVjdCBpZiBhdXRvbWF0aWMgTlVNQSBiYWxhbmNpbmcg
aXMgYm91bmNpbmcgYmV0d2VlbiBub2Rlcy4KICAqLwpkaWZmIC0tZ2l0IGEva2VybmVsL3NjaGVk
L01ha2VmaWxlIGIva2VybmVsL3NjaGVkL01ha2VmaWxlCmluZGV4IDVmYzljOWIuLjU4YTBlN2Ig
MTAwNjQ0Ci0tLSBhL2tlcm5lbC9zY2hlZC9NYWtlZmlsZQorKysgYi9rZXJuZWwvc2NoZWQvTWFr
ZWZpbGUKQEAgLTM2LDMgKzM2LDQgQEAgb2JqLSQoQ09ORklHX0NQVV9GUkVRX0dPVl9TQ0hFRFVU
SUwpICs9IGNwdWZyZXFfc2NoZWR1dGlsLm8KIG9iai0kKENPTkZJR19NRU1CQVJSSUVSKSArPSBt
ZW1iYXJyaWVyLm8KIG9iai0kKENPTkZJR19DUFVfSVNPTEFUSU9OKSArPSBpc29sYXRpb24ubwog
b2JqLSQoQ09ORklHX1BTSSkgKz0gcHNpLm8KK29iai0kKENPTkZJR19TQ0hFRF9VU0YpICs9IHVz
Zi5vCmRpZmYgLS1naXQgYS9rZXJuZWwvc2NoZWQvY3B1ZnJlcV9zY2hlZHV0aWwuYyBiL2tlcm5l
bC9zY2hlZC9jcHVmcmVxX3NjaGVkdXRpbC5jCmluZGV4IDdmYmFlZTIuLjc5YTAwNDAgMTAwNjQ0
Ci0tLSBhL2tlcm5lbC9zY2hlZC9jcHVmcmVxX3NjaGVkdXRpbC5jCisrKyBiL2tlcm5lbC9zY2hl
ZC9jcHVmcmVxX3NjaGVkdXRpbC5jCkBAIC0yODksMTIgKzI4OSwxNSBAQCB1bnNpZ25lZCBsb25n
IHNjaGVkdXRpbF9jcHVfdXRpbChpbnQgY3B1LCB1bnNpZ25lZCBsb25nIHV0aWxfY2ZzLAogCXJl
dHVybiBtaW4obWF4LCB1dGlsKTsKIH0KIAorREVGSU5FX1NUQVRJQ19LRVlfRkFMU0UoYWRqdXN0
X3Rhc2tfcHJlZF9zZXQpOwogc3RhdGljIHVuc2lnbmVkIGxvbmcgc3Vnb3ZfZ2V0X3V0aWwoc3Ry
dWN0IHN1Z292X2NwdSAqc2dfY3B1KQogewogCXN0cnVjdCBycSAqcnEgPSBjcHVfcnEoc2dfY3B1
LT5jcHUpOwogCXVuc2lnbmVkIGxvbmcgdXRpbCA9IGNwdV91dGlsX2NmcyhycSk7CiAJdW5zaWdu
ZWQgbG9uZyBtYXggPSBhcmNoX3NjYWxlX2NwdV9jYXBhY2l0eShzZ19jcHUtPmNwdSk7CiAKKwlp
ZiAoc3RhdGljX2JyYW5jaF91bmxpa2VseSgmYWRqdXN0X3Rhc2tfcHJlZF9zZXQpKQorCQlhZGp1
c3RfdGFza19wcmVkX2RlbWFuZChzZ19jcHUtPmNwdSwgJnV0aWwsIHJxKTsKIAlzZ19jcHUtPm1h
eCA9IG1heDsKIAlzZ19jcHUtPmJ3X2RsID0gY3B1X2J3X2RsKHJxKTsKIApkaWZmIC0tZ2l0IGEv
a2VybmVsL3NjaGVkL3NjaGVkLmggYi9rZXJuZWwvc2NoZWQvc2NoZWQuaAppbmRleCA4NzdmYjA4
Li40OTYxMzBiIDEwMDY0NAotLS0gYS9rZXJuZWwvc2NoZWQvc2NoZWQuaAorKysgYi9rZXJuZWwv
c2NoZWQvc2NoZWQuaApAQCAtMjU0MCw1ICsyNTQwLDE1IEBAIHN0YXRpYyBpbmxpbmUgYm9vbCBp
c19wZXJfY3B1X2t0aHJlYWQoc3RydWN0IHRhc2tfc3RydWN0ICpwKQogfQogI2VuZGlmCiAKK0RF
Q0xBUkVfU1RBVElDX0tFWV9GQUxTRShhZGp1c3RfdGFza19wcmVkX3NldCk7CisjaWZkZWYgQ09O
RklHX1NDSEVEX1VTRgordm9pZCBhZGp1c3RfdGFza19wcmVkX2RlbWFuZChpbnQgY3B1aWQsIHVu
c2lnbmVkIGxvbmcgKnV0aWwsCisJCXN0cnVjdCBycSAqcnEpOworI2Vsc2UKK3N0YXRpYyBpbmxp
bmUgdm9pZCBhZGp1c3RfdGFza19wcmVkX2RlbWFuZChpbnQgY3B1aWQsCisJCXVuc2lnbmVkIGxv
bmcgKnV0aWwsIHN0cnVjdCBycSAqcnEpCit7IH0KKyNlbmRpZgorCiB2b2lkIHN3YWtlX3VwX2Fs
bF9sb2NrZWQoc3RydWN0IHN3YWl0X3F1ZXVlX2hlYWQgKnEpOwogdm9pZCBfX3ByZXBhcmVfdG9f
c3dhaXQoc3RydWN0IHN3YWl0X3F1ZXVlX2hlYWQgKnEsIHN0cnVjdCBzd2FpdF9xdWV1ZSAqd2Fp
dCk7CmRpZmYgLS1naXQgYS9rZXJuZWwvc2NoZWQvdXNmLmMgYi9rZXJuZWwvc2NoZWQvdXNmLmMK
bmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMC4uZDRkNzk5OAotLS0gL2Rldi9udWxs
CisrKyBiL2tlcm5lbC9zY2hlZC91c2YuYwpAQCAtMCwwICsxLDI5NCBAQAorLy8gU1BEWC1MaWNl
bnNlLUlkZW50aWZpZXI6IEdQTC0yLjAKKy8qCisgKiBDb3B5cmlnaHQgKEMpIDIwMjAgWGlhb01p
IEluYy4KKyAqIEF1dGhvcjogWWFuZyBEb25nZG9uZyA8eWFuZ2Rvbmdkb25nQHhpYW9taS5jb20+
CisgKiBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUg
aXQgYW5kL29yIG1vZGlmeQorICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJh
bCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDIgYXMKKyAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBT
b2Z0d2FyZSBGb3VuZGF0aW9uLgorICoKKyAqIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBp
biB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAorICogYnV0IFdJVEhPVVQgQU5ZIFdB
UlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKKyAqIE1FUkNIQU5U
QUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4KKyAqIFNlZSBodHRw
Oi8vd3d3LmdudS5vcmcvbGljZW5zZXMvZ3BsLTIuMC5odG1sIGZvciBtb3JlIGRldGFpbHMuCisg
Ki8KKworI2luY2x1ZGUgPGxpbnV4L21vZHVsZS5oPgorI2luY2x1ZGUgPGxpbnV4L2luaXQuaD4K
KyNpbmNsdWRlIDxsaW51eC9wbGF0Zm9ybV9kZXZpY2UuaD4KKyNpbmNsdWRlIDxsaW51eC9rdGhy
ZWFkLmg+CisjaW5jbHVkZSA8bGludXgvY3B1Lmg+CisjaW5jbHVkZSA8bGludXgvc3lzZnMuaD4K
KyNpbmNsdWRlIDxsaW51eC9rdGhyZWFkLmg+CisjaW5jbHVkZSA8bGludXgva29iamVjdC5oPgor
I2luY2x1ZGUgPGxpbnV4L21vZHVsZS5oPgorI2luY2x1ZGUgPGxpbnV4L2tlcm5lbC5oPgorI2lu
Y2x1ZGUgPGxpbnV4L2luaXQuaD4KKyNpbmNsdWRlIDxsaW51eC9rYWxsc3ltcy5oPgorI2luY2x1
ZGUgPGxpbnV4L2ZiLmg+CisjaW5jbHVkZSA8bGludXgvbm90aWZpZXIuaD4KKyNpbmNsdWRlIDx0
cmFjZS9ldmVudHMvc2NoZWQuaD4KKyNpbmNsdWRlICJzY2hlZC5oIgorCisjZGVmaW5lIEJPT1NU
X01JTl9WIC0xMDAKKyNkZWZpbmUgQk9PU1RfTUFYX1YgMTAwCisjZGVmaW5lIExFVkVMX1RPUCAz
CisKKyNkZWZpbmUgVVNGX1RBRwkiW3VzZl9zY2hlZF0iCisKK0RFRklORV9QRVJfQ1BVKHVuc2ln
bmVkIGxvbmdbUElEX01BWF9ERUZBVUxUXSwgdGFza19oaXN0X25pdmNzdyk7CisKK3N0YXRpYyBz
dHJ1Y3QgeworCWJvb2wgaXNfc2NoZWRfdXNmX2VuYWJsZWQ7CisJYm9vbCBpc19zY3JlZW5fb247
CisJaW50IHN5c2N0bF9zY2hlZF91c2ZfdXBfbDA7CisJaW50IHN5c2N0bF9zY2hlZF91c2ZfZG93
bjsKKwlpbnQgc3lzY3RsX3NjaGVkX3VzZl9ub25fdXg7CisJaW50IHVzZl91cF9sMDsKKwlpbnQg
dXNmX2Rvd247CisJaW50IHVzZl9ub25fdXg7Cit9IHVzZl92ZGV2OworCit2b2lkIGFkanVzdF90
YXNrX3ByZWRfZGVtYW5kKGludCBjcHVpZCwKKwkJCSAgICAgdW5zaWduZWQgbG9uZyAqdXRpbCwK
KwkJCSAgICAgc3RydWN0IHJxICpycSkKK3sKKwkvKiBzeXNjdGxfc2NoZWRfbGF0ZW5jeS9zeXNj
dGxfc2NoZWRfbWluX2dyYW51bGFyaXR5ICovCisJdTMyIGJsX3N3X251bSA9IDM7CisKKwlpZiAo
IXVzZl92ZGV2LmlzX3NjaGVkX3VzZl9lbmFibGVkIHx8ICFycSB8fCAhcnEtPmN1cnIgfHwKKwkJ
KHJxLT5jdXJyLT5waWQgPj0gUElEX01BWF9ERUZBVUxUKSkKKwkJcmV0dXJuOworCisJaWYgKHVz
Zl92ZGV2LmlzX3NjcmVlbl9vbikgeworCQlpZiAocnEtPmN1cnItPm5pdmNzdyA+CisJCSAgICAo
cGVyX2NwdSh0YXNrX2hpc3Rfbml2Y3N3LCBjcHVpZClbcnEtPmN1cnItPnBpZF0KKwkJICAgICAr
IGJsX3N3X251bSArIDEpKSB7CisJCQkoKnV0aWwpICs9ICgqdXRpbCkgPj4gdXNmX3ZkZXYudXNm
X3VwX2wwOworCQl9IGVsc2UgaWYgKHJxLT5jdXJyLT5uaXZjc3cgPAorCQkJICAgKHBlcl9jcHUo
dGFza19oaXN0X25pdmNzdywgY3B1aWQpW3JxLT5jdXJyLT5waWRdCisJCQkgICAgKyBibF9zd19u
dW0gLSAxKSAmJiAocnEtPm5yX3J1bm5pbmcgPCBibF9zd19udW0pKSB7CisJCQkoKnV0aWwpID4+
PSB1c2ZfdmRldi51c2ZfZG93bjsKKwkJfQorCQlwZXJfY3B1KHRhc2tfaGlzdF9uaXZjc3csIGNw
dWlkKVtycS0+Y3Vyci0+cGlkXSA9CisJCSAgICBycS0+Y3Vyci0+bml2Y3N3OworCX0gZWxzZSBp
ZiAocnEtPmN1cnItPm1tKSB7CisJCSgqdXRpbCkgPj49IHVzZl92ZGV2LnVzZl9ub25fdXg7CisJ
fQorCisJdHJhY2Vfc2NoZWRfdXNmX2FkanVzdF91dGlscyhjcHVpZCwgdXNmX3ZkZXYudXNmX3Vw
X2wwLAorCQkJCSAgICAgdXNmX3ZkZXYudXNmX2Rvd24sCisJCQkJICAgICB1c2ZfdmRldi51c2Zf
bm9uX3V4LCAqdXRpbCk7Cit9CisKK3N0YXRpYyBpbnQgdXNmX2xjZF9ub3RpZmllcihzdHJ1Y3Qg
bm90aWZpZXJfYmxvY2sgKm5iLAorCQkJICAgIHVuc2lnbmVkIGxvbmcgdmFsLCB2b2lkICpkYXRh
KQoreworCXN0cnVjdCBmYl9ldmVudCAqZXZkYXRhID0gZGF0YTsKKwl1bnNpZ25lZCBpbnQgYmxh
bms7CisKKwlpZiAoIWV2ZGF0YSkKKwkJcmV0dXJuIDA7CisKKwlpZiAodmFsICE9IEZCX0VWRU5U
X0JMQU5LKQorCQlyZXR1cm4gMDsKKworCWlmIChldmRhdGEtPmRhdGEgJiYgdmFsID09IEZCX0VW
RU5UX0JMQU5LKSB7CisJCWJsYW5rID0gKihpbnQgKikoZXZkYXRhLT5kYXRhKTsKKworCQlzd2l0
Y2ggKGJsYW5rKSB7CisJCWNhc2UgRkJfQkxBTktfUE9XRVJET1dOOgorCQkJdXNmX3ZkZXYuaXNf
c2NyZWVuX29uID0gZmFsc2U7CisJCQlpZiAodXNmX3ZkZXYuc3lzY3RsX3NjaGVkX3VzZl9ub25f
dXggIT0gMCkKKwkJCQlzdGF0aWNfYnJhbmNoX2VuYWJsZSgmYWRqdXN0X3Rhc2tfcHJlZF9zZXQp
OworCQkJZWxzZQorCQkJCXN0YXRpY19icmFuY2hfZGlzYWJsZSgmYWRqdXN0X3Rhc2tfcHJlZF9z
ZXQpOworCisJCQlicmVhazsKKworCQljYXNlIEZCX0JMQU5LX1VOQkxBTks6CisJCQl1c2ZfdmRl
di5pc19zY3JlZW5fb24gPSB0cnVlOworCQkJaWYgKHVzZl92ZGV2LnN5c2N0bF9zY2hlZF91c2Zf
dXBfbDAgIT0gMCB8fAorCQkJICAgIHVzZl92ZGV2LnN5c2N0bF9zY2hlZF91c2ZfZG93biAhPSAw
KQorCQkJCXN0YXRpY19icmFuY2hfZW5hYmxlKCZhZGp1c3RfdGFza19wcmVkX3NldCk7CisJCQll
bHNlCisJCQkJc3RhdGljX2JyYW5jaF9kaXNhYmxlKCZhZGp1c3RfdGFza19wcmVkX3NldCk7CisJ
CQlicmVhazsKKwkJZGVmYXVsdDoKKwkJCWJyZWFrOworCQl9CisKKwkJdXNmX3ZkZXYuaXNfc2No
ZWRfdXNmX2VuYWJsZWQgPSB0cnVlOworCQlwcl9pbmZvKCIlcyA6IHVzZl92ZGV2LmlzX3NjcmVl
bl9vbjolYlxuIiwKKwkJCQkgICAgIF9fZnVuY19fLCB1c2ZfdmRldi5pc19zY3JlZW5fb24pOwor
CX0KKwlyZXR1cm4gTk9USUZZX09LOworfQorCitzdGF0aWMgc3RydWN0IG5vdGlmaWVyX2Jsb2Nr
IHVzZl9sY2RfbmIgPSB7CisJLm5vdGlmaWVyX2NhbGwgPSB1c2ZfbGNkX25vdGlmaWVyLAorCS5w
cmlvcml0eSA9IElOVF9NQVgsCit9OworCitzdGF0aWMgc3NpemVfdCBzdG9yZV9zY2hlZF91c2Zf
dXBfbDBfcihzdHJ1Y3Qga29iamVjdCAqa29iaiwKKwkJCQkgICAgICAgc3RydWN0IGtvYmpfYXR0
cmlidXRlICphdHRyLAorCQkJCSAgICAgICBjb25zdCBjaGFyICpidWYsIHNpemVfdCBjb3VudCkK
K3sKKwlpbnQgdmFsID0gMDsKKwlpbnQgcmV0ID0gMDsKKworCXJldCA9IGtzdHJ0b2ludChidWYs
IDAsICZ2YWwpOworCWlmIChyZXQpCisJCXJldHVybiByZXQ7CisKKwlpZiAodmFsID09IDApIHsK
KwkJdXNmX3ZkZXYuc3lzY3RsX3NjaGVkX3VzZl91cF9sMCA9IHZhbDsKKwkJdXNmX3ZkZXYudXNm
X3VwX2wwID0gMDsKKwl9IGVsc2UgaWYgKCh2YWwgPiAwKSAmJiAodmFsIDw9IEJPT1NUX01BWF9W
KSkgeworCQl1c2ZfdmRldi5zeXNjdGxfc2NoZWRfdXNmX3VwX2wwID0gdmFsOworCQl1c2ZfdmRl
di51c2ZfdXBfbDAgPSBMRVZFTF9UT1AgLQorCQkJCURJVl9ST1VORF9VUCh2YWwsIEJPT1NUX01B
WF9WIC8gMik7CisJCXJldCA9IGNvdW50OworCX0gZWxzZSB7CisJCXByX2VycihVU0ZfVEFHICIl
ZCBzaG91bGQgZmFsbCBpbnRvIFslZCAlZF0iLAorCQkgICAgICAgdmFsLCAwLCBCT09TVF9NQVhf
Vik7CisJCXJldCA9IC1FSU5WQUw7CisJfQorCWlmICgodXNmX3ZkZXYuc3lzY3RsX3NjaGVkX3Vz
Zl91cF9sMCA9PSAwKSAmJgorCSAgICAodXNmX3ZkZXYuc3lzY3RsX3NjaGVkX3VzZl9kb3duID09
IDApKQorCQlzdGF0aWNfYnJhbmNoX2Rpc2FibGUoJmFkanVzdF90YXNrX3ByZWRfc2V0KTsKKwll
bHNlCisJCXN0YXRpY19icmFuY2hfZW5hYmxlKCZhZGp1c3RfdGFza19wcmVkX3NldCk7CisKKwly
ZXR1cm4gcmV0OworfQorCitzdGF0aWMgc3NpemVfdCBzdG9yZV9zY2hlZF91c2ZfZG93bl9yKHN0
cnVjdCBrb2JqZWN0ICprb2JqLAorCQkJCSAgICAgIHN0cnVjdCBrb2JqX2F0dHJpYnV0ZSAqYXR0
ciwKKwkJCQkgICAgICBjb25zdCBjaGFyICpidWYsIHNpemVfdCBjb3VudCkKK3sKKwlpbnQgdmFs
ID0gMDsKKwlpbnQgcmV0ID0gMDsKKworCXJldCA9IGtzdHJ0b2ludChidWYsIDAsICZ2YWwpOwor
CWlmIChyZXQpCisJCXJldHVybiByZXQ7CisKKwlpZiAoKHZhbCA+PSBCT09TVF9NSU5fVikgJiYg
KHZhbCA8PSAwKSkgeworCQl1c2ZfdmRldi5zeXNjdGxfc2NoZWRfdXNmX2Rvd24gPSB2YWw7CisJ
CXVzZl92ZGV2LnVzZl9kb3duID0gRElWX1JPVU5EX1VQKC12YWwsIC1CT09TVF9NSU5fViAvIDIp
OworCQlyZXQgPSBjb3VudDsKKwl9IGVsc2UgeworCQlwcl9lcnIoVVNGX1RBRyAiJWQgc2hvdWxk
IGZhbGwgaW50byBbJWQgJWRdIiwKKwkJICAgICAgIHZhbCwgQk9PU1RfTUlOX1YsIDApOworCQly
ZXQgPSAtRUlOVkFMOworCX0KKwlpZiAoKHVzZl92ZGV2LnN5c2N0bF9zY2hlZF91c2ZfdXBfbDAg
PT0gMCkgJiYKKwkgICAgKHVzZl92ZGV2LnN5c2N0bF9zY2hlZF91c2ZfZG93biA9PSAwKSkKKwkJ
c3RhdGljX2JyYW5jaF9kaXNhYmxlKCZhZGp1c3RfdGFza19wcmVkX3NldCk7CisJZWxzZQorCQlz
dGF0aWNfYnJhbmNoX2VuYWJsZSgmYWRqdXN0X3Rhc2tfcHJlZF9zZXQpOworCisJcmV0dXJuIHJl
dDsKK30KKworc3RhdGljIHNzaXplX3Qgc3RvcmVfc2NoZWRfdXNmX25vbl91eF9yKHN0cnVjdCBr
b2JqZWN0ICprb2JqLAorCQkJCQlzdHJ1Y3Qga29ial9hdHRyaWJ1dGUgKmF0dHIsCisJCQkJCWNv
bnN0IGNoYXIgKmJ1Ziwgc2l6ZV90IGNvdW50KQoreworCWludCB2YWwgPSAwOworCWludCByZXQg
PSAwOworCisJcmV0ID0ga3N0cnRvaW50KGJ1ZiwgMCwgJnZhbCk7CisJaWYgKHJldCkKKwkJcmV0
dXJuIHJldDsKKworCWlmICgodmFsID49IEJPT1NUX01JTl9WKSAmJiAodmFsIDw9IDApKSB7CisJ
CXVzZl92ZGV2LnN5c2N0bF9zY2hlZF91c2Zfbm9uX3V4ID0gdmFsOworCQl1c2ZfdmRldi51c2Zf
bm9uX3V4ID0gRElWX1JPVU5EX1VQKC12YWwsIC1CT09TVF9NSU5fViAvIDIpOworCQlyZXQgPSBj
b3VudDsKKwl9IGVsc2UgeworCQlwcl9lcnIoVVNGX1RBRyAiJWQgc2hvdWxkIGZhbGwgaW50byBb
JWQgJWRdIiwKKwkJICAgICAgIHZhbCwgQk9PU1RfTUlOX1YsIDApOworCQlyZXQgPSAtRUlOVkFM
OworCX0KKwlpZiAodXNmX3ZkZXYuc3lzY3RsX3NjaGVkX3VzZl9ub25fdXggPT0gMCkKKwkJc3Rh
dGljX2JyYW5jaF9kaXNhYmxlKCZhZGp1c3RfdGFza19wcmVkX3NldCk7CisJZWxzZQorCQlzdGF0
aWNfYnJhbmNoX2VuYWJsZSgmYWRqdXN0X3Rhc2tfcHJlZF9zZXQpOworCisJcmV0dXJuIHJldDsK
K30KKworI2RlZmluZSB1c2ZfYXR0cl9ydyhfbmFtZSkJCQkJCQlcCitzdGF0aWMgc3RydWN0IGtv
YmpfYXR0cmlidXRlIF9uYW1lID0JCQkJCVwKK19fQVRUUihfbmFtZSwgMDY2NCwgc2hvd18jI19u
YW1lLCBzdG9yZV8jI19uYW1lKQorCisjZGVmaW5lIHVzZl9zaG93X25vZGUoX25hbWUsIF92YWx1
ZSkJCQkJCVwKK3N0YXRpYyBzc2l6ZV90IHNob3dfIyNfbmFtZQkJCQkJCVwKKyhzdHJ1Y3Qga29i
amVjdCAqa29iaiwgc3RydWN0IGtvYmpfYXR0cmlidXRlICphdHRyLCAgY2hhciAqYnVmKQkJXAor
ewkJCQkJCQkJCVwKKwlyZXR1cm4gc3ByaW50ZihidWYsICIlZCIsIHVzZl92ZGV2LnN5c2N0bF8j
I192YWx1ZSk7CQlcCit9CisKK3VzZl9zaG93X25vZGUoc2NoZWRfdXNmX3VwX2wwX3IsIHNjaGVk
X3VzZl91cF9sMCk7Cit1c2Zfc2hvd19ub2RlKHNjaGVkX3VzZl9kb3duX3IsIHNjaGVkX3VzZl9k
b3duKTsKK3VzZl9zaG93X25vZGUoc2NoZWRfdXNmX25vbl91eF9yLCBzY2hlZF91c2Zfbm9uX3V4
KTsKKwordXNmX2F0dHJfcncoc2NoZWRfdXNmX3VwX2wwX3IpOwordXNmX2F0dHJfcncoc2NoZWRf
dXNmX2Rvd25fcik7Cit1c2ZfYXR0cl9ydyhzY2hlZF91c2Zfbm9uX3V4X3IpOworCitzdGF0aWMg
c3RydWN0IGF0dHJpYnV0ZSAqc2NoZWRfYXR0cnNbXSA9IHsKKwkmc2NoZWRfdXNmX3VwX2wwX3Iu
YXR0ciwKKwkmc2NoZWRfdXNmX2Rvd25fci5hdHRyLAorCSZzY2hlZF91c2Zfbm9uX3V4X3IuYXR0
ciwKKwlOVUxMLAorfTsKKworc3RhdGljIHN0cnVjdCBhdHRyaWJ1dGVfZ3JvdXAgc2NoZWRfYXR0
cl9ncm91cCA9IHsKKwkuYXR0cnMgPSBzY2hlZF9hdHRycywKK307CisKK3N0YXRpYyBpbnQgX19p
bml0IGludGVyYV9tb25pdG9yX2luaXQodm9pZCkKK3sKKwlpbnQgcmVzID0gLTE7CisJc3RydWN0
IGRldmljZSAqZGV2OworCisJcmVzID0gZmJfcmVnaXN0ZXJfY2xpZW50KCZ1c2ZfbGNkX25iKTsK
KwlpZiAocmVzIDwgMCkgeworCQlwcl9lcnIoIkZhaWxlZCB0byByZWdpc3RlciB1c2ZfbGNkX25i
IVxuIik7CisJCXJldHVybiByZXM7CisJfQorCisJLyoKKwkgKiBjcmVhdGUgYSBzY2hlZF91c2Yg
aW4gY3B1X3N1YnN5czoKKwkgKiAvc3lzL2RldmljZXMvc3lzdGVtL2NwdS9zY2hlZF91c2YvLi4u
CisJICovCisJZGV2ID0gY3B1X3N1YnN5cy5kZXZfcm9vdDsKKwlyZXMgPSBzeXNmc19jcmVhdGVf
Z3JvdXAoJmRldi0+a29iaiwgJnNjaGVkX2F0dHJfZ3JvdXApOworCWlmIChyZXMpIHsKKwkJZmJf
dW5yZWdpc3Rlcl9jbGllbnQoJnVzZl9sY2RfbmIpOworCQlyZXR1cm4gcmVzOworCX0KKwlzdGF0
aWNfYnJhbmNoX2Rpc2FibGUoJmFkanVzdF90YXNrX3ByZWRfc2V0KTsKKworCXJldHVybiByZXM7
Cit9CisKK21vZHVsZV9pbml0KGludGVyYV9tb25pdG9yX2luaXQpOworCitzdGF0aWMgdm9pZCBf
X2V4aXQgaW50ZXJhX21vbml0b3JfZXhpdCh2b2lkKQoreworCXN0cnVjdCBkZXZpY2UgKmRldjsK
KworCWRldiA9IGNwdV9zdWJzeXMuZGV2X3Jvb3Q7CisJc3lzZnNfcmVtb3ZlX2dyb3VwKCZkZXYt
PmtvYmosICZzY2hlZF9hdHRyX2dyb3VwKTsKKwlmYl91bnJlZ2lzdGVyX2NsaWVudCgmdXNmX2xj
ZF9uYik7CisJc3RhdGljX2JyYW5jaF9kaXNhYmxlKCZhZGp1c3RfdGFza19wcmVkX3NldCk7Cit9
CisKK21vZHVsZV9leGl0KGludGVyYV9tb25pdG9yX2V4aXQpOworCitNT0RVTEVfTElDRU5TRSgi
R1BMIik7CitNT0RVTEVfREVTQ1JJUFRJT04oIlhpYW9NaSBVU0YgU0NIRUQiKTsKK01PRFVMRV9B
VVRIT1IoIllhbmcgRG9uZ2RvbmcgPHlhbmdkb25nZG9uZ0B4aWFvbWkuY29tPiIpOwotLSAKMi43
LjQKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmRldmVs
IG1haWxpbmcgbGlzdApkZXZlbEBsaW51eGRyaXZlcnByb2plY3Qub3JnCmh0dHA6Ly9kcml2ZXJk
ZXYubGludXhkcml2ZXJwcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RyaXZlcmRldi1kZXZl
bAo=
